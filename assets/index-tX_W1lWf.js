function VO(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const o=Object.getOwnPropertyDescriptor(n,s);o&&Object.defineProperty(t,s,o.get?o:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}})();function If(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var im={exports:{}},Hl={},om={exports:{}},lt={};var yb;function UO(){if(yb)return lt;yb=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.iterator;function v(I){return I===null||typeof I!="object"?null:(I=g&&I[g]||I["@@iterator"],typeof I=="function"?I:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,b={};function j(I,q,te){this.props=I,this.context=q,this.refs=b,this.updater=te||w}j.prototype.isReactComponent={},j.prototype.setState=function(I,q){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,q,"setState")},j.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function N(){}N.prototype=j.prototype;function E(I,q,te){this.props=I,this.context=q,this.refs=b,this.updater=te||w}var k=E.prototype=new N;k.constructor=E,S(k,j.prototype),k.isPureReactComponent=!0;var P=Array.isArray,A=Object.prototype.hasOwnProperty,L={current:null},O={key:!0,ref:!0,__self:!0,__source:!0};function C(I,q,te){var ie,xe={},_e=null,ne=null;if(q!=null)for(ie in q.ref!==void 0&&(ne=q.ref),q.key!==void 0&&(_e=""+q.key),q)A.call(q,ie)&&!O.hasOwnProperty(ie)&&(xe[ie]=q[ie]);var ue=arguments.length-2;if(ue===1)xe.children=te;else if(1<ue){for(var we=Array(ue),Ee=0;Ee<ue;Ee++)we[Ee]=arguments[Ee+2];xe.children=we}if(I&&I.defaultProps)for(ie in ue=I.defaultProps,ue)xe[ie]===void 0&&(xe[ie]=ue[ie]);return{$$typeof:t,type:I,key:_e,ref:ne,props:xe,_owner:L.current}}function R(I,q){return{$$typeof:t,type:I.type,key:q,ref:I.ref,props:I.props,_owner:I._owner}}function M(I){return typeof I=="object"&&I!==null&&I.$$typeof===t}function H(I){var q={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(te){return q[te]})}var V=/\/+/g;function J(I,q){return typeof I=="object"&&I!==null&&I.key!=null?H(""+I.key):q.toString(36)}function z(I,q,te,ie,xe){var _e=typeof I;(_e==="undefined"||_e==="boolean")&&(I=null);var ne=!1;if(I===null)ne=!0;else switch(_e){case"string":case"number":ne=!0;break;case"object":switch(I.$$typeof){case t:case e:ne=!0}}if(ne)return ne=I,xe=xe(ne),I=ie===""?"."+J(ne,0):ie,P(xe)?(te="",I!=null&&(te=I.replace(V,"$&/")+"/"),z(xe,q,te,"",function(Ee){return Ee})):xe!=null&&(M(xe)&&(xe=R(xe,te+(!xe.key||ne&&ne.key===xe.key?"":(""+xe.key).replace(V,"$&/")+"/")+I)),q.push(xe)),1;if(ne=0,ie=ie===""?".":ie+":",P(I))for(var ue=0;ue<I.length;ue++){_e=I[ue];var we=ie+J(_e,ue);ne+=z(_e,q,te,we,xe)}else if(we=v(I),typeof we=="function")for(I=we.call(I),ue=0;!(_e=I.next()).done;)_e=_e.value,we=ie+J(_e,ue++),ne+=z(_e,q,te,we,xe);else if(_e==="object")throw q=String(I),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.");return ne}function oe(I,q,te){if(I==null)return I;var ie=[],xe=0;return z(I,ie,"","",function(_e){return q.call(te,_e,xe++)}),ie}function se(I){if(I._status===-1){var q=I._result;q=q(),q.then(function(te){(I._status===0||I._status===-1)&&(I._status=1,I._result=te)},function(te){(I._status===0||I._status===-1)&&(I._status=2,I._result=te)}),I._status===-1&&(I._status=0,I._result=q)}if(I._status===1)return I._result.default;throw I._result}var X={current:null},U={transition:null},F={ReactCurrentDispatcher:X,ReactCurrentBatchConfig:U,ReactCurrentOwner:L};function K(){throw Error("act(...) is not supported in production builds of React.")}return lt.Children={map:oe,forEach:function(I,q,te){oe(I,function(){q.apply(this,arguments)},te)},count:function(I){var q=0;return oe(I,function(){q++}),q},toArray:function(I){return oe(I,function(q){return q})||[]},only:function(I){if(!M(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},lt.Component=j,lt.Fragment=r,lt.Profiler=s,lt.PureComponent=E,lt.StrictMode=n,lt.Suspense=f,lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F,lt.act=K,lt.cloneElement=function(I,q,te){if(I==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+I+".");var ie=S({},I.props),xe=I.key,_e=I.ref,ne=I._owner;if(q!=null){if(q.ref!==void 0&&(_e=q.ref,ne=L.current),q.key!==void 0&&(xe=""+q.key),I.type&&I.type.defaultProps)var ue=I.type.defaultProps;for(we in q)A.call(q,we)&&!O.hasOwnProperty(we)&&(ie[we]=q[we]===void 0&&ue!==void 0?ue[we]:q[we])}var we=arguments.length-2;if(we===1)ie.children=te;else if(1<we){ue=Array(we);for(var Ee=0;Ee<we;Ee++)ue[Ee]=arguments[Ee+2];ie.children=ue}return{$$typeof:t,type:I.type,key:xe,ref:_e,props:ie,_owner:ne}},lt.createContext=function(I){return I={$$typeof:c,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},I.Provider={$$typeof:o,_context:I},I.Consumer=I},lt.createElement=C,lt.createFactory=function(I){var q=C.bind(null,I);return q.type=I,q},lt.createRef=function(){return{current:null}},lt.forwardRef=function(I){return{$$typeof:u,render:I}},lt.isValidElement=M,lt.lazy=function(I){return{$$typeof:p,_payload:{_status:-1,_result:I},_init:se}},lt.memo=function(I,q){return{$$typeof:h,type:I,compare:q===void 0?null:q}},lt.startTransition=function(I){var q=U.transition;U.transition={};try{I()}finally{U.transition=q}},lt.unstable_act=K,lt.useCallback=function(I,q){return X.current.useCallback(I,q)},lt.useContext=function(I){return X.current.useContext(I)},lt.useDebugValue=function(){},lt.useDeferredValue=function(I){return X.current.useDeferredValue(I)},lt.useEffect=function(I,q){return X.current.useEffect(I,q)},lt.useId=function(){return X.current.useId()},lt.useImperativeHandle=function(I,q,te){return X.current.useImperativeHandle(I,q,te)},lt.useInsertionEffect=function(I,q){return X.current.useInsertionEffect(I,q)},lt.useLayoutEffect=function(I,q){return X.current.useLayoutEffect(I,q)},lt.useMemo=function(I,q){return X.current.useMemo(I,q)},lt.useReducer=function(I,q,te){return X.current.useReducer(I,q,te)},lt.useRef=function(I){return X.current.useRef(I)},lt.useState=function(I){return X.current.useState(I)},lt.useSyncExternalStore=function(I,q,te){return X.current.useSyncExternalStore(I,q,te)},lt.useTransition=function(){return X.current.useTransition()},lt.version="18.3.1",lt}var vb;function Cy(){return vb||(vb=1,om.exports=UO()),om.exports}var xb;function BO(){if(xb)return Hl;xb=1;var t=Cy(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function c(u,f,h){var p,g={},v=null,w=null;h!==void 0&&(v=""+h),f.key!==void 0&&(v=""+f.key),f.ref!==void 0&&(w=f.ref);for(p in f)n.call(f,p)&&!o.hasOwnProperty(p)&&(g[p]=f[p]);if(u&&u.defaultProps)for(p in f=u.defaultProps,f)g[p]===void 0&&(g[p]=f[p]);return{$$typeof:e,type:u,key:v,ref:w,props:g,_owner:s.current}}return Hl.Fragment=r,Hl.jsx=c,Hl.jsxs=c,Hl}var wb;function zO(){return wb||(wb=1,im.exports=BO()),im.exports}var a=zO(),pd={},am={exports:{}},Xr={},lm={exports:{}},cm={};var bb;function WO(){return bb||(bb=1,(function(t){function e(U,F){var K=U.length;U.push(F);e:for(;0<K;){var I=K-1>>>1,q=U[I];if(0<s(q,F))U[I]=F,U[K]=q,K=I;else break e}}function r(U){return U.length===0?null:U[0]}function n(U){if(U.length===0)return null;var F=U[0],K=U.pop();if(K!==F){U[0]=K;e:for(var I=0,q=U.length,te=q>>>1;I<te;){var ie=2*(I+1)-1,xe=U[ie],_e=ie+1,ne=U[_e];if(0>s(xe,K))_e<q&&0>s(ne,xe)?(U[I]=ne,U[_e]=K,I=_e):(U[I]=xe,U[ie]=K,I=ie);else if(_e<q&&0>s(ne,K))U[I]=ne,U[_e]=K,I=_e;else break e}}return F}function s(U,F){var K=U.sortIndex-F.sortIndex;return K!==0?K:U.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var c=Date,u=c.now();t.unstable_now=function(){return c.now()-u}}var f=[],h=[],p=1,g=null,v=3,w=!1,S=!1,b=!1,j=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(U){for(var F=r(h);F!==null;){if(F.callback===null)n(h);else if(F.startTime<=U)n(h),F.sortIndex=F.expirationTime,e(f,F);else break;F=r(h)}}function P(U){if(b=!1,k(U),!S)if(r(f)!==null)S=!0,se(A);else{var F=r(h);F!==null&&X(P,F.startTime-U)}}function A(U,F){S=!1,b&&(b=!1,N(C),C=-1),w=!0;var K=v;try{for(k(F),g=r(f);g!==null&&(!(g.expirationTime>F)||U&&!H());){var I=g.callback;if(typeof I=="function"){g.callback=null,v=g.priorityLevel;var q=I(g.expirationTime<=F);F=t.unstable_now(),typeof q=="function"?g.callback=q:g===r(f)&&n(f),k(F)}else n(f);g=r(f)}if(g!==null)var te=!0;else{var ie=r(h);ie!==null&&X(P,ie.startTime-F),te=!1}return te}finally{g=null,v=K,w=!1}}var L=!1,O=null,C=-1,R=5,M=-1;function H(){return!(t.unstable_now()-M<R)}function V(){if(O!==null){var U=t.unstable_now();M=U;var F=!0;try{F=O(!0,U)}finally{F?J():(L=!1,O=null)}}else L=!1}var J;if(typeof E=="function")J=function(){E(V)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,oe=z.port2;z.port1.onmessage=V,J=function(){oe.postMessage(null)}}else J=function(){j(V,0)};function se(U){O=U,L||(L=!0,J())}function X(U,F){C=j(function(){U(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){S||w||(S=!0,se(A))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return r(f)},t.unstable_next=function(U){switch(v){case 1:case 2:case 3:var F=3;break;default:F=v}var K=v;v=F;try{return U()}finally{v=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,F){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var K=v;v=U;try{return F()}finally{v=K}},t.unstable_scheduleCallback=function(U,F,K){var I=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?I+K:I):K=I,U){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=K+q,U={id:p++,callback:F,priorityLevel:U,startTime:K,expirationTime:q,sortIndex:-1},K>I?(U.sortIndex=K,e(h,U),r(f)===null&&U===r(h)&&(b?(N(C),C=-1):b=!0,X(P,K-I))):(U.sortIndex=q,e(f,U),S||w||(S=!0,se(A))),U},t.unstable_shouldYield=H,t.unstable_wrapCallback=function(U){var F=v;return function(){var K=v;v=F;try{return U.apply(this,arguments)}finally{v=K}}}})(cm)),cm}var _b;function qO(){return _b||(_b=1,lm.exports=WO()),lm.exports}var Sb;function HO(){if(Sb)return Xr;Sb=1;var t=Cy(),e=qO();function r(i){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+i,d=1;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+i+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,s={};function o(i,l){c(i,l),c(i+"Capture",l)}function c(i,l){for(s[i]=l,i=0;i<l.length;i++)n.add(l[i])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},g={};function v(i){return f.call(g,i)?!0:f.call(p,i)?!1:h.test(i)?g[i]=!0:(p[i]=!0,!1)}function w(i,l,d,m){if(d!==null&&d.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return m?!1:d!==null?!d.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function S(i,l,d,m){if(l===null||typeof l>"u"||w(i,l,d,m))return!0;if(m)return!1;if(d!==null)switch(d.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function b(i,l,d,m,x,_,T){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=m,this.attributeNamespace=x,this.mustUseProperty=d,this.propertyName=i,this.type=l,this.sanitizeURL=_,this.removeEmptyString=T}var j={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){j[i]=new b(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var l=i[0];j[l]=new b(l,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){j[i]=new b(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){j[i]=new b(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){j[i]=new b(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){j[i]=new b(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){j[i]=new b(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){j[i]=new b(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){j[i]=new b(i,5,!1,i.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function E(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var l=i.replace(N,E);j[l]=new b(l,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var l=i.replace(N,E);j[l]=new b(l,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var l=i.replace(N,E);j[l]=new b(l,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){j[i]=new b(i,1,!1,i.toLowerCase(),null,!1,!1)}),j.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){j[i]=new b(i,1,!1,i.toLowerCase(),null,!0,!0)});function k(i,l,d,m){var x=j.hasOwnProperty(l)?j[l]:null;(x!==null?x.type!==0:m||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(S(l,d,x,m)&&(d=null),m||x===null?v(l)&&(d===null?i.removeAttribute(l):i.setAttribute(l,""+d)):x.mustUseProperty?i[x.propertyName]=d===null?x.type===3?!1:"":d:(l=x.attributeName,m=x.attributeNamespace,d===null?i.removeAttribute(l):(x=x.type,d=x===3||x===4&&d===!0?"":""+d,m?i.setAttributeNS(m,l,d):i.setAttribute(l,d))))}var P=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,A=Symbol.for("react.element"),L=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),H=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),oe=Symbol.for("react.memo"),se=Symbol.for("react.lazy"),X=Symbol.for("react.offscreen"),U=Symbol.iterator;function F(i){return i===null||typeof i!="object"?null:(i=U&&i[U]||i["@@iterator"],typeof i=="function"?i:null)}var K=Object.assign,I;function q(i){if(I===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);I=l&&l[1]||""}return`
`+I+i}var te=!1;function ie(i,l){if(!i||te)return"";te=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(ee){var m=ee}Reflect.construct(i,[],l)}else{try{l.call()}catch(ee){m=ee}i.call(l.prototype)}else{try{throw Error()}catch(ee){m=ee}i()}}catch(ee){if(ee&&m&&typeof ee.stack=="string"){for(var x=ee.stack.split(`
`),_=m.stack.split(`
`),T=x.length-1,D=_.length-1;1<=T&&0<=D&&x[T]!==_[D];)D--;for(;1<=T&&0<=D;T--,D--)if(x[T]!==_[D]){if(T!==1||D!==1)do if(T--,D--,0>D||x[T]!==_[D]){var B=`
`+x[T].replace(" at new "," at ");return i.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",i.displayName)),B}while(1<=T&&0<=D);break}}}finally{te=!1,Error.prepareStackTrace=d}return(i=i?i.displayName||i.name:"")?q(i):""}function xe(i){switch(i.tag){case 5:return q(i.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return i=ie(i.type,!1),i;case 11:return i=ie(i.type.render,!1),i;case 1:return i=ie(i.type,!0),i;default:return""}}function _e(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case O:return"Fragment";case L:return"Portal";case R:return"Profiler";case C:return"StrictMode";case J:return"Suspense";case z:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case H:return(i.displayName||"Context")+".Consumer";case M:return(i._context.displayName||"Context")+".Provider";case V:var l=i.render;return i=i.displayName,i||(i=l.displayName||l.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case oe:return l=i.displayName||null,l!==null?l:_e(i.type)||"Memo";case se:l=i._payload,i=i._init;try{return _e(i(l))}catch{}}return null}function ne(i){var l=i.type;switch(i.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=l.render,i=i.displayName||i.name||"",l.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _e(l);case 8:return l===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function ue(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function we(i){var l=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Ee(i){var l=we(i)?"checked":"value",d=Object.getOwnPropertyDescriptor(i.constructor.prototype,l),m=""+i[l];if(!i.hasOwnProperty(l)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var x=d.get,_=d.set;return Object.defineProperty(i,l,{configurable:!0,get:function(){return x.call(this)},set:function(T){m=""+T,_.call(this,T)}}),Object.defineProperty(i,l,{enumerable:d.enumerable}),{getValue:function(){return m},setValue:function(T){m=""+T},stopTracking:function(){i._valueTracker=null,delete i[l]}}}}function je(i){i._valueTracker||(i._valueTracker=Ee(i))}function $e(i){if(!i)return!1;var l=i._valueTracker;if(!l)return!0;var d=l.getValue(),m="";return i&&(m=we(i)?i.checked?"true":"false":i.value),i=m,i!==d?(l.setValue(i),!0):!1}function tt(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function rt(i,l){var d=l.checked;return K({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??i._wrapperState.initialChecked})}function st(i,l){var d=l.defaultValue==null?"":l.defaultValue,m=l.checked!=null?l.checked:l.defaultChecked;d=ue(l.value!=null?l.value:d),i._wrapperState={initialChecked:m,initialValue:d,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function qe(i,l){l=l.checked,l!=null&&k(i,"checked",l,!1)}function wt(i,l){qe(i,l);var d=ue(l.value),m=l.type;if(d!=null)m==="number"?(d===0&&i.value===""||i.value!=d)&&(i.value=""+d):i.value!==""+d&&(i.value=""+d);else if(m==="submit"||m==="reset"){i.removeAttribute("value");return}l.hasOwnProperty("value")?dt(i,l.type,d):l.hasOwnProperty("defaultValue")&&dt(i,l.type,ue(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(i.defaultChecked=!!l.defaultChecked)}function at(i,l,d){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var m=l.type;if(!(m!=="submit"&&m!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+i._wrapperState.initialValue,d||l===i.value||(i.value=l),i.defaultValue=l}d=i.name,d!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,d!==""&&(i.name=d)}function dt(i,l,d){(l!=="number"||tt(i.ownerDocument)!==i)&&(d==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+d&&(i.defaultValue=""+d))}var $=Array.isArray;function G(i,l,d,m){if(i=i.options,l){l={};for(var x=0;x<d.length;x++)l["$"+d[x]]=!0;for(d=0;d<i.length;d++)x=l.hasOwnProperty("$"+i[d].value),i[d].selected!==x&&(i[d].selected=x),x&&m&&(i[d].defaultSelected=!0)}else{for(d=""+ue(d),l=null,x=0;x<i.length;x++){if(i[x].value===d){i[x].selected=!0,m&&(i[x].defaultSelected=!0);return}l!==null||i[x].disabled||(l=i[x])}l!==null&&(l.selected=!0)}}function re(i,l){if(l.dangerouslySetInnerHTML!=null)throw Error(r(91));return K({},l,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function ve(i,l){var d=l.value;if(d==null){if(d=l.children,l=l.defaultValue,d!=null){if(l!=null)throw Error(r(92));if($(d)){if(1<d.length)throw Error(r(93));d=d[0]}l=d}l==null&&(l=""),d=l}i._wrapperState={initialValue:ue(d)}}function de(i,l){var d=ue(l.value),m=ue(l.defaultValue);d!=null&&(d=""+d,d!==i.value&&(i.value=d),l.defaultValue==null&&i.defaultValue!==d&&(i.defaultValue=d)),m!=null&&(i.defaultValue=""+m)}function ce(i){var l=i.textContent;l===i._wrapperState.initialValue&&l!==""&&l!==null&&(i.value=l)}function pe(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ve(i,l){return i==null||i==="http://www.w3.org/1999/xhtml"?pe(l):i==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Xe,$t=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,d,m,x){MSApp.execUnsafeLocalFunction(function(){return i(l,d,m,x)})}:i})(function(i,l){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=l;else{for(Xe=Xe||document.createElement("div"),Xe.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=Xe.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;l.firstChild;)i.appendChild(l.firstChild)}});function ir(i,l){if(l){var d=i.firstChild;if(d&&d===i.lastChild&&d.nodeType===3){d.nodeValue=l;return}}i.textContent=l}var Pt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pr=["Webkit","ms","Moz","O"];Object.keys(Pt).forEach(function(i){pr.forEach(function(l){l=l+i.charAt(0).toUpperCase()+i.substring(1),Pt[l]=Pt[i]})});function jr(i,l,d){return l==null||typeof l=="boolean"||l===""?"":d||typeof l!="number"||l===0||Pt.hasOwnProperty(i)&&Pt[i]?(""+l).trim():l+"px"}function kr(i,l){i=i.style;for(var d in l)if(l.hasOwnProperty(d)){var m=d.indexOf("--")===0,x=jr(d,l[d],m);d==="float"&&(d="cssFloat"),m?i.setProperty(d,x):i[d]=x}}var Vo=K({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function on(i,l){if(l){if(Vo[i]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(r(137,i));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(r(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(r(61))}if(l.style!=null&&typeof l.style!="object")throw Error(r(62))}}function qi(i,l){if(i.indexOf("-")===-1)return typeof l.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hs=null;function Uo(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Bo=null,Ks=null,ss=null;function In(i){if(i=Pl(i)){if(typeof Bo!="function")throw Error(r(280));var l=i.stateNode;l&&(l=Tu(l),Bo(i.stateNode,i.type,l))}}function ou(i){Ks?ss?ss.push(i):ss=[i]:Ks=i}function Ke(){if(Ks){var i=Ks,l=ss;if(ss=Ks=null,In(i),l)for(i=0;i<l.length;i++)In(l[i])}}function gt(i,l){return i(l)}function bt(){}var Ar=!1;function qr(i,l,d){if(Ar)return i(l,d);Ar=!0;try{return gt(i,l,d)}finally{Ar=!1,(Ks!==null||ss!==null)&&(bt(),Ke())}}function Hr(i,l){var d=i.stateNode;if(d===null)return null;var m=Tu(d);if(m===null)return null;d=m[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(i=i.type,m=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!m;break e;default:i=!1}if(i)return null;if(d&&typeof d!="function")throw Error(r(231,l,typeof d));return d}var Mn=!1;if(u)try{var mr={};Object.defineProperty(mr,"passive",{get:function(){Mn=!0}}),window.addEventListener("test",mr,mr),window.removeEventListener("test",mr,mr)}catch{Mn=!1}function is(i,l,d,m,x,_,T,D,B){var ee=Array.prototype.slice.call(arguments,3);try{l.apply(d,ee)}catch(le){this.onError(le)}}var fl=!1,au=null,lu=!1,jh=null,KP={onError:function(i){fl=!0,au=i}};function GP(i,l,d,m,x,_,T,D,B){fl=!1,au=null,is.apply(KP,arguments)}function YP(i,l,d,m,x,_,T,D,B){if(GP.apply(this,arguments),fl){if(fl){var ee=au;fl=!1,au=null}else throw Error(r(198));lu||(lu=!0,jh=ee)}}function Hi(i){var l=i,d=i;if(i.alternate)for(;l.return;)l=l.return;else{i=l;do l=i,(l.flags&4098)!==0&&(d=l.return),i=l.return;while(i)}return l.tag===3?d:null}function Vx(i){if(i.tag===13){var l=i.memoizedState;if(l===null&&(i=i.alternate,i!==null&&(l=i.memoizedState)),l!==null)return l.dehydrated}return null}function Ux(i){if(Hi(i)!==i)throw Error(r(188))}function QP(i){var l=i.alternate;if(!l){if(l=Hi(i),l===null)throw Error(r(188));return l!==i?null:i}for(var d=i,m=l;;){var x=d.return;if(x===null)break;var _=x.alternate;if(_===null){if(m=x.return,m!==null){d=m;continue}break}if(x.child===_.child){for(_=x.child;_;){if(_===d)return Ux(x),i;if(_===m)return Ux(x),l;_=_.sibling}throw Error(r(188))}if(d.return!==m.return)d=x,m=_;else{for(var T=!1,D=x.child;D;){if(D===d){T=!0,d=x,m=_;break}if(D===m){T=!0,m=x,d=_;break}D=D.sibling}if(!T){for(D=_.child;D;){if(D===d){T=!0,d=_,m=x;break}if(D===m){T=!0,m=_,d=x;break}D=D.sibling}if(!T)throw Error(r(189))}}if(d.alternate!==m)throw Error(r(190))}if(d.tag!==3)throw Error(r(188));return d.stateNode.current===d?i:l}function Bx(i){return i=QP(i),i!==null?zx(i):null}function zx(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var l=zx(i);if(l!==null)return l;i=i.sibling}return null}var Wx=e.unstable_scheduleCallback,qx=e.unstable_cancelCallback,ZP=e.unstable_shouldYield,XP=e.unstable_requestPaint,Vt=e.unstable_now,JP=e.unstable_getCurrentPriorityLevel,kh=e.unstable_ImmediatePriority,Hx=e.unstable_UserBlockingPriority,cu=e.unstable_NormalPriority,eA=e.unstable_LowPriority,Kx=e.unstable_IdlePriority,uu=null,os=null;function tA(i){if(os&&typeof os.onCommitFiberRoot=="function")try{os.onCommitFiberRoot(uu,i,void 0,(i.current.flags&128)===128)}catch{}}var Dn=Math.clz32?Math.clz32:sA,rA=Math.log,nA=Math.LN2;function sA(i){return i>>>=0,i===0?32:31-(rA(i)/nA|0)|0}var du=64,fu=4194304;function hl(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function hu(i,l){var d=i.pendingLanes;if(d===0)return 0;var m=0,x=i.suspendedLanes,_=i.pingedLanes,T=d&268435455;if(T!==0){var D=T&~x;D!==0?m=hl(D):(_&=T,_!==0&&(m=hl(_)))}else T=d&~x,T!==0?m=hl(T):_!==0&&(m=hl(_));if(m===0)return 0;if(l!==0&&l!==m&&(l&x)===0&&(x=m&-m,_=l&-l,x>=_||x===16&&(_&4194240)!==0))return l;if((m&4)!==0&&(m|=d&16),l=i.entangledLanes,l!==0)for(i=i.entanglements,l&=m;0<l;)d=31-Dn(l),x=1<<d,m|=i[d],l&=~x;return m}function iA(i,l){switch(i){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function oA(i,l){for(var d=i.suspendedLanes,m=i.pingedLanes,x=i.expirationTimes,_=i.pendingLanes;0<_;){var T=31-Dn(_),D=1<<T,B=x[T];B===-1?((D&d)===0||(D&m)!==0)&&(x[T]=iA(D,l)):B<=l&&(i.expiredLanes|=D),_&=~D}}function Eh(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Gx(){var i=du;return du<<=1,(du&4194240)===0&&(du=64),i}function Ch(i){for(var l=[],d=0;31>d;d++)l.push(i);return l}function pl(i,l,d){i.pendingLanes|=l,l!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,l=31-Dn(l),i[l]=d}function aA(i,l){var d=i.pendingLanes&~l;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=l,i.mutableReadLanes&=l,i.entangledLanes&=l,l=i.entanglements;var m=i.eventTimes;for(i=i.expirationTimes;0<d;){var x=31-Dn(d),_=1<<x;l[x]=0,m[x]=-1,i[x]=-1,d&=~_}}function Nh(i,l){var d=i.entangledLanes|=l;for(i=i.entanglements;d;){var m=31-Dn(d),x=1<<m;x&l|i[m]&l&&(i[m]|=l),d&=~x}}var yt=0;function Yx(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var Qx,Th,Zx,Xx,Jx,Rh=!1,pu=[],Gs=null,Ys=null,Qs=null,ml=new Map,gl=new Map,Zs=[],lA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function e0(i,l){switch(i){case"focusin":case"focusout":Gs=null;break;case"dragenter":case"dragleave":Ys=null;break;case"mouseover":case"mouseout":Qs=null;break;case"pointerover":case"pointerout":ml.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":gl.delete(l.pointerId)}}function yl(i,l,d,m,x,_){return i===null||i.nativeEvent!==_?(i={blockedOn:l,domEventName:d,eventSystemFlags:m,nativeEvent:_,targetContainers:[x]},l!==null&&(l=Pl(l),l!==null&&Th(l)),i):(i.eventSystemFlags|=m,l=i.targetContainers,x!==null&&l.indexOf(x)===-1&&l.push(x),i)}function cA(i,l,d,m,x){switch(l){case"focusin":return Gs=yl(Gs,i,l,d,m,x),!0;case"dragenter":return Ys=yl(Ys,i,l,d,m,x),!0;case"mouseover":return Qs=yl(Qs,i,l,d,m,x),!0;case"pointerover":var _=x.pointerId;return ml.set(_,yl(ml.get(_)||null,i,l,d,m,x)),!0;case"gotpointercapture":return _=x.pointerId,gl.set(_,yl(gl.get(_)||null,i,l,d,m,x)),!0}return!1}function t0(i){var l=Ki(i.target);if(l!==null){var d=Hi(l);if(d!==null){if(l=d.tag,l===13){if(l=Vx(d),l!==null){i.blockedOn=l,Jx(i.priority,function(){Zx(d)});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){i.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}i.blockedOn=null}function mu(i){if(i.blockedOn!==null)return!1;for(var l=i.targetContainers;0<l.length;){var d=Ah(i.domEventName,i.eventSystemFlags,l[0],i.nativeEvent);if(d===null){d=i.nativeEvent;var m=new d.constructor(d.type,d);Hs=m,d.target.dispatchEvent(m),Hs=null}else return l=Pl(d),l!==null&&Th(l),i.blockedOn=d,!1;l.shift()}return!0}function r0(i,l,d){mu(i)&&d.delete(l)}function uA(){Rh=!1,Gs!==null&&mu(Gs)&&(Gs=null),Ys!==null&&mu(Ys)&&(Ys=null),Qs!==null&&mu(Qs)&&(Qs=null),ml.forEach(r0),gl.forEach(r0)}function vl(i,l){i.blockedOn===l&&(i.blockedOn=null,Rh||(Rh=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,uA)))}function xl(i){function l(x){return vl(x,i)}if(0<pu.length){vl(pu[0],i);for(var d=1;d<pu.length;d++){var m=pu[d];m.blockedOn===i&&(m.blockedOn=null)}}for(Gs!==null&&vl(Gs,i),Ys!==null&&vl(Ys,i),Qs!==null&&vl(Qs,i),ml.forEach(l),gl.forEach(l),d=0;d<Zs.length;d++)m=Zs[d],m.blockedOn===i&&(m.blockedOn=null);for(;0<Zs.length&&(d=Zs[0],d.blockedOn===null);)t0(d),d.blockedOn===null&&Zs.shift()}var zo=P.ReactCurrentBatchConfig,gu=!0;function dA(i,l,d,m){var x=yt,_=zo.transition;zo.transition=null;try{yt=1,Ph(i,l,d,m)}finally{yt=x,zo.transition=_}}function fA(i,l,d,m){var x=yt,_=zo.transition;zo.transition=null;try{yt=4,Ph(i,l,d,m)}finally{yt=x,zo.transition=_}}function Ph(i,l,d,m){if(gu){var x=Ah(i,l,d,m);if(x===null)Yh(i,l,m,yu,d),e0(i,m);else if(cA(x,i,l,d,m))m.stopPropagation();else if(e0(i,m),l&4&&-1<lA.indexOf(i)){for(;x!==null;){var _=Pl(x);if(_!==null&&Qx(_),_=Ah(i,l,d,m),_===null&&Yh(i,l,m,yu,d),_===x)break;x=_}x!==null&&m.stopPropagation()}else Yh(i,l,m,null,d)}}var yu=null;function Ah(i,l,d,m){if(yu=null,i=Uo(m),i=Ki(i),i!==null)if(l=Hi(i),l===null)i=null;else if(d=l.tag,d===13){if(i=Vx(l),i!==null)return i;i=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;i=null}else l!==i&&(i=null);return yu=i,null}function n0(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(JP()){case kh:return 1;case Hx:return 4;case cu:case eA:return 16;case Kx:return 536870912;default:return 16}default:return 16}}var Xs=null,Oh=null,vu=null;function s0(){if(vu)return vu;var i,l=Oh,d=l.length,m,x="value"in Xs?Xs.value:Xs.textContent,_=x.length;for(i=0;i<d&&l[i]===x[i];i++);var T=d-i;for(m=1;m<=T&&l[d-m]===x[_-m];m++);return vu=x.slice(i,1<m?1-m:void 0)}function xu(i){var l=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&l===13&&(i=13)):i=l,i===10&&(i=13),32<=i||i===13?i:0}function wu(){return!0}function i0(){return!1}function an(i){function l(d,m,x,_,T){this._reactName=d,this._targetInst=x,this.type=m,this.nativeEvent=_,this.target=T,this.currentTarget=null;for(var D in i)i.hasOwnProperty(D)&&(d=i[D],this[D]=d?d(_):_[D]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?wu:i0,this.isPropagationStopped=i0,this}return K(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=wu)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=wu)},persist:function(){},isPersistent:wu}),l}var Wo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ih=an(Wo),wl=K({},Wo,{view:0,detail:0}),hA=an(wl),Mh,Dh,bl,bu=K({},wl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fh,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==bl&&(bl&&i.type==="mousemove"?(Mh=i.screenX-bl.screenX,Dh=i.screenY-bl.screenY):Dh=Mh=0,bl=i),Mh)},movementY:function(i){return"movementY"in i?i.movementY:Dh}}),o0=an(bu),pA=K({},bu,{dataTransfer:0}),mA=an(pA),gA=K({},wl,{relatedTarget:0}),Lh=an(gA),yA=K({},Wo,{animationName:0,elapsedTime:0,pseudoElement:0}),vA=an(yA),xA=K({},Wo,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),wA=an(xA),bA=K({},Wo,{data:0}),a0=an(bA),_A={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},SA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kA(i){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(i):(i=jA[i])?!!l[i]:!1}function Fh(){return kA}var EA=K({},wl,{key:function(i){if(i.key){var l=_A[i.key]||i.key;if(l!=="Unidentified")return l}return i.type==="keypress"?(i=xu(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?SA[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fh,charCode:function(i){return i.type==="keypress"?xu(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?xu(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),CA=an(EA),NA=K({},bu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),l0=an(NA),TA=K({},wl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fh}),RA=an(TA),PA=K({},Wo,{propertyName:0,elapsedTime:0,pseudoElement:0}),AA=an(PA),OA=K({},bu,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),IA=an(OA),MA=[9,13,27,32],$h=u&&"CompositionEvent"in window,_l=null;u&&"documentMode"in document&&(_l=document.documentMode);var DA=u&&"TextEvent"in window&&!_l,c0=u&&(!$h||_l&&8<_l&&11>=_l),u0=" ",d0=!1;function f0(i,l){switch(i){case"keyup":return MA.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function h0(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var qo=!1;function LA(i,l){switch(i){case"compositionend":return h0(l);case"keypress":return l.which!==32?null:(d0=!0,u0);case"textInput":return i=l.data,i===u0&&d0?null:i;default:return null}}function FA(i,l){if(qo)return i==="compositionend"||!$h&&f0(i,l)?(i=s0(),vu=Oh=Xs=null,qo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return c0&&l.locale!=="ko"?null:l.data;default:return null}}var $A={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function p0(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l==="input"?!!$A[i.type]:l==="textarea"}function m0(i,l,d,m){ou(m),l=Eu(l,"onChange"),0<l.length&&(d=new Ih("onChange","change",null,d,m),i.push({event:d,listeners:l}))}var Sl=null,jl=null;function VA(i){O0(i,0)}function _u(i){var l=Qo(i);if($e(l))return i}function UA(i,l){if(i==="change")return l}var g0=!1;if(u){var Vh;if(u){var Uh="oninput"in document;if(!Uh){var y0=document.createElement("div");y0.setAttribute("oninput","return;"),Uh=typeof y0.oninput=="function"}Vh=Uh}else Vh=!1;g0=Vh&&(!document.documentMode||9<document.documentMode)}function v0(){Sl&&(Sl.detachEvent("onpropertychange",x0),jl=Sl=null)}function x0(i){if(i.propertyName==="value"&&_u(jl)){var l=[];m0(l,jl,i,Uo(i)),qr(VA,l)}}function BA(i,l,d){i==="focusin"?(v0(),Sl=l,jl=d,Sl.attachEvent("onpropertychange",x0)):i==="focusout"&&v0()}function zA(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return _u(jl)}function WA(i,l){if(i==="click")return _u(l)}function qA(i,l){if(i==="input"||i==="change")return _u(l)}function HA(i,l){return i===l&&(i!==0||1/i===1/l)||i!==i&&l!==l}var Ln=typeof Object.is=="function"?Object.is:HA;function kl(i,l){if(Ln(i,l))return!0;if(typeof i!="object"||i===null||typeof l!="object"||l===null)return!1;var d=Object.keys(i),m=Object.keys(l);if(d.length!==m.length)return!1;for(m=0;m<d.length;m++){var x=d[m];if(!f.call(l,x)||!Ln(i[x],l[x]))return!1}return!0}function w0(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function b0(i,l){var d=w0(i);i=0;for(var m;d;){if(d.nodeType===3){if(m=i+d.textContent.length,i<=l&&m>=l)return{node:d,offset:l-i};i=m}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=w0(d)}}function _0(i,l){return i&&l?i===l?!0:i&&i.nodeType===3?!1:l&&l.nodeType===3?_0(i,l.parentNode):"contains"in i?i.contains(l):i.compareDocumentPosition?!!(i.compareDocumentPosition(l)&16):!1:!1}function S0(){for(var i=window,l=tt();l instanceof i.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch{d=!1}if(d)i=l.contentWindow;else break;l=tt(i.document)}return l}function Bh(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l&&(l==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||l==="textarea"||i.contentEditable==="true")}function KA(i){var l=S0(),d=i.focusedElem,m=i.selectionRange;if(l!==d&&d&&d.ownerDocument&&_0(d.ownerDocument.documentElement,d)){if(m!==null&&Bh(d)){if(l=m.start,i=m.end,i===void 0&&(i=l),"selectionStart"in d)d.selectionStart=l,d.selectionEnd=Math.min(i,d.value.length);else if(i=(l=d.ownerDocument||document)&&l.defaultView||window,i.getSelection){i=i.getSelection();var x=d.textContent.length,_=Math.min(m.start,x);m=m.end===void 0?_:Math.min(m.end,x),!i.extend&&_>m&&(x=m,m=_,_=x),x=b0(d,_);var T=b0(d,m);x&&T&&(i.rangeCount!==1||i.anchorNode!==x.node||i.anchorOffset!==x.offset||i.focusNode!==T.node||i.focusOffset!==T.offset)&&(l=l.createRange(),l.setStart(x.node,x.offset),i.removeAllRanges(),_>m?(i.addRange(l),i.extend(T.node,T.offset)):(l.setEnd(T.node,T.offset),i.addRange(l)))}}for(l=[],i=d;i=i.parentNode;)i.nodeType===1&&l.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<l.length;d++)i=l[d],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var GA=u&&"documentMode"in document&&11>=document.documentMode,Ho=null,zh=null,El=null,Wh=!1;function j0(i,l,d){var m=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Wh||Ho==null||Ho!==tt(m)||(m=Ho,"selectionStart"in m&&Bh(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),El&&kl(El,m)||(El=m,m=Eu(zh,"onSelect"),0<m.length&&(l=new Ih("onSelect","select",null,l,d),i.push({event:l,listeners:m}),l.target=Ho)))}function Su(i,l){var d={};return d[i.toLowerCase()]=l.toLowerCase(),d["Webkit"+i]="webkit"+l,d["Moz"+i]="moz"+l,d}var Ko={animationend:Su("Animation","AnimationEnd"),animationiteration:Su("Animation","AnimationIteration"),animationstart:Su("Animation","AnimationStart"),transitionend:Su("Transition","TransitionEnd")},qh={},k0={};u&&(k0=document.createElement("div").style,"AnimationEvent"in window||(delete Ko.animationend.animation,delete Ko.animationiteration.animation,delete Ko.animationstart.animation),"TransitionEvent"in window||delete Ko.transitionend.transition);function ju(i){if(qh[i])return qh[i];if(!Ko[i])return i;var l=Ko[i],d;for(d in l)if(l.hasOwnProperty(d)&&d in k0)return qh[i]=l[d];return i}var E0=ju("animationend"),C0=ju("animationiteration"),N0=ju("animationstart"),T0=ju("transitionend"),R0=new Map,P0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Js(i,l){R0.set(i,l),o(l,[i])}for(var Hh=0;Hh<P0.length;Hh++){var Kh=P0[Hh],YA=Kh.toLowerCase(),QA=Kh[0].toUpperCase()+Kh.slice(1);Js(YA,"on"+QA)}Js(E0,"onAnimationEnd"),Js(C0,"onAnimationIteration"),Js(N0,"onAnimationStart"),Js("dblclick","onDoubleClick"),Js("focusin","onFocus"),Js("focusout","onBlur"),Js(T0,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ZA=new Set("cancel close invalid load scroll toggle".split(" ").concat(Cl));function A0(i,l,d){var m=i.type||"unknown-event";i.currentTarget=d,YP(m,l,void 0,i),i.currentTarget=null}function O0(i,l){l=(l&4)!==0;for(var d=0;d<i.length;d++){var m=i[d],x=m.event;m=m.listeners;e:{var _=void 0;if(l)for(var T=m.length-1;0<=T;T--){var D=m[T],B=D.instance,ee=D.currentTarget;if(D=D.listener,B!==_&&x.isPropagationStopped())break e;A0(x,D,ee),_=B}else for(T=0;T<m.length;T++){if(D=m[T],B=D.instance,ee=D.currentTarget,D=D.listener,B!==_&&x.isPropagationStopped())break e;A0(x,D,ee),_=B}}}if(lu)throw i=jh,lu=!1,jh=null,i}function Et(i,l){var d=l[tp];d===void 0&&(d=l[tp]=new Set);var m=i+"__bubble";d.has(m)||(I0(l,i,2,!1),d.add(m))}function Gh(i,l,d){var m=0;l&&(m|=4),I0(d,i,m,l)}var ku="_reactListening"+Math.random().toString(36).slice(2);function Nl(i){if(!i[ku]){i[ku]=!0,n.forEach(function(d){d!=="selectionchange"&&(ZA.has(d)||Gh(d,!1,i),Gh(d,!0,i))});var l=i.nodeType===9?i:i.ownerDocument;l===null||l[ku]||(l[ku]=!0,Gh("selectionchange",!1,l))}}function I0(i,l,d,m){switch(n0(l)){case 1:var x=dA;break;case 4:x=fA;break;default:x=Ph}d=x.bind(null,l,d,i),x=void 0,!Mn||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(x=!0),m?x!==void 0?i.addEventListener(l,d,{capture:!0,passive:x}):i.addEventListener(l,d,!0):x!==void 0?i.addEventListener(l,d,{passive:x}):i.addEventListener(l,d,!1)}function Yh(i,l,d,m,x){var _=m;if((l&1)===0&&(l&2)===0&&m!==null)e:for(;;){if(m===null)return;var T=m.tag;if(T===3||T===4){var D=m.stateNode.containerInfo;if(D===x||D.nodeType===8&&D.parentNode===x)break;if(T===4)for(T=m.return;T!==null;){var B=T.tag;if((B===3||B===4)&&(B=T.stateNode.containerInfo,B===x||B.nodeType===8&&B.parentNode===x))return;T=T.return}for(;D!==null;){if(T=Ki(D),T===null)return;if(B=T.tag,B===5||B===6){m=_=T;continue e}D=D.parentNode}}m=m.return}qr(function(){var ee=_,le=Uo(d),he=[];e:{var ae=R0.get(i);if(ae!==void 0){var Ce=Ih,Pe=i;switch(i){case"keypress":if(xu(d)===0)break e;case"keydown":case"keyup":Ce=CA;break;case"focusin":Pe="focus",Ce=Lh;break;case"focusout":Pe="blur",Ce=Lh;break;case"beforeblur":case"afterblur":Ce=Lh;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ce=o0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ce=mA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ce=RA;break;case E0:case C0:case N0:Ce=vA;break;case T0:Ce=AA;break;case"scroll":Ce=hA;break;case"wheel":Ce=IA;break;case"copy":case"cut":case"paste":Ce=wA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ce=l0}var Oe=(l&4)!==0,Ut=!Oe&&i==="scroll",Y=Oe?ae!==null?ae+"Capture":null:ae;Oe=[];for(var W=ee,Z;W!==null;){Z=W;var me=Z.stateNode;if(Z.tag===5&&me!==null&&(Z=me,Y!==null&&(me=Hr(W,Y),me!=null&&Oe.push(Tl(W,me,Z)))),Ut)break;W=W.return}0<Oe.length&&(ae=new Ce(ae,Pe,null,d,le),he.push({event:ae,listeners:Oe}))}}if((l&7)===0){e:{if(ae=i==="mouseover"||i==="pointerover",Ce=i==="mouseout"||i==="pointerout",ae&&d!==Hs&&(Pe=d.relatedTarget||d.fromElement)&&(Ki(Pe)||Pe[Es]))break e;if((Ce||ae)&&(ae=le.window===le?le:(ae=le.ownerDocument)?ae.defaultView||ae.parentWindow:window,Ce?(Pe=d.relatedTarget||d.toElement,Ce=ee,Pe=Pe?Ki(Pe):null,Pe!==null&&(Ut=Hi(Pe),Pe!==Ut||Pe.tag!==5&&Pe.tag!==6)&&(Pe=null)):(Ce=null,Pe=ee),Ce!==Pe)){if(Oe=o0,me="onMouseLeave",Y="onMouseEnter",W="mouse",(i==="pointerout"||i==="pointerover")&&(Oe=l0,me="onPointerLeave",Y="onPointerEnter",W="pointer"),Ut=Ce==null?ae:Qo(Ce),Z=Pe==null?ae:Qo(Pe),ae=new Oe(me,W+"leave",Ce,d,le),ae.target=Ut,ae.relatedTarget=Z,me=null,Ki(le)===ee&&(Oe=new Oe(Y,W+"enter",Pe,d,le),Oe.target=Z,Oe.relatedTarget=Ut,me=Oe),Ut=me,Ce&&Pe)t:{for(Oe=Ce,Y=Pe,W=0,Z=Oe;Z;Z=Go(Z))W++;for(Z=0,me=Y;me;me=Go(me))Z++;for(;0<W-Z;)Oe=Go(Oe),W--;for(;0<Z-W;)Y=Go(Y),Z--;for(;W--;){if(Oe===Y||Y!==null&&Oe===Y.alternate)break t;Oe=Go(Oe),Y=Go(Y)}Oe=null}else Oe=null;Ce!==null&&M0(he,ae,Ce,Oe,!1),Pe!==null&&Ut!==null&&M0(he,Ut,Pe,Oe,!0)}}e:{if(ae=ee?Qo(ee):window,Ce=ae.nodeName&&ae.nodeName.toLowerCase(),Ce==="select"||Ce==="input"&&ae.type==="file")var De=UA;else if(p0(ae))if(g0)De=qA;else{De=zA;var Ue=BA}else(Ce=ae.nodeName)&&Ce.toLowerCase()==="input"&&(ae.type==="checkbox"||ae.type==="radio")&&(De=WA);if(De&&(De=De(i,ee))){m0(he,De,d,le);break e}Ue&&Ue(i,ae,ee),i==="focusout"&&(Ue=ae._wrapperState)&&Ue.controlled&&ae.type==="number"&&dt(ae,"number",ae.value)}switch(Ue=ee?Qo(ee):window,i){case"focusin":(p0(Ue)||Ue.contentEditable==="true")&&(Ho=Ue,zh=ee,El=null);break;case"focusout":El=zh=Ho=null;break;case"mousedown":Wh=!0;break;case"contextmenu":case"mouseup":case"dragend":Wh=!1,j0(he,d,le);break;case"selectionchange":if(GA)break;case"keydown":case"keyup":j0(he,d,le)}var Be;if($h)e:{switch(i){case"compositionstart":var He="onCompositionStart";break e;case"compositionend":He="onCompositionEnd";break e;case"compositionupdate":He="onCompositionUpdate";break e}He=void 0}else qo?f0(i,d)&&(He="onCompositionEnd"):i==="keydown"&&d.keyCode===229&&(He="onCompositionStart");He&&(c0&&d.locale!=="ko"&&(qo||He!=="onCompositionStart"?He==="onCompositionEnd"&&qo&&(Be=s0()):(Xs=le,Oh="value"in Xs?Xs.value:Xs.textContent,qo=!0)),Ue=Eu(ee,He),0<Ue.length&&(He=new a0(He,i,null,d,le),he.push({event:He,listeners:Ue}),Be?He.data=Be:(Be=h0(d),Be!==null&&(He.data=Be)))),(Be=DA?LA(i,d):FA(i,d))&&(ee=Eu(ee,"onBeforeInput"),0<ee.length&&(le=new a0("onBeforeInput","beforeinput",null,d,le),he.push({event:le,listeners:ee}),le.data=Be))}O0(he,l)})}function Tl(i,l,d){return{instance:i,listener:l,currentTarget:d}}function Eu(i,l){for(var d=l+"Capture",m=[];i!==null;){var x=i,_=x.stateNode;x.tag===5&&_!==null&&(x=_,_=Hr(i,d),_!=null&&m.unshift(Tl(i,_,x)),_=Hr(i,l),_!=null&&m.push(Tl(i,_,x))),i=i.return}return m}function Go(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function M0(i,l,d,m,x){for(var _=l._reactName,T=[];d!==null&&d!==m;){var D=d,B=D.alternate,ee=D.stateNode;if(B!==null&&B===m)break;D.tag===5&&ee!==null&&(D=ee,x?(B=Hr(d,_),B!=null&&T.unshift(Tl(d,B,D))):x||(B=Hr(d,_),B!=null&&T.push(Tl(d,B,D)))),d=d.return}T.length!==0&&i.push({event:l,listeners:T})}var XA=/\r\n?/g,JA=/\u0000|\uFFFD/g;function D0(i){return(typeof i=="string"?i:""+i).replace(XA,`
`).replace(JA,"")}function Cu(i,l,d){if(l=D0(l),D0(i)!==l&&d)throw Error(r(425))}function Nu(){}var Qh=null,Zh=null;function Xh(i,l){return i==="textarea"||i==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Jh=typeof setTimeout=="function"?setTimeout:void 0,eO=typeof clearTimeout=="function"?clearTimeout:void 0,L0=typeof Promise=="function"?Promise:void 0,tO=typeof queueMicrotask=="function"?queueMicrotask:typeof L0<"u"?function(i){return L0.resolve(null).then(i).catch(rO)}:Jh;function rO(i){setTimeout(function(){throw i})}function ep(i,l){var d=l,m=0;do{var x=d.nextSibling;if(i.removeChild(d),x&&x.nodeType===8)if(d=x.data,d==="/$"){if(m===0){i.removeChild(x),xl(l);return}m--}else d!=="$"&&d!=="$?"&&d!=="$!"||m++;d=x}while(d);xl(l)}function ei(i){for(;i!=null;i=i.nextSibling){var l=i.nodeType;if(l===1||l===3)break;if(l===8){if(l=i.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return i}function F0(i){i=i.previousSibling;for(var l=0;i;){if(i.nodeType===8){var d=i.data;if(d==="$"||d==="$!"||d==="$?"){if(l===0)return i;l--}else d==="/$"&&l++}i=i.previousSibling}return null}var Yo=Math.random().toString(36).slice(2),as="__reactFiber$"+Yo,Rl="__reactProps$"+Yo,Es="__reactContainer$"+Yo,tp="__reactEvents$"+Yo,nO="__reactListeners$"+Yo,sO="__reactHandles$"+Yo;function Ki(i){var l=i[as];if(l)return l;for(var d=i.parentNode;d;){if(l=d[Es]||d[as]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(i=F0(i);i!==null;){if(d=i[as])return d;i=F0(i)}return l}i=d,d=i.parentNode}return null}function Pl(i){return i=i[as]||i[Es],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Qo(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(r(33))}function Tu(i){return i[Rl]||null}var rp=[],Zo=-1;function ti(i){return{current:i}}function Ct(i){0>Zo||(i.current=rp[Zo],rp[Zo]=null,Zo--)}function St(i,l){Zo++,rp[Zo]=i.current,i.current=l}var ri={},Er=ti(ri),Kr=ti(!1),Gi=ri;function Xo(i,l){var d=i.type.contextTypes;if(!d)return ri;var m=i.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===l)return m.__reactInternalMemoizedMaskedChildContext;var x={},_;for(_ in d)x[_]=l[_];return m&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=l,i.__reactInternalMemoizedMaskedChildContext=x),x}function Gr(i){return i=i.childContextTypes,i!=null}function Ru(){Ct(Kr),Ct(Er)}function $0(i,l,d){if(Er.current!==ri)throw Error(r(168));St(Er,l),St(Kr,d)}function V0(i,l,d){var m=i.stateNode;if(l=l.childContextTypes,typeof m.getChildContext!="function")return d;m=m.getChildContext();for(var x in m)if(!(x in l))throw Error(r(108,ne(i)||"Unknown",x));return K({},d,m)}function Pu(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||ri,Gi=Er.current,St(Er,i),St(Kr,Kr.current),!0}function U0(i,l,d){var m=i.stateNode;if(!m)throw Error(r(169));d?(i=V0(i,l,Gi),m.__reactInternalMemoizedMergedChildContext=i,Ct(Kr),Ct(Er),St(Er,i)):Ct(Kr),St(Kr,d)}var Cs=null,Au=!1,np=!1;function B0(i){Cs===null?Cs=[i]:Cs.push(i)}function iO(i){Au=!0,B0(i)}function ni(){if(!np&&Cs!==null){np=!0;var i=0,l=yt;try{var d=Cs;for(yt=1;i<d.length;i++){var m=d[i];do m=m(!0);while(m!==null)}Cs=null,Au=!1}catch(x){throw Cs!==null&&(Cs=Cs.slice(i+1)),Wx(kh,ni),x}finally{yt=l,np=!1}}return null}var Jo=[],ea=0,Ou=null,Iu=0,bn=[],_n=0,Yi=null,Ns=1,Ts="";function Qi(i,l){Jo[ea++]=Iu,Jo[ea++]=Ou,Ou=i,Iu=l}function z0(i,l,d){bn[_n++]=Ns,bn[_n++]=Ts,bn[_n++]=Yi,Yi=i;var m=Ns;i=Ts;var x=32-Dn(m)-1;m&=~(1<<x),d+=1;var _=32-Dn(l)+x;if(30<_){var T=x-x%5;_=(m&(1<<T)-1).toString(32),m>>=T,x-=T,Ns=1<<32-Dn(l)+x|d<<x|m,Ts=_+i}else Ns=1<<_|d<<x|m,Ts=i}function sp(i){i.return!==null&&(Qi(i,1),z0(i,1,0))}function ip(i){for(;i===Ou;)Ou=Jo[--ea],Jo[ea]=null,Iu=Jo[--ea],Jo[ea]=null;for(;i===Yi;)Yi=bn[--_n],bn[_n]=null,Ts=bn[--_n],bn[_n]=null,Ns=bn[--_n],bn[_n]=null}var ln=null,cn=null,Rt=!1,Fn=null;function W0(i,l){var d=En(5,null,null,0);d.elementType="DELETED",d.stateNode=l,d.return=i,l=i.deletions,l===null?(i.deletions=[d],i.flags|=16):l.push(d)}function q0(i,l){switch(i.tag){case 5:var d=i.type;return l=l.nodeType!==1||d.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(i.stateNode=l,ln=i,cn=ei(l.firstChild),!0):!1;case 6:return l=i.pendingProps===""||l.nodeType!==3?null:l,l!==null?(i.stateNode=l,ln=i,cn=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(d=Yi!==null?{id:Ns,overflow:Ts}:null,i.memoizedState={dehydrated:l,treeContext:d,retryLane:1073741824},d=En(18,null,null,0),d.stateNode=l,d.return=i,i.child=d,ln=i,cn=null,!0):!1;default:return!1}}function op(i){return(i.mode&1)!==0&&(i.flags&128)===0}function ap(i){if(Rt){var l=cn;if(l){var d=l;if(!q0(i,l)){if(op(i))throw Error(r(418));l=ei(d.nextSibling);var m=ln;l&&q0(i,l)?W0(m,d):(i.flags=i.flags&-4097|2,Rt=!1,ln=i)}}else{if(op(i))throw Error(r(418));i.flags=i.flags&-4097|2,Rt=!1,ln=i}}}function H0(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;ln=i}function Mu(i){if(i!==ln)return!1;if(!Rt)return H0(i),Rt=!0,!1;var l;if((l=i.tag!==3)&&!(l=i.tag!==5)&&(l=i.type,l=l!=="head"&&l!=="body"&&!Xh(i.type,i.memoizedProps)),l&&(l=cn)){if(op(i))throw K0(),Error(r(418));for(;l;)W0(i,l),l=ei(l.nextSibling)}if(H0(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,l=0;i;){if(i.nodeType===8){var d=i.data;if(d==="/$"){if(l===0){cn=ei(i.nextSibling);break e}l--}else d!=="$"&&d!=="$!"&&d!=="$?"||l++}i=i.nextSibling}cn=null}}else cn=ln?ei(i.stateNode.nextSibling):null;return!0}function K0(){for(var i=cn;i;)i=ei(i.nextSibling)}function ta(){cn=ln=null,Rt=!1}function lp(i){Fn===null?Fn=[i]:Fn.push(i)}var oO=P.ReactCurrentBatchConfig;function Al(i,l,d){if(i=d.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(r(309));var m=d.stateNode}if(!m)throw Error(r(147,i));var x=m,_=""+i;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===_?l.ref:(l=function(T){var D=x.refs;T===null?delete D[_]:D[_]=T},l._stringRef=_,l)}if(typeof i!="string")throw Error(r(284));if(!d._owner)throw Error(r(290,i))}return i}function Du(i,l){throw i=Object.prototype.toString.call(l),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":i))}function G0(i){var l=i._init;return l(i._payload)}function Y0(i){function l(Y,W){if(i){var Z=Y.deletions;Z===null?(Y.deletions=[W],Y.flags|=16):Z.push(W)}}function d(Y,W){if(!i)return null;for(;W!==null;)l(Y,W),W=W.sibling;return null}function m(Y,W){for(Y=new Map;W!==null;)W.key!==null?Y.set(W.key,W):Y.set(W.index,W),W=W.sibling;return Y}function x(Y,W){return Y=di(Y,W),Y.index=0,Y.sibling=null,Y}function _(Y,W,Z){return Y.index=Z,i?(Z=Y.alternate,Z!==null?(Z=Z.index,Z<W?(Y.flags|=2,W):Z):(Y.flags|=2,W)):(Y.flags|=1048576,W)}function T(Y){return i&&Y.alternate===null&&(Y.flags|=2),Y}function D(Y,W,Z,me){return W===null||W.tag!==6?(W=Jp(Z,Y.mode,me),W.return=Y,W):(W=x(W,Z),W.return=Y,W)}function B(Y,W,Z,me){var De=Z.type;return De===O?le(Y,W,Z.props.children,me,Z.key):W!==null&&(W.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===se&&G0(De)===W.type)?(me=x(W,Z.props),me.ref=Al(Y,W,Z),me.return=Y,me):(me=od(Z.type,Z.key,Z.props,null,Y.mode,me),me.ref=Al(Y,W,Z),me.return=Y,me)}function ee(Y,W,Z,me){return W===null||W.tag!==4||W.stateNode.containerInfo!==Z.containerInfo||W.stateNode.implementation!==Z.implementation?(W=em(Z,Y.mode,me),W.return=Y,W):(W=x(W,Z.children||[]),W.return=Y,W)}function le(Y,W,Z,me,De){return W===null||W.tag!==7?(W=so(Z,Y.mode,me,De),W.return=Y,W):(W=x(W,Z),W.return=Y,W)}function he(Y,W,Z){if(typeof W=="string"&&W!==""||typeof W=="number")return W=Jp(""+W,Y.mode,Z),W.return=Y,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case A:return Z=od(W.type,W.key,W.props,null,Y.mode,Z),Z.ref=Al(Y,null,W),Z.return=Y,Z;case L:return W=em(W,Y.mode,Z),W.return=Y,W;case se:var me=W._init;return he(Y,me(W._payload),Z)}if($(W)||F(W))return W=so(W,Y.mode,Z,null),W.return=Y,W;Du(Y,W)}return null}function ae(Y,W,Z,me){var De=W!==null?W.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number")return De!==null?null:D(Y,W,""+Z,me);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case A:return Z.key===De?B(Y,W,Z,me):null;case L:return Z.key===De?ee(Y,W,Z,me):null;case se:return De=Z._init,ae(Y,W,De(Z._payload),me)}if($(Z)||F(Z))return De!==null?null:le(Y,W,Z,me,null);Du(Y,Z)}return null}function Ce(Y,W,Z,me,De){if(typeof me=="string"&&me!==""||typeof me=="number")return Y=Y.get(Z)||null,D(W,Y,""+me,De);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case A:return Y=Y.get(me.key===null?Z:me.key)||null,B(W,Y,me,De);case L:return Y=Y.get(me.key===null?Z:me.key)||null,ee(W,Y,me,De);case se:var Ue=me._init;return Ce(Y,W,Z,Ue(me._payload),De)}if($(me)||F(me))return Y=Y.get(Z)||null,le(W,Y,me,De,null);Du(W,me)}return null}function Pe(Y,W,Z,me){for(var De=null,Ue=null,Be=W,He=W=0,lr=null;Be!==null&&He<Z.length;He++){Be.index>He?(lr=Be,Be=null):lr=Be.sibling;var pt=ae(Y,Be,Z[He],me);if(pt===null){Be===null&&(Be=lr);break}i&&Be&&pt.alternate===null&&l(Y,Be),W=_(pt,W,He),Ue===null?De=pt:Ue.sibling=pt,Ue=pt,Be=lr}if(He===Z.length)return d(Y,Be),Rt&&Qi(Y,He),De;if(Be===null){for(;He<Z.length;He++)Be=he(Y,Z[He],me),Be!==null&&(W=_(Be,W,He),Ue===null?De=Be:Ue.sibling=Be,Ue=Be);return Rt&&Qi(Y,He),De}for(Be=m(Y,Be);He<Z.length;He++)lr=Ce(Be,Y,He,Z[He],me),lr!==null&&(i&&lr.alternate!==null&&Be.delete(lr.key===null?He:lr.key),W=_(lr,W,He),Ue===null?De=lr:Ue.sibling=lr,Ue=lr);return i&&Be.forEach(function(fi){return l(Y,fi)}),Rt&&Qi(Y,He),De}function Oe(Y,W,Z,me){var De=F(Z);if(typeof De!="function")throw Error(r(150));if(Z=De.call(Z),Z==null)throw Error(r(151));for(var Ue=De=null,Be=W,He=W=0,lr=null,pt=Z.next();Be!==null&&!pt.done;He++,pt=Z.next()){Be.index>He?(lr=Be,Be=null):lr=Be.sibling;var fi=ae(Y,Be,pt.value,me);if(fi===null){Be===null&&(Be=lr);break}i&&Be&&fi.alternate===null&&l(Y,Be),W=_(fi,W,He),Ue===null?De=fi:Ue.sibling=fi,Ue=fi,Be=lr}if(pt.done)return d(Y,Be),Rt&&Qi(Y,He),De;if(Be===null){for(;!pt.done;He++,pt=Z.next())pt=he(Y,pt.value,me),pt!==null&&(W=_(pt,W,He),Ue===null?De=pt:Ue.sibling=pt,Ue=pt);return Rt&&Qi(Y,He),De}for(Be=m(Y,Be);!pt.done;He++,pt=Z.next())pt=Ce(Be,Y,He,pt.value,me),pt!==null&&(i&&pt.alternate!==null&&Be.delete(pt.key===null?He:pt.key),W=_(pt,W,He),Ue===null?De=pt:Ue.sibling=pt,Ue=pt);return i&&Be.forEach(function($O){return l(Y,$O)}),Rt&&Qi(Y,He),De}function Ut(Y,W,Z,me){if(typeof Z=="object"&&Z!==null&&Z.type===O&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case A:e:{for(var De=Z.key,Ue=W;Ue!==null;){if(Ue.key===De){if(De=Z.type,De===O){if(Ue.tag===7){d(Y,Ue.sibling),W=x(Ue,Z.props.children),W.return=Y,Y=W;break e}}else if(Ue.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===se&&G0(De)===Ue.type){d(Y,Ue.sibling),W=x(Ue,Z.props),W.ref=Al(Y,Ue,Z),W.return=Y,Y=W;break e}d(Y,Ue);break}else l(Y,Ue);Ue=Ue.sibling}Z.type===O?(W=so(Z.props.children,Y.mode,me,Z.key),W.return=Y,Y=W):(me=od(Z.type,Z.key,Z.props,null,Y.mode,me),me.ref=Al(Y,W,Z),me.return=Y,Y=me)}return T(Y);case L:e:{for(Ue=Z.key;W!==null;){if(W.key===Ue)if(W.tag===4&&W.stateNode.containerInfo===Z.containerInfo&&W.stateNode.implementation===Z.implementation){d(Y,W.sibling),W=x(W,Z.children||[]),W.return=Y,Y=W;break e}else{d(Y,W);break}else l(Y,W);W=W.sibling}W=em(Z,Y.mode,me),W.return=Y,Y=W}return T(Y);case se:return Ue=Z._init,Ut(Y,W,Ue(Z._payload),me)}if($(Z))return Pe(Y,W,Z,me);if(F(Z))return Oe(Y,W,Z,me);Du(Y,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"?(Z=""+Z,W!==null&&W.tag===6?(d(Y,W.sibling),W=x(W,Z),W.return=Y,Y=W):(d(Y,W),W=Jp(Z,Y.mode,me),W.return=Y,Y=W),T(Y)):d(Y,W)}return Ut}var ra=Y0(!0),Q0=Y0(!1),Lu=ti(null),Fu=null,na=null,cp=null;function up(){cp=na=Fu=null}function dp(i){var l=Lu.current;Ct(Lu),i._currentValue=l}function fp(i,l,d){for(;i!==null;){var m=i.alternate;if((i.childLanes&l)!==l?(i.childLanes|=l,m!==null&&(m.childLanes|=l)):m!==null&&(m.childLanes&l)!==l&&(m.childLanes|=l),i===d)break;i=i.return}}function sa(i,l){Fu=i,cp=na=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&l)!==0&&(Yr=!0),i.firstContext=null)}function Sn(i){var l=i._currentValue;if(cp!==i)if(i={context:i,memoizedValue:l,next:null},na===null){if(Fu===null)throw Error(r(308));na=i,Fu.dependencies={lanes:0,firstContext:i}}else na=na.next=i;return l}var Zi=null;function hp(i){Zi===null?Zi=[i]:Zi.push(i)}function Z0(i,l,d,m){var x=l.interleaved;return x===null?(d.next=d,hp(l)):(d.next=x.next,x.next=d),l.interleaved=d,Rs(i,m)}function Rs(i,l){i.lanes|=l;var d=i.alternate;for(d!==null&&(d.lanes|=l),d=i,i=i.return;i!==null;)i.childLanes|=l,d=i.alternate,d!==null&&(d.childLanes|=l),d=i,i=i.return;return d.tag===3?d.stateNode:null}var si=!1;function pp(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function X0(i,l){i=i.updateQueue,l.updateQueue===i&&(l.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Ps(i,l){return{eventTime:i,lane:l,tag:0,payload:null,callback:null,next:null}}function ii(i,l,d){var m=i.updateQueue;if(m===null)return null;if(m=m.shared,(ft&2)!==0){var x=m.pending;return x===null?l.next=l:(l.next=x.next,x.next=l),m.pending=l,Rs(i,d)}return x=m.interleaved,x===null?(l.next=l,hp(m)):(l.next=x.next,x.next=l),m.interleaved=l,Rs(i,d)}function $u(i,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194240)!==0)){var m=l.lanes;m&=i.pendingLanes,d|=m,l.lanes=d,Nh(i,d)}}function J0(i,l){var d=i.updateQueue,m=i.alternate;if(m!==null&&(m=m.updateQueue,d===m)){var x=null,_=null;if(d=d.firstBaseUpdate,d!==null){do{var T={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};_===null?x=_=T:_=_.next=T,d=d.next}while(d!==null);_===null?x=_=l:_=_.next=l}else x=_=l;d={baseState:m.baseState,firstBaseUpdate:x,lastBaseUpdate:_,shared:m.shared,effects:m.effects},i.updateQueue=d;return}i=d.lastBaseUpdate,i===null?d.firstBaseUpdate=l:i.next=l,d.lastBaseUpdate=l}function Vu(i,l,d,m){var x=i.updateQueue;si=!1;var _=x.firstBaseUpdate,T=x.lastBaseUpdate,D=x.shared.pending;if(D!==null){x.shared.pending=null;var B=D,ee=B.next;B.next=null,T===null?_=ee:T.next=ee,T=B;var le=i.alternate;le!==null&&(le=le.updateQueue,D=le.lastBaseUpdate,D!==T&&(D===null?le.firstBaseUpdate=ee:D.next=ee,le.lastBaseUpdate=B))}if(_!==null){var he=x.baseState;T=0,le=ee=B=null,D=_;do{var ae=D.lane,Ce=D.eventTime;if((m&ae)===ae){le!==null&&(le=le.next={eventTime:Ce,lane:0,tag:D.tag,payload:D.payload,callback:D.callback,next:null});e:{var Pe=i,Oe=D;switch(ae=l,Ce=d,Oe.tag){case 1:if(Pe=Oe.payload,typeof Pe=="function"){he=Pe.call(Ce,he,ae);break e}he=Pe;break e;case 3:Pe.flags=Pe.flags&-65537|128;case 0:if(Pe=Oe.payload,ae=typeof Pe=="function"?Pe.call(Ce,he,ae):Pe,ae==null)break e;he=K({},he,ae);break e;case 2:si=!0}}D.callback!==null&&D.lane!==0&&(i.flags|=64,ae=x.effects,ae===null?x.effects=[D]:ae.push(D))}else Ce={eventTime:Ce,lane:ae,tag:D.tag,payload:D.payload,callback:D.callback,next:null},le===null?(ee=le=Ce,B=he):le=le.next=Ce,T|=ae;if(D=D.next,D===null){if(D=x.shared.pending,D===null)break;ae=D,D=ae.next,ae.next=null,x.lastBaseUpdate=ae,x.shared.pending=null}}while(!0);if(le===null&&(B=he),x.baseState=B,x.firstBaseUpdate=ee,x.lastBaseUpdate=le,l=x.shared.interleaved,l!==null){x=l;do T|=x.lane,x=x.next;while(x!==l)}else _===null&&(x.shared.lanes=0);eo|=T,i.lanes=T,i.memoizedState=he}}function ew(i,l,d){if(i=l.effects,l.effects=null,i!==null)for(l=0;l<i.length;l++){var m=i[l],x=m.callback;if(x!==null){if(m.callback=null,m=d,typeof x!="function")throw Error(r(191,x));x.call(m)}}}var Ol={},ls=ti(Ol),Il=ti(Ol),Ml=ti(Ol);function Xi(i){if(i===Ol)throw Error(r(174));return i}function mp(i,l){switch(St(Ml,l),St(Il,i),St(ls,Ol),i=l.nodeType,i){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:Ve(null,"");break;default:i=i===8?l.parentNode:l,l=i.namespaceURI||null,i=i.tagName,l=Ve(l,i)}Ct(ls),St(ls,l)}function ia(){Ct(ls),Ct(Il),Ct(Ml)}function tw(i){Xi(Ml.current);var l=Xi(ls.current),d=Ve(l,i.type);l!==d&&(St(Il,i),St(ls,d))}function gp(i){Il.current===i&&(Ct(ls),Ct(Il))}var At=ti(0);function Uu(i){for(var l=i;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var yp=[];function vp(){for(var i=0;i<yp.length;i++)yp[i]._workInProgressVersionPrimary=null;yp.length=0}var Bu=P.ReactCurrentDispatcher,xp=P.ReactCurrentBatchConfig,Ji=0,Ot=null,Zt=null,or=null,zu=!1,Dl=!1,Ll=0,aO=0;function Cr(){throw Error(r(321))}function wp(i,l){if(l===null)return!1;for(var d=0;d<l.length&&d<i.length;d++)if(!Ln(i[d],l[d]))return!1;return!0}function bp(i,l,d,m,x,_){if(Ji=_,Ot=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,Bu.current=i===null||i.memoizedState===null?dO:fO,i=d(m,x),Dl){_=0;do{if(Dl=!1,Ll=0,25<=_)throw Error(r(301));_+=1,or=Zt=null,l.updateQueue=null,Bu.current=hO,i=d(m,x)}while(Dl)}if(Bu.current=Hu,l=Zt!==null&&Zt.next!==null,Ji=0,or=Zt=Ot=null,zu=!1,l)throw Error(r(300));return i}function _p(){var i=Ll!==0;return Ll=0,i}function cs(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return or===null?Ot.memoizedState=or=i:or=or.next=i,or}function jn(){if(Zt===null){var i=Ot.alternate;i=i!==null?i.memoizedState:null}else i=Zt.next;var l=or===null?Ot.memoizedState:or.next;if(l!==null)or=l,Zt=i;else{if(i===null)throw Error(r(310));Zt=i,i={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},or===null?Ot.memoizedState=or=i:or=or.next=i}return or}function Fl(i,l){return typeof l=="function"?l(i):l}function Sp(i){var l=jn(),d=l.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=i;var m=Zt,x=m.baseQueue,_=d.pending;if(_!==null){if(x!==null){var T=x.next;x.next=_.next,_.next=T}m.baseQueue=x=_,d.pending=null}if(x!==null){_=x.next,m=m.baseState;var D=T=null,B=null,ee=_;do{var le=ee.lane;if((Ji&le)===le)B!==null&&(B=B.next={lane:0,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),m=ee.hasEagerState?ee.eagerState:i(m,ee.action);else{var he={lane:le,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null};B===null?(D=B=he,T=m):B=B.next=he,Ot.lanes|=le,eo|=le}ee=ee.next}while(ee!==null&&ee!==_);B===null?T=m:B.next=D,Ln(m,l.memoizedState)||(Yr=!0),l.memoizedState=m,l.baseState=T,l.baseQueue=B,d.lastRenderedState=m}if(i=d.interleaved,i!==null){x=i;do _=x.lane,Ot.lanes|=_,eo|=_,x=x.next;while(x!==i)}else x===null&&(d.lanes=0);return[l.memoizedState,d.dispatch]}function jp(i){var l=jn(),d=l.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=i;var m=d.dispatch,x=d.pending,_=l.memoizedState;if(x!==null){d.pending=null;var T=x=x.next;do _=i(_,T.action),T=T.next;while(T!==x);Ln(_,l.memoizedState)||(Yr=!0),l.memoizedState=_,l.baseQueue===null&&(l.baseState=_),d.lastRenderedState=_}return[_,m]}function rw(){}function nw(i,l){var d=Ot,m=jn(),x=l(),_=!Ln(m.memoizedState,x);if(_&&(m.memoizedState=x,Yr=!0),m=m.queue,kp(ow.bind(null,d,m,i),[i]),m.getSnapshot!==l||_||or!==null&&or.memoizedState.tag&1){if(d.flags|=2048,$l(9,iw.bind(null,d,m,x,l),void 0,null),ar===null)throw Error(r(349));(Ji&30)!==0||sw(d,l,x)}return x}function sw(i,l,d){i.flags|=16384,i={getSnapshot:l,value:d},l=Ot.updateQueue,l===null?(l={lastEffect:null,stores:null},Ot.updateQueue=l,l.stores=[i]):(d=l.stores,d===null?l.stores=[i]:d.push(i))}function iw(i,l,d,m){l.value=d,l.getSnapshot=m,aw(l)&&lw(i)}function ow(i,l,d){return d(function(){aw(l)&&lw(i)})}function aw(i){var l=i.getSnapshot;i=i.value;try{var d=l();return!Ln(i,d)}catch{return!0}}function lw(i){var l=Rs(i,1);l!==null&&Bn(l,i,1,-1)}function cw(i){var l=cs();return typeof i=="function"&&(i=i()),l.memoizedState=l.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fl,lastRenderedState:i},l.queue=i,i=i.dispatch=uO.bind(null,Ot,i),[l.memoizedState,i]}function $l(i,l,d,m){return i={tag:i,create:l,destroy:d,deps:m,next:null},l=Ot.updateQueue,l===null?(l={lastEffect:null,stores:null},Ot.updateQueue=l,l.lastEffect=i.next=i):(d=l.lastEffect,d===null?l.lastEffect=i.next=i:(m=d.next,d.next=i,i.next=m,l.lastEffect=i)),i}function uw(){return jn().memoizedState}function Wu(i,l,d,m){var x=cs();Ot.flags|=i,x.memoizedState=$l(1|l,d,void 0,m===void 0?null:m)}function qu(i,l,d,m){var x=jn();m=m===void 0?null:m;var _=void 0;if(Zt!==null){var T=Zt.memoizedState;if(_=T.destroy,m!==null&&wp(m,T.deps)){x.memoizedState=$l(l,d,_,m);return}}Ot.flags|=i,x.memoizedState=$l(1|l,d,_,m)}function dw(i,l){return Wu(8390656,8,i,l)}function kp(i,l){return qu(2048,8,i,l)}function fw(i,l){return qu(4,2,i,l)}function hw(i,l){return qu(4,4,i,l)}function pw(i,l){if(typeof l=="function")return i=i(),l(i),function(){l(null)};if(l!=null)return i=i(),l.current=i,function(){l.current=null}}function mw(i,l,d){return d=d!=null?d.concat([i]):null,qu(4,4,pw.bind(null,l,i),d)}function Ep(){}function gw(i,l){var d=jn();l=l===void 0?null:l;var m=d.memoizedState;return m!==null&&l!==null&&wp(l,m[1])?m[0]:(d.memoizedState=[i,l],i)}function yw(i,l){var d=jn();l=l===void 0?null:l;var m=d.memoizedState;return m!==null&&l!==null&&wp(l,m[1])?m[0]:(i=i(),d.memoizedState=[i,l],i)}function vw(i,l,d){return(Ji&21)===0?(i.baseState&&(i.baseState=!1,Yr=!0),i.memoizedState=d):(Ln(d,l)||(d=Gx(),Ot.lanes|=d,eo|=d,i.baseState=!0),l)}function lO(i,l){var d=yt;yt=d!==0&&4>d?d:4,i(!0);var m=xp.transition;xp.transition={};try{i(!1),l()}finally{yt=d,xp.transition=m}}function xw(){return jn().memoizedState}function cO(i,l,d){var m=ci(i);if(d={lane:m,action:d,hasEagerState:!1,eagerState:null,next:null},ww(i))bw(l,d);else if(d=Z0(i,l,d,m),d!==null){var x=Ir();Bn(d,i,m,x),_w(d,l,m)}}function uO(i,l,d){var m=ci(i),x={lane:m,action:d,hasEagerState:!1,eagerState:null,next:null};if(ww(i))bw(l,x);else{var _=i.alternate;if(i.lanes===0&&(_===null||_.lanes===0)&&(_=l.lastRenderedReducer,_!==null))try{var T=l.lastRenderedState,D=_(T,d);if(x.hasEagerState=!0,x.eagerState=D,Ln(D,T)){var B=l.interleaved;B===null?(x.next=x,hp(l)):(x.next=B.next,B.next=x),l.interleaved=x;return}}catch{}d=Z0(i,l,x,m),d!==null&&(x=Ir(),Bn(d,i,m,x),_w(d,l,m))}}function ww(i){var l=i.alternate;return i===Ot||l!==null&&l===Ot}function bw(i,l){Dl=zu=!0;var d=i.pending;d===null?l.next=l:(l.next=d.next,d.next=l),i.pending=l}function _w(i,l,d){if((d&4194240)!==0){var m=l.lanes;m&=i.pendingLanes,d|=m,l.lanes=d,Nh(i,d)}}var Hu={readContext:Sn,useCallback:Cr,useContext:Cr,useEffect:Cr,useImperativeHandle:Cr,useInsertionEffect:Cr,useLayoutEffect:Cr,useMemo:Cr,useReducer:Cr,useRef:Cr,useState:Cr,useDebugValue:Cr,useDeferredValue:Cr,useTransition:Cr,useMutableSource:Cr,useSyncExternalStore:Cr,useId:Cr,unstable_isNewReconciler:!1},dO={readContext:Sn,useCallback:function(i,l){return cs().memoizedState=[i,l===void 0?null:l],i},useContext:Sn,useEffect:dw,useImperativeHandle:function(i,l,d){return d=d!=null?d.concat([i]):null,Wu(4194308,4,pw.bind(null,l,i),d)},useLayoutEffect:function(i,l){return Wu(4194308,4,i,l)},useInsertionEffect:function(i,l){return Wu(4,2,i,l)},useMemo:function(i,l){var d=cs();return l=l===void 0?null:l,i=i(),d.memoizedState=[i,l],i},useReducer:function(i,l,d){var m=cs();return l=d!==void 0?d(l):l,m.memoizedState=m.baseState=l,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:l},m.queue=i,i=i.dispatch=cO.bind(null,Ot,i),[m.memoizedState,i]},useRef:function(i){var l=cs();return i={current:i},l.memoizedState=i},useState:cw,useDebugValue:Ep,useDeferredValue:function(i){return cs().memoizedState=i},useTransition:function(){var i=cw(!1),l=i[0];return i=lO.bind(null,i[1]),cs().memoizedState=i,[l,i]},useMutableSource:function(){},useSyncExternalStore:function(i,l,d){var m=Ot,x=cs();if(Rt){if(d===void 0)throw Error(r(407));d=d()}else{if(d=l(),ar===null)throw Error(r(349));(Ji&30)!==0||sw(m,l,d)}x.memoizedState=d;var _={value:d,getSnapshot:l};return x.queue=_,dw(ow.bind(null,m,_,i),[i]),m.flags|=2048,$l(9,iw.bind(null,m,_,d,l),void 0,null),d},useId:function(){var i=cs(),l=ar.identifierPrefix;if(Rt){var d=Ts,m=Ns;d=(m&~(1<<32-Dn(m)-1)).toString(32)+d,l=":"+l+"R"+d,d=Ll++,0<d&&(l+="H"+d.toString(32)),l+=":"}else d=aO++,l=":"+l+"r"+d.toString(32)+":";return i.memoizedState=l},unstable_isNewReconciler:!1},fO={readContext:Sn,useCallback:gw,useContext:Sn,useEffect:kp,useImperativeHandle:mw,useInsertionEffect:fw,useLayoutEffect:hw,useMemo:yw,useReducer:Sp,useRef:uw,useState:function(){return Sp(Fl)},useDebugValue:Ep,useDeferredValue:function(i){var l=jn();return vw(l,Zt.memoizedState,i)},useTransition:function(){var i=Sp(Fl)[0],l=jn().memoizedState;return[i,l]},useMutableSource:rw,useSyncExternalStore:nw,useId:xw,unstable_isNewReconciler:!1},hO={readContext:Sn,useCallback:gw,useContext:Sn,useEffect:kp,useImperativeHandle:mw,useInsertionEffect:fw,useLayoutEffect:hw,useMemo:yw,useReducer:jp,useRef:uw,useState:function(){return jp(Fl)},useDebugValue:Ep,useDeferredValue:function(i){var l=jn();return Zt===null?l.memoizedState=i:vw(l,Zt.memoizedState,i)},useTransition:function(){var i=jp(Fl)[0],l=jn().memoizedState;return[i,l]},useMutableSource:rw,useSyncExternalStore:nw,useId:xw,unstable_isNewReconciler:!1};function $n(i,l){if(i&&i.defaultProps){l=K({},l),i=i.defaultProps;for(var d in i)l[d]===void 0&&(l[d]=i[d]);return l}return l}function Cp(i,l,d,m){l=i.memoizedState,d=d(m,l),d=d==null?l:K({},l,d),i.memoizedState=d,i.lanes===0&&(i.updateQueue.baseState=d)}var Ku={isMounted:function(i){return(i=i._reactInternals)?Hi(i)===i:!1},enqueueSetState:function(i,l,d){i=i._reactInternals;var m=Ir(),x=ci(i),_=Ps(m,x);_.payload=l,d!=null&&(_.callback=d),l=ii(i,_,x),l!==null&&(Bn(l,i,x,m),$u(l,i,x))},enqueueReplaceState:function(i,l,d){i=i._reactInternals;var m=Ir(),x=ci(i),_=Ps(m,x);_.tag=1,_.payload=l,d!=null&&(_.callback=d),l=ii(i,_,x),l!==null&&(Bn(l,i,x,m),$u(l,i,x))},enqueueForceUpdate:function(i,l){i=i._reactInternals;var d=Ir(),m=ci(i),x=Ps(d,m);x.tag=2,l!=null&&(x.callback=l),l=ii(i,x,m),l!==null&&(Bn(l,i,m,d),$u(l,i,m))}};function Sw(i,l,d,m,x,_,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(m,_,T):l.prototype&&l.prototype.isPureReactComponent?!kl(d,m)||!kl(x,_):!0}function jw(i,l,d){var m=!1,x=ri,_=l.contextType;return typeof _=="object"&&_!==null?_=Sn(_):(x=Gr(l)?Gi:Er.current,m=l.contextTypes,_=(m=m!=null)?Xo(i,x):ri),l=new l(d,_),i.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=Ku,i.stateNode=l,l._reactInternals=i,m&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=x,i.__reactInternalMemoizedMaskedChildContext=_),l}function kw(i,l,d,m){i=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,m),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,m),l.state!==i&&Ku.enqueueReplaceState(l,l.state,null)}function Np(i,l,d,m){var x=i.stateNode;x.props=d,x.state=i.memoizedState,x.refs={},pp(i);var _=l.contextType;typeof _=="object"&&_!==null?x.context=Sn(_):(_=Gr(l)?Gi:Er.current,x.context=Xo(i,_)),x.state=i.memoizedState,_=l.getDerivedStateFromProps,typeof _=="function"&&(Cp(i,l,_,d),x.state=i.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(l=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),l!==x.state&&Ku.enqueueReplaceState(x,x.state,null),Vu(i,d,x,m),x.state=i.memoizedState),typeof x.componentDidMount=="function"&&(i.flags|=4194308)}function oa(i,l){try{var d="",m=l;do d+=xe(m),m=m.return;while(m);var x=d}catch(_){x=`
Error generating stack: `+_.message+`
`+_.stack}return{value:i,source:l,stack:x,digest:null}}function Tp(i,l,d){return{value:i,source:null,stack:d??null,digest:l??null}}function Rp(i,l){try{console.error(l.value)}catch(d){setTimeout(function(){throw d})}}var pO=typeof WeakMap=="function"?WeakMap:Map;function Ew(i,l,d){d=Ps(-1,d),d.tag=3,d.payload={element:null};var m=l.value;return d.callback=function(){ed||(ed=!0,qp=m),Rp(i,l)},d}function Cw(i,l,d){d=Ps(-1,d),d.tag=3;var m=i.type.getDerivedStateFromError;if(typeof m=="function"){var x=l.value;d.payload=function(){return m(x)},d.callback=function(){Rp(i,l)}}var _=i.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(d.callback=function(){Rp(i,l),typeof m!="function"&&(ai===null?ai=new Set([this]):ai.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})}),d}function Nw(i,l,d){var m=i.pingCache;if(m===null){m=i.pingCache=new pO;var x=new Set;m.set(l,x)}else x=m.get(l),x===void 0&&(x=new Set,m.set(l,x));x.has(d)||(x.add(d),i=NO.bind(null,i,l,d),l.then(i,i))}function Tw(i){do{var l;if((l=i.tag===13)&&(l=i.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return i;i=i.return}while(i!==null);return null}function Rw(i,l,d,m,x){return(i.mode&1)===0?(i===l?i.flags|=65536:(i.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(l=Ps(-1,1),l.tag=2,ii(d,l,1))),d.lanes|=1),i):(i.flags|=65536,i.lanes=x,i)}var mO=P.ReactCurrentOwner,Yr=!1;function Or(i,l,d,m){l.child=i===null?Q0(l,null,d,m):ra(l,i.child,d,m)}function Pw(i,l,d,m,x){d=d.render;var _=l.ref;return sa(l,x),m=bp(i,l,d,m,_,x),d=_p(),i!==null&&!Yr?(l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~x,As(i,l,x)):(Rt&&d&&sp(l),l.flags|=1,Or(i,l,m,x),l.child)}function Aw(i,l,d,m,x){if(i===null){var _=d.type;return typeof _=="function"&&!Xp(_)&&_.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(l.tag=15,l.type=_,Ow(i,l,_,m,x)):(i=od(d.type,null,m,l,l.mode,x),i.ref=l.ref,i.return=l,l.child=i)}if(_=i.child,(i.lanes&x)===0){var T=_.memoizedProps;if(d=d.compare,d=d!==null?d:kl,d(T,m)&&i.ref===l.ref)return As(i,l,x)}return l.flags|=1,i=di(_,m),i.ref=l.ref,i.return=l,l.child=i}function Ow(i,l,d,m,x){if(i!==null){var _=i.memoizedProps;if(kl(_,m)&&i.ref===l.ref)if(Yr=!1,l.pendingProps=m=_,(i.lanes&x)!==0)(i.flags&131072)!==0&&(Yr=!0);else return l.lanes=i.lanes,As(i,l,x)}return Pp(i,l,d,m,x)}function Iw(i,l,d){var m=l.pendingProps,x=m.children,_=i!==null?i.memoizedState:null;if(m.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},St(la,un),un|=d;else{if((d&1073741824)===0)return i=_!==null?_.baseLanes|d:d,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:i,cachePool:null,transitions:null},l.updateQueue=null,St(la,un),un|=i,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=_!==null?_.baseLanes:d,St(la,un),un|=m}else _!==null?(m=_.baseLanes|d,l.memoizedState=null):m=d,St(la,un),un|=m;return Or(i,l,x,d),l.child}function Mw(i,l){var d=l.ref;(i===null&&d!==null||i!==null&&i.ref!==d)&&(l.flags|=512,l.flags|=2097152)}function Pp(i,l,d,m,x){var _=Gr(d)?Gi:Er.current;return _=Xo(l,_),sa(l,x),d=bp(i,l,d,m,_,x),m=_p(),i!==null&&!Yr?(l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~x,As(i,l,x)):(Rt&&m&&sp(l),l.flags|=1,Or(i,l,d,x),l.child)}function Dw(i,l,d,m,x){if(Gr(d)){var _=!0;Pu(l)}else _=!1;if(sa(l,x),l.stateNode===null)Yu(i,l),jw(l,d,m),Np(l,d,m,x),m=!0;else if(i===null){var T=l.stateNode,D=l.memoizedProps;T.props=D;var B=T.context,ee=d.contextType;typeof ee=="object"&&ee!==null?ee=Sn(ee):(ee=Gr(d)?Gi:Er.current,ee=Xo(l,ee));var le=d.getDerivedStateFromProps,he=typeof le=="function"||typeof T.getSnapshotBeforeUpdate=="function";he||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(D!==m||B!==ee)&&kw(l,T,m,ee),si=!1;var ae=l.memoizedState;T.state=ae,Vu(l,m,T,x),B=l.memoizedState,D!==m||ae!==B||Kr.current||si?(typeof le=="function"&&(Cp(l,d,le,m),B=l.memoizedState),(D=si||Sw(l,d,D,m,ae,B,ee))?(he||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(l.flags|=4194308)):(typeof T.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=m,l.memoizedState=B),T.props=m,T.state=B,T.context=ee,m=D):(typeof T.componentDidMount=="function"&&(l.flags|=4194308),m=!1)}else{T=l.stateNode,X0(i,l),D=l.memoizedProps,ee=l.type===l.elementType?D:$n(l.type,D),T.props=ee,he=l.pendingProps,ae=T.context,B=d.contextType,typeof B=="object"&&B!==null?B=Sn(B):(B=Gr(d)?Gi:Er.current,B=Xo(l,B));var Ce=d.getDerivedStateFromProps;(le=typeof Ce=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(D!==he||ae!==B)&&kw(l,T,m,B),si=!1,ae=l.memoizedState,T.state=ae,Vu(l,m,T,x);var Pe=l.memoizedState;D!==he||ae!==Pe||Kr.current||si?(typeof Ce=="function"&&(Cp(l,d,Ce,m),Pe=l.memoizedState),(ee=si||Sw(l,d,ee,m,ae,Pe,B)||!1)?(le||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(m,Pe,B),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(m,Pe,B)),typeof T.componentDidUpdate=="function"&&(l.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof T.componentDidUpdate!="function"||D===i.memoizedProps&&ae===i.memoizedState||(l.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||D===i.memoizedProps&&ae===i.memoizedState||(l.flags|=1024),l.memoizedProps=m,l.memoizedState=Pe),T.props=m,T.state=Pe,T.context=B,m=ee):(typeof T.componentDidUpdate!="function"||D===i.memoizedProps&&ae===i.memoizedState||(l.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||D===i.memoizedProps&&ae===i.memoizedState||(l.flags|=1024),m=!1)}return Ap(i,l,d,m,_,x)}function Ap(i,l,d,m,x,_){Mw(i,l);var T=(l.flags&128)!==0;if(!m&&!T)return x&&U0(l,d,!1),As(i,l,_);m=l.stateNode,mO.current=l;var D=T&&typeof d.getDerivedStateFromError!="function"?null:m.render();return l.flags|=1,i!==null&&T?(l.child=ra(l,i.child,null,_),l.child=ra(l,null,D,_)):Or(i,l,D,_),l.memoizedState=m.state,x&&U0(l,d,!0),l.child}function Lw(i){var l=i.stateNode;l.pendingContext?$0(i,l.pendingContext,l.pendingContext!==l.context):l.context&&$0(i,l.context,!1),mp(i,l.containerInfo)}function Fw(i,l,d,m,x){return ta(),lp(x),l.flags|=256,Or(i,l,d,m),l.child}var Op={dehydrated:null,treeContext:null,retryLane:0};function Ip(i){return{baseLanes:i,cachePool:null,transitions:null}}function $w(i,l,d){var m=l.pendingProps,x=At.current,_=!1,T=(l.flags&128)!==0,D;if((D=T)||(D=i!==null&&i.memoizedState===null?!1:(x&2)!==0),D?(_=!0,l.flags&=-129):(i===null||i.memoizedState!==null)&&(x|=1),St(At,x&1),i===null)return ap(l),i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((l.mode&1)===0?l.lanes=1:i.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(T=m.children,i=m.fallback,_?(m=l.mode,_=l.child,T={mode:"hidden",children:T},(m&1)===0&&_!==null?(_.childLanes=0,_.pendingProps=T):_=ad(T,m,0,null),i=so(i,m,d,null),_.return=l,i.return=l,_.sibling=i,l.child=_,l.child.memoizedState=Ip(d),l.memoizedState=Op,i):Mp(l,T));if(x=i.memoizedState,x!==null&&(D=x.dehydrated,D!==null))return gO(i,l,T,m,D,x,d);if(_){_=m.fallback,T=l.mode,x=i.child,D=x.sibling;var B={mode:"hidden",children:m.children};return(T&1)===0&&l.child!==x?(m=l.child,m.childLanes=0,m.pendingProps=B,l.deletions=null):(m=di(x,B),m.subtreeFlags=x.subtreeFlags&14680064),D!==null?_=di(D,_):(_=so(_,T,d,null),_.flags|=2),_.return=l,m.return=l,m.sibling=_,l.child=m,m=_,_=l.child,T=i.child.memoizedState,T=T===null?Ip(d):{baseLanes:T.baseLanes|d,cachePool:null,transitions:T.transitions},_.memoizedState=T,_.childLanes=i.childLanes&~d,l.memoizedState=Op,m}return _=i.child,i=_.sibling,m=di(_,{mode:"visible",children:m.children}),(l.mode&1)===0&&(m.lanes=d),m.return=l,m.sibling=null,i!==null&&(d=l.deletions,d===null?(l.deletions=[i],l.flags|=16):d.push(i)),l.child=m,l.memoizedState=null,m}function Mp(i,l){return l=ad({mode:"visible",children:l},i.mode,0,null),l.return=i,i.child=l}function Gu(i,l,d,m){return m!==null&&lp(m),ra(l,i.child,null,d),i=Mp(l,l.pendingProps.children),i.flags|=2,l.memoizedState=null,i}function gO(i,l,d,m,x,_,T){if(d)return l.flags&256?(l.flags&=-257,m=Tp(Error(r(422))),Gu(i,l,T,m)):l.memoizedState!==null?(l.child=i.child,l.flags|=128,null):(_=m.fallback,x=l.mode,m=ad({mode:"visible",children:m.children},x,0,null),_=so(_,x,T,null),_.flags|=2,m.return=l,_.return=l,m.sibling=_,l.child=m,(l.mode&1)!==0&&ra(l,i.child,null,T),l.child.memoizedState=Ip(T),l.memoizedState=Op,_);if((l.mode&1)===0)return Gu(i,l,T,null);if(x.data==="$!"){if(m=x.nextSibling&&x.nextSibling.dataset,m)var D=m.dgst;return m=D,_=Error(r(419)),m=Tp(_,m,void 0),Gu(i,l,T,m)}if(D=(T&i.childLanes)!==0,Yr||D){if(m=ar,m!==null){switch(T&-T){case 4:x=2;break;case 16:x=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:x=32;break;case 536870912:x=268435456;break;default:x=0}x=(x&(m.suspendedLanes|T))!==0?0:x,x!==0&&x!==_.retryLane&&(_.retryLane=x,Rs(i,x),Bn(m,i,x,-1))}return Zp(),m=Tp(Error(r(421))),Gu(i,l,T,m)}return x.data==="$?"?(l.flags|=128,l.child=i.child,l=TO.bind(null,i),x._reactRetry=l,null):(i=_.treeContext,cn=ei(x.nextSibling),ln=l,Rt=!0,Fn=null,i!==null&&(bn[_n++]=Ns,bn[_n++]=Ts,bn[_n++]=Yi,Ns=i.id,Ts=i.overflow,Yi=l),l=Mp(l,m.children),l.flags|=4096,l)}function Vw(i,l,d){i.lanes|=l;var m=i.alternate;m!==null&&(m.lanes|=l),fp(i.return,l,d)}function Dp(i,l,d,m,x){var _=i.memoizedState;_===null?i.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:m,tail:d,tailMode:x}:(_.isBackwards=l,_.rendering=null,_.renderingStartTime=0,_.last=m,_.tail=d,_.tailMode=x)}function Uw(i,l,d){var m=l.pendingProps,x=m.revealOrder,_=m.tail;if(Or(i,l,m.children,d),m=At.current,(m&2)!==0)m=m&1|2,l.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=l.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Vw(i,d,l);else if(i.tag===19)Vw(i,d,l);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===l)break e;for(;i.sibling===null;){if(i.return===null||i.return===l)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}m&=1}if(St(At,m),(l.mode&1)===0)l.memoizedState=null;else switch(x){case"forwards":for(d=l.child,x=null;d!==null;)i=d.alternate,i!==null&&Uu(i)===null&&(x=d),d=d.sibling;d=x,d===null?(x=l.child,l.child=null):(x=d.sibling,d.sibling=null),Dp(l,!1,x,d,_);break;case"backwards":for(d=null,x=l.child,l.child=null;x!==null;){if(i=x.alternate,i!==null&&Uu(i)===null){l.child=x;break}i=x.sibling,x.sibling=d,d=x,x=i}Dp(l,!0,d,null,_);break;case"together":Dp(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Yu(i,l){(l.mode&1)===0&&i!==null&&(i.alternate=null,l.alternate=null,l.flags|=2)}function As(i,l,d){if(i!==null&&(l.dependencies=i.dependencies),eo|=l.lanes,(d&l.childLanes)===0)return null;if(i!==null&&l.child!==i.child)throw Error(r(153));if(l.child!==null){for(i=l.child,d=di(i,i.pendingProps),l.child=d,d.return=l;i.sibling!==null;)i=i.sibling,d=d.sibling=di(i,i.pendingProps),d.return=l;d.sibling=null}return l.child}function yO(i,l,d){switch(l.tag){case 3:Lw(l),ta();break;case 5:tw(l);break;case 1:Gr(l.type)&&Pu(l);break;case 4:mp(l,l.stateNode.containerInfo);break;case 10:var m=l.type._context,x=l.memoizedProps.value;St(Lu,m._currentValue),m._currentValue=x;break;case 13:if(m=l.memoizedState,m!==null)return m.dehydrated!==null?(St(At,At.current&1),l.flags|=128,null):(d&l.child.childLanes)!==0?$w(i,l,d):(St(At,At.current&1),i=As(i,l,d),i!==null?i.sibling:null);St(At,At.current&1);break;case 19:if(m=(d&l.childLanes)!==0,(i.flags&128)!==0){if(m)return Uw(i,l,d);l.flags|=128}if(x=l.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),St(At,At.current),m)break;return null;case 22:case 23:return l.lanes=0,Iw(i,l,d)}return As(i,l,d)}var Bw,Lp,zw,Ww;Bw=function(i,l){for(var d=l.child;d!==null;){if(d.tag===5||d.tag===6)i.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},Lp=function(){},zw=function(i,l,d,m){var x=i.memoizedProps;if(x!==m){i=l.stateNode,Xi(ls.current);var _=null;switch(d){case"input":x=rt(i,x),m=rt(i,m),_=[];break;case"select":x=K({},x,{value:void 0}),m=K({},m,{value:void 0}),_=[];break;case"textarea":x=re(i,x),m=re(i,m),_=[];break;default:typeof x.onClick!="function"&&typeof m.onClick=="function"&&(i.onclick=Nu)}on(d,m);var T;d=null;for(ee in x)if(!m.hasOwnProperty(ee)&&x.hasOwnProperty(ee)&&x[ee]!=null)if(ee==="style"){var D=x[ee];for(T in D)D.hasOwnProperty(T)&&(d||(d={}),d[T]="")}else ee!=="dangerouslySetInnerHTML"&&ee!=="children"&&ee!=="suppressContentEditableWarning"&&ee!=="suppressHydrationWarning"&&ee!=="autoFocus"&&(s.hasOwnProperty(ee)?_||(_=[]):(_=_||[]).push(ee,null));for(ee in m){var B=m[ee];if(D=x?.[ee],m.hasOwnProperty(ee)&&B!==D&&(B!=null||D!=null))if(ee==="style")if(D){for(T in D)!D.hasOwnProperty(T)||B&&B.hasOwnProperty(T)||(d||(d={}),d[T]="");for(T in B)B.hasOwnProperty(T)&&D[T]!==B[T]&&(d||(d={}),d[T]=B[T])}else d||(_||(_=[]),_.push(ee,d)),d=B;else ee==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,D=D?D.__html:void 0,B!=null&&D!==B&&(_=_||[]).push(ee,B)):ee==="children"?typeof B!="string"&&typeof B!="number"||(_=_||[]).push(ee,""+B):ee!=="suppressContentEditableWarning"&&ee!=="suppressHydrationWarning"&&(s.hasOwnProperty(ee)?(B!=null&&ee==="onScroll"&&Et("scroll",i),_||D===B||(_=[])):(_=_||[]).push(ee,B))}d&&(_=_||[]).push("style",d);var ee=_;(l.updateQueue=ee)&&(l.flags|=4)}},Ww=function(i,l,d,m){d!==m&&(l.flags|=4)};function Vl(i,l){if(!Rt)switch(i.tailMode){case"hidden":l=i.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?i.tail=null:d.sibling=null;break;case"collapsed":d=i.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?l||i.tail===null?i.tail=null:i.tail.sibling=null:m.sibling=null}}function Nr(i){var l=i.alternate!==null&&i.alternate.child===i.child,d=0,m=0;if(l)for(var x=i.child;x!==null;)d|=x.lanes|x.childLanes,m|=x.subtreeFlags&14680064,m|=x.flags&14680064,x.return=i,x=x.sibling;else for(x=i.child;x!==null;)d|=x.lanes|x.childLanes,m|=x.subtreeFlags,m|=x.flags,x.return=i,x=x.sibling;return i.subtreeFlags|=m,i.childLanes=d,l}function vO(i,l,d){var m=l.pendingProps;switch(ip(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nr(l),null;case 1:return Gr(l.type)&&Ru(),Nr(l),null;case 3:return m=l.stateNode,ia(),Ct(Kr),Ct(Er),vp(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(i===null||i.child===null)&&(Mu(l)?l.flags|=4:i===null||i.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Fn!==null&&(Gp(Fn),Fn=null))),Lp(i,l),Nr(l),null;case 5:gp(l);var x=Xi(Ml.current);if(d=l.type,i!==null&&l.stateNode!=null)zw(i,l,d,m,x),i.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!m){if(l.stateNode===null)throw Error(r(166));return Nr(l),null}if(i=Xi(ls.current),Mu(l)){m=l.stateNode,d=l.type;var _=l.memoizedProps;switch(m[as]=l,m[Rl]=_,i=(l.mode&1)!==0,d){case"dialog":Et("cancel",m),Et("close",m);break;case"iframe":case"object":case"embed":Et("load",m);break;case"video":case"audio":for(x=0;x<Cl.length;x++)Et(Cl[x],m);break;case"source":Et("error",m);break;case"img":case"image":case"link":Et("error",m),Et("load",m);break;case"details":Et("toggle",m);break;case"input":st(m,_),Et("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!_.multiple},Et("invalid",m);break;case"textarea":ve(m,_),Et("invalid",m)}on(d,_),x=null;for(var T in _)if(_.hasOwnProperty(T)){var D=_[T];T==="children"?typeof D=="string"?m.textContent!==D&&(_.suppressHydrationWarning!==!0&&Cu(m.textContent,D,i),x=["children",D]):typeof D=="number"&&m.textContent!==""+D&&(_.suppressHydrationWarning!==!0&&Cu(m.textContent,D,i),x=["children",""+D]):s.hasOwnProperty(T)&&D!=null&&T==="onScroll"&&Et("scroll",m)}switch(d){case"input":je(m),at(m,_,!0);break;case"textarea":je(m),ce(m);break;case"select":case"option":break;default:typeof _.onClick=="function"&&(m.onclick=Nu)}m=x,l.updateQueue=m,m!==null&&(l.flags|=4)}else{T=x.nodeType===9?x:x.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=pe(d)),i==="http://www.w3.org/1999/xhtml"?d==="script"?(i=T.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof m.is=="string"?i=T.createElement(d,{is:m.is}):(i=T.createElement(d),d==="select"&&(T=i,m.multiple?T.multiple=!0:m.size&&(T.size=m.size))):i=T.createElementNS(i,d),i[as]=l,i[Rl]=m,Bw(i,l,!1,!1),l.stateNode=i;e:{switch(T=qi(d,m),d){case"dialog":Et("cancel",i),Et("close",i),x=m;break;case"iframe":case"object":case"embed":Et("load",i),x=m;break;case"video":case"audio":for(x=0;x<Cl.length;x++)Et(Cl[x],i);x=m;break;case"source":Et("error",i),x=m;break;case"img":case"image":case"link":Et("error",i),Et("load",i),x=m;break;case"details":Et("toggle",i),x=m;break;case"input":st(i,m),x=rt(i,m),Et("invalid",i);break;case"option":x=m;break;case"select":i._wrapperState={wasMultiple:!!m.multiple},x=K({},m,{value:void 0}),Et("invalid",i);break;case"textarea":ve(i,m),x=re(i,m),Et("invalid",i);break;default:x=m}on(d,x),D=x;for(_ in D)if(D.hasOwnProperty(_)){var B=D[_];_==="style"?kr(i,B):_==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,B!=null&&$t(i,B)):_==="children"?typeof B=="string"?(d!=="textarea"||B!=="")&&ir(i,B):typeof B=="number"&&ir(i,""+B):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(s.hasOwnProperty(_)?B!=null&&_==="onScroll"&&Et("scroll",i):B!=null&&k(i,_,B,T))}switch(d){case"input":je(i),at(i,m,!1);break;case"textarea":je(i),ce(i);break;case"option":m.value!=null&&i.setAttribute("value",""+ue(m.value));break;case"select":i.multiple=!!m.multiple,_=m.value,_!=null?G(i,!!m.multiple,_,!1):m.defaultValue!=null&&G(i,!!m.multiple,m.defaultValue,!0);break;default:typeof x.onClick=="function"&&(i.onclick=Nu)}switch(d){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return Nr(l),null;case 6:if(i&&l.stateNode!=null)Ww(i,l,i.memoizedProps,m);else{if(typeof m!="string"&&l.stateNode===null)throw Error(r(166));if(d=Xi(Ml.current),Xi(ls.current),Mu(l)){if(m=l.stateNode,d=l.memoizedProps,m[as]=l,(_=m.nodeValue!==d)&&(i=ln,i!==null))switch(i.tag){case 3:Cu(m.nodeValue,d,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Cu(m.nodeValue,d,(i.mode&1)!==0)}_&&(l.flags|=4)}else m=(d.nodeType===9?d:d.ownerDocument).createTextNode(m),m[as]=l,l.stateNode=m}return Nr(l),null;case 13:if(Ct(At),m=l.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(Rt&&cn!==null&&(l.mode&1)!==0&&(l.flags&128)===0)K0(),ta(),l.flags|=98560,_=!1;else if(_=Mu(l),m!==null&&m.dehydrated!==null){if(i===null){if(!_)throw Error(r(318));if(_=l.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(r(317));_[as]=l}else ta(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Nr(l),_=!1}else Fn!==null&&(Gp(Fn),Fn=null),_=!0;if(!_)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=d,l):(m=m!==null,m!==(i!==null&&i.memoizedState!==null)&&m&&(l.child.flags|=8192,(l.mode&1)!==0&&(i===null||(At.current&1)!==0?Xt===0&&(Xt=3):Zp())),l.updateQueue!==null&&(l.flags|=4),Nr(l),null);case 4:return ia(),Lp(i,l),i===null&&Nl(l.stateNode.containerInfo),Nr(l),null;case 10:return dp(l.type._context),Nr(l),null;case 17:return Gr(l.type)&&Ru(),Nr(l),null;case 19:if(Ct(At),_=l.memoizedState,_===null)return Nr(l),null;if(m=(l.flags&128)!==0,T=_.rendering,T===null)if(m)Vl(_,!1);else{if(Xt!==0||i!==null&&(i.flags&128)!==0)for(i=l.child;i!==null;){if(T=Uu(i),T!==null){for(l.flags|=128,Vl(_,!1),m=T.updateQueue,m!==null&&(l.updateQueue=m,l.flags|=4),l.subtreeFlags=0,m=d,d=l.child;d!==null;)_=d,i=m,_.flags&=14680066,T=_.alternate,T===null?(_.childLanes=0,_.lanes=i,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=T.childLanes,_.lanes=T.lanes,_.child=T.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=T.memoizedProps,_.memoizedState=T.memoizedState,_.updateQueue=T.updateQueue,_.type=T.type,i=T.dependencies,_.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),d=d.sibling;return St(At,At.current&1|2),l.child}i=i.sibling}_.tail!==null&&Vt()>ca&&(l.flags|=128,m=!0,Vl(_,!1),l.lanes=4194304)}else{if(!m)if(i=Uu(T),i!==null){if(l.flags|=128,m=!0,d=i.updateQueue,d!==null&&(l.updateQueue=d,l.flags|=4),Vl(_,!0),_.tail===null&&_.tailMode==="hidden"&&!T.alternate&&!Rt)return Nr(l),null}else 2*Vt()-_.renderingStartTime>ca&&d!==1073741824&&(l.flags|=128,m=!0,Vl(_,!1),l.lanes=4194304);_.isBackwards?(T.sibling=l.child,l.child=T):(d=_.last,d!==null?d.sibling=T:l.child=T,_.last=T)}return _.tail!==null?(l=_.tail,_.rendering=l,_.tail=l.sibling,_.renderingStartTime=Vt(),l.sibling=null,d=At.current,St(At,m?d&1|2:d&1),l):(Nr(l),null);case 22:case 23:return Qp(),m=l.memoizedState!==null,i!==null&&i.memoizedState!==null!==m&&(l.flags|=8192),m&&(l.mode&1)!==0?(un&1073741824)!==0&&(Nr(l),l.subtreeFlags&6&&(l.flags|=8192)):Nr(l),null;case 24:return null;case 25:return null}throw Error(r(156,l.tag))}function xO(i,l){switch(ip(l),l.tag){case 1:return Gr(l.type)&&Ru(),i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 3:return ia(),Ct(Kr),Ct(Er),vp(),i=l.flags,(i&65536)!==0&&(i&128)===0?(l.flags=i&-65537|128,l):null;case 5:return gp(l),null;case 13:if(Ct(At),i=l.memoizedState,i!==null&&i.dehydrated!==null){if(l.alternate===null)throw Error(r(340));ta()}return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 19:return Ct(At),null;case 4:return ia(),null;case 10:return dp(l.type._context),null;case 22:case 23:return Qp(),null;case 24:return null;default:return null}}var Qu=!1,Tr=!1,wO=typeof WeakSet=="function"?WeakSet:Set,Re=null;function aa(i,l){var d=i.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(m){Dt(i,l,m)}else d.current=null}function Fp(i,l,d){try{d()}catch(m){Dt(i,l,m)}}var qw=!1;function bO(i,l){if(Qh=gu,i=S0(),Bh(i)){if("selectionStart"in i)var d={start:i.selectionStart,end:i.selectionEnd};else e:{d=(d=i.ownerDocument)&&d.defaultView||window;var m=d.getSelection&&d.getSelection();if(m&&m.rangeCount!==0){d=m.anchorNode;var x=m.anchorOffset,_=m.focusNode;m=m.focusOffset;try{d.nodeType,_.nodeType}catch{d=null;break e}var T=0,D=-1,B=-1,ee=0,le=0,he=i,ae=null;t:for(;;){for(var Ce;he!==d||x!==0&&he.nodeType!==3||(D=T+x),he!==_||m!==0&&he.nodeType!==3||(B=T+m),he.nodeType===3&&(T+=he.nodeValue.length),(Ce=he.firstChild)!==null;)ae=he,he=Ce;for(;;){if(he===i)break t;if(ae===d&&++ee===x&&(D=T),ae===_&&++le===m&&(B=T),(Ce=he.nextSibling)!==null)break;he=ae,ae=he.parentNode}he=Ce}d=D===-1||B===-1?null:{start:D,end:B}}else d=null}d=d||{start:0,end:0}}else d=null;for(Zh={focusedElem:i,selectionRange:d},gu=!1,Re=l;Re!==null;)if(l=Re,i=l.child,(l.subtreeFlags&1028)!==0&&i!==null)i.return=l,Re=i;else for(;Re!==null;){l=Re;try{var Pe=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(Pe!==null){var Oe=Pe.memoizedProps,Ut=Pe.memoizedState,Y=l.stateNode,W=Y.getSnapshotBeforeUpdate(l.elementType===l.type?Oe:$n(l.type,Oe),Ut);Y.__reactInternalSnapshotBeforeUpdate=W}break;case 3:var Z=l.stateNode.containerInfo;Z.nodeType===1?Z.textContent="":Z.nodeType===9&&Z.documentElement&&Z.removeChild(Z.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(me){Dt(l,l.return,me)}if(i=l.sibling,i!==null){i.return=l.return,Re=i;break}Re=l.return}return Pe=qw,qw=!1,Pe}function Ul(i,l,d){var m=l.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var x=m=m.next;do{if((x.tag&i)===i){var _=x.destroy;x.destroy=void 0,_!==void 0&&Fp(l,d,_)}x=x.next}while(x!==m)}}function Zu(i,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var d=l=l.next;do{if((d.tag&i)===i){var m=d.create;d.destroy=m()}d=d.next}while(d!==l)}}function $p(i){var l=i.ref;if(l!==null){var d=i.stateNode;i.tag,i=d,typeof l=="function"?l(i):l.current=i}}function Hw(i){var l=i.alternate;l!==null&&(i.alternate=null,Hw(l)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(l=i.stateNode,l!==null&&(delete l[as],delete l[Rl],delete l[tp],delete l[nO],delete l[sO])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Kw(i){return i.tag===5||i.tag===3||i.tag===4}function Gw(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Kw(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Vp(i,l,d){var m=i.tag;if(m===5||m===6)i=i.stateNode,l?d.nodeType===8?d.parentNode.insertBefore(i,l):d.insertBefore(i,l):(d.nodeType===8?(l=d.parentNode,l.insertBefore(i,d)):(l=d,l.appendChild(i)),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=Nu));else if(m!==4&&(i=i.child,i!==null))for(Vp(i,l,d),i=i.sibling;i!==null;)Vp(i,l,d),i=i.sibling}function Up(i,l,d){var m=i.tag;if(m===5||m===6)i=i.stateNode,l?d.insertBefore(i,l):d.appendChild(i);else if(m!==4&&(i=i.child,i!==null))for(Up(i,l,d),i=i.sibling;i!==null;)Up(i,l,d),i=i.sibling}var gr=null,Vn=!1;function oi(i,l,d){for(d=d.child;d!==null;)Yw(i,l,d),d=d.sibling}function Yw(i,l,d){if(os&&typeof os.onCommitFiberUnmount=="function")try{os.onCommitFiberUnmount(uu,d)}catch{}switch(d.tag){case 5:Tr||aa(d,l);case 6:var m=gr,x=Vn;gr=null,oi(i,l,d),gr=m,Vn=x,gr!==null&&(Vn?(i=gr,d=d.stateNode,i.nodeType===8?i.parentNode.removeChild(d):i.removeChild(d)):gr.removeChild(d.stateNode));break;case 18:gr!==null&&(Vn?(i=gr,d=d.stateNode,i.nodeType===8?ep(i.parentNode,d):i.nodeType===1&&ep(i,d),xl(i)):ep(gr,d.stateNode));break;case 4:m=gr,x=Vn,gr=d.stateNode.containerInfo,Vn=!0,oi(i,l,d),gr=m,Vn=x;break;case 0:case 11:case 14:case 15:if(!Tr&&(m=d.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){x=m=m.next;do{var _=x,T=_.destroy;_=_.tag,T!==void 0&&((_&2)!==0||(_&4)!==0)&&Fp(d,l,T),x=x.next}while(x!==m)}oi(i,l,d);break;case 1:if(!Tr&&(aa(d,l),m=d.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=d.memoizedProps,m.state=d.memoizedState,m.componentWillUnmount()}catch(D){Dt(d,l,D)}oi(i,l,d);break;case 21:oi(i,l,d);break;case 22:d.mode&1?(Tr=(m=Tr)||d.memoizedState!==null,oi(i,l,d),Tr=m):oi(i,l,d);break;default:oi(i,l,d)}}function Qw(i){var l=i.updateQueue;if(l!==null){i.updateQueue=null;var d=i.stateNode;d===null&&(d=i.stateNode=new wO),l.forEach(function(m){var x=RO.bind(null,i,m);d.has(m)||(d.add(m),m.then(x,x))})}}function Un(i,l){var d=l.deletions;if(d!==null)for(var m=0;m<d.length;m++){var x=d[m];try{var _=i,T=l,D=T;e:for(;D!==null;){switch(D.tag){case 5:gr=D.stateNode,Vn=!1;break e;case 3:gr=D.stateNode.containerInfo,Vn=!0;break e;case 4:gr=D.stateNode.containerInfo,Vn=!0;break e}D=D.return}if(gr===null)throw Error(r(160));Yw(_,T,x),gr=null,Vn=!1;var B=x.alternate;B!==null&&(B.return=null),x.return=null}catch(ee){Dt(x,l,ee)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)Zw(l,i),l=l.sibling}function Zw(i,l){var d=i.alternate,m=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Un(l,i),us(i),m&4){try{Ul(3,i,i.return),Zu(3,i)}catch(Oe){Dt(i,i.return,Oe)}try{Ul(5,i,i.return)}catch(Oe){Dt(i,i.return,Oe)}}break;case 1:Un(l,i),us(i),m&512&&d!==null&&aa(d,d.return);break;case 5:if(Un(l,i),us(i),m&512&&d!==null&&aa(d,d.return),i.flags&32){var x=i.stateNode;try{ir(x,"")}catch(Oe){Dt(i,i.return,Oe)}}if(m&4&&(x=i.stateNode,x!=null)){var _=i.memoizedProps,T=d!==null?d.memoizedProps:_,D=i.type,B=i.updateQueue;if(i.updateQueue=null,B!==null)try{D==="input"&&_.type==="radio"&&_.name!=null&&qe(x,_),qi(D,T);var ee=qi(D,_);for(T=0;T<B.length;T+=2){var le=B[T],he=B[T+1];le==="style"?kr(x,he):le==="dangerouslySetInnerHTML"?$t(x,he):le==="children"?ir(x,he):k(x,le,he,ee)}switch(D){case"input":wt(x,_);break;case"textarea":de(x,_);break;case"select":var ae=x._wrapperState.wasMultiple;x._wrapperState.wasMultiple=!!_.multiple;var Ce=_.value;Ce!=null?G(x,!!_.multiple,Ce,!1):ae!==!!_.multiple&&(_.defaultValue!=null?G(x,!!_.multiple,_.defaultValue,!0):G(x,!!_.multiple,_.multiple?[]:"",!1))}x[Rl]=_}catch(Oe){Dt(i,i.return,Oe)}}break;case 6:if(Un(l,i),us(i),m&4){if(i.stateNode===null)throw Error(r(162));x=i.stateNode,_=i.memoizedProps;try{x.nodeValue=_}catch(Oe){Dt(i,i.return,Oe)}}break;case 3:if(Un(l,i),us(i),m&4&&d!==null&&d.memoizedState.isDehydrated)try{xl(l.containerInfo)}catch(Oe){Dt(i,i.return,Oe)}break;case 4:Un(l,i),us(i);break;case 13:Un(l,i),us(i),x=i.child,x.flags&8192&&(_=x.memoizedState!==null,x.stateNode.isHidden=_,!_||x.alternate!==null&&x.alternate.memoizedState!==null||(Wp=Vt())),m&4&&Qw(i);break;case 22:if(le=d!==null&&d.memoizedState!==null,i.mode&1?(Tr=(ee=Tr)||le,Un(l,i),Tr=ee):Un(l,i),us(i),m&8192){if(ee=i.memoizedState!==null,(i.stateNode.isHidden=ee)&&!le&&(i.mode&1)!==0)for(Re=i,le=i.child;le!==null;){for(he=Re=le;Re!==null;){switch(ae=Re,Ce=ae.child,ae.tag){case 0:case 11:case 14:case 15:Ul(4,ae,ae.return);break;case 1:aa(ae,ae.return);var Pe=ae.stateNode;if(typeof Pe.componentWillUnmount=="function"){m=ae,d=ae.return;try{l=m,Pe.props=l.memoizedProps,Pe.state=l.memoizedState,Pe.componentWillUnmount()}catch(Oe){Dt(m,d,Oe)}}break;case 5:aa(ae,ae.return);break;case 22:if(ae.memoizedState!==null){eb(he);continue}}Ce!==null?(Ce.return=ae,Re=Ce):eb(he)}le=le.sibling}e:for(le=null,he=i;;){if(he.tag===5){if(le===null){le=he;try{x=he.stateNode,ee?(_=x.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none"):(D=he.stateNode,B=he.memoizedProps.style,T=B!=null&&B.hasOwnProperty("display")?B.display:null,D.style.display=jr("display",T))}catch(Oe){Dt(i,i.return,Oe)}}}else if(he.tag===6){if(le===null)try{he.stateNode.nodeValue=ee?"":he.memoizedProps}catch(Oe){Dt(i,i.return,Oe)}}else if((he.tag!==22&&he.tag!==23||he.memoizedState===null||he===i)&&he.child!==null){he.child.return=he,he=he.child;continue}if(he===i)break e;for(;he.sibling===null;){if(he.return===null||he.return===i)break e;le===he&&(le=null),he=he.return}le===he&&(le=null),he.sibling.return=he.return,he=he.sibling}}break;case 19:Un(l,i),us(i),m&4&&Qw(i);break;case 21:break;default:Un(l,i),us(i)}}function us(i){var l=i.flags;if(l&2){try{e:{for(var d=i.return;d!==null;){if(Kw(d)){var m=d;break e}d=d.return}throw Error(r(160))}switch(m.tag){case 5:var x=m.stateNode;m.flags&32&&(ir(x,""),m.flags&=-33);var _=Gw(i);Up(i,_,x);break;case 3:case 4:var T=m.stateNode.containerInfo,D=Gw(i);Vp(i,D,T);break;default:throw Error(r(161))}}catch(B){Dt(i,i.return,B)}i.flags&=-3}l&4096&&(i.flags&=-4097)}function _O(i,l,d){Re=i,Xw(i)}function Xw(i,l,d){for(var m=(i.mode&1)!==0;Re!==null;){var x=Re,_=x.child;if(x.tag===22&&m){var T=x.memoizedState!==null||Qu;if(!T){var D=x.alternate,B=D!==null&&D.memoizedState!==null||Tr;D=Qu;var ee=Tr;if(Qu=T,(Tr=B)&&!ee)for(Re=x;Re!==null;)T=Re,B=T.child,T.tag===22&&T.memoizedState!==null?tb(x):B!==null?(B.return=T,Re=B):tb(x);for(;_!==null;)Re=_,Xw(_),_=_.sibling;Re=x,Qu=D,Tr=ee}Jw(i)}else(x.subtreeFlags&8772)!==0&&_!==null?(_.return=x,Re=_):Jw(i)}}function Jw(i){for(;Re!==null;){var l=Re;if((l.flags&8772)!==0){var d=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:Tr||Zu(5,l);break;case 1:var m=l.stateNode;if(l.flags&4&&!Tr)if(d===null)m.componentDidMount();else{var x=l.elementType===l.type?d.memoizedProps:$n(l.type,d.memoizedProps);m.componentDidUpdate(x,d.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var _=l.updateQueue;_!==null&&ew(l,_,m);break;case 3:var T=l.updateQueue;if(T!==null){if(d=null,l.child!==null)switch(l.child.tag){case 5:d=l.child.stateNode;break;case 1:d=l.child.stateNode}ew(l,T,d)}break;case 5:var D=l.stateNode;if(d===null&&l.flags&4){d=D;var B=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":B.autoFocus&&d.focus();break;case"img":B.src&&(d.src=B.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var ee=l.alternate;if(ee!==null){var le=ee.memoizedState;if(le!==null){var he=le.dehydrated;he!==null&&xl(he)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Tr||l.flags&512&&$p(l)}catch(ae){Dt(l,l.return,ae)}}if(l===i){Re=null;break}if(d=l.sibling,d!==null){d.return=l.return,Re=d;break}Re=l.return}}function eb(i){for(;Re!==null;){var l=Re;if(l===i){Re=null;break}var d=l.sibling;if(d!==null){d.return=l.return,Re=d;break}Re=l.return}}function tb(i){for(;Re!==null;){var l=Re;try{switch(l.tag){case 0:case 11:case 15:var d=l.return;try{Zu(4,l)}catch(B){Dt(l,d,B)}break;case 1:var m=l.stateNode;if(typeof m.componentDidMount=="function"){var x=l.return;try{m.componentDidMount()}catch(B){Dt(l,x,B)}}var _=l.return;try{$p(l)}catch(B){Dt(l,_,B)}break;case 5:var T=l.return;try{$p(l)}catch(B){Dt(l,T,B)}}}catch(B){Dt(l,l.return,B)}if(l===i){Re=null;break}var D=l.sibling;if(D!==null){D.return=l.return,Re=D;break}Re=l.return}}var SO=Math.ceil,Xu=P.ReactCurrentDispatcher,Bp=P.ReactCurrentOwner,kn=P.ReactCurrentBatchConfig,ft=0,ar=null,Wt=null,yr=0,un=0,la=ti(0),Xt=0,Bl=null,eo=0,Ju=0,zp=0,zl=null,Qr=null,Wp=0,ca=1/0,Os=null,ed=!1,qp=null,ai=null,td=!1,li=null,rd=0,Wl=0,Hp=null,nd=-1,sd=0;function Ir(){return(ft&6)!==0?Vt():nd!==-1?nd:nd=Vt()}function ci(i){return(i.mode&1)===0?1:(ft&2)!==0&&yr!==0?yr&-yr:oO.transition!==null?(sd===0&&(sd=Gx()),sd):(i=yt,i!==0||(i=window.event,i=i===void 0?16:n0(i.type)),i)}function Bn(i,l,d,m){if(50<Wl)throw Wl=0,Hp=null,Error(r(185));pl(i,d,m),((ft&2)===0||i!==ar)&&(i===ar&&((ft&2)===0&&(Ju|=d),Xt===4&&ui(i,yr)),Zr(i,m),d===1&&ft===0&&(l.mode&1)===0&&(ca=Vt()+500,Au&&ni()))}function Zr(i,l){var d=i.callbackNode;oA(i,l);var m=hu(i,i===ar?yr:0);if(m===0)d!==null&&qx(d),i.callbackNode=null,i.callbackPriority=0;else if(l=m&-m,i.callbackPriority!==l){if(d!=null&&qx(d),l===1)i.tag===0?iO(nb.bind(null,i)):B0(nb.bind(null,i)),tO(function(){(ft&6)===0&&ni()}),d=null;else{switch(Yx(m)){case 1:d=kh;break;case 4:d=Hx;break;case 16:d=cu;break;case 536870912:d=Kx;break;default:d=cu}d=db(d,rb.bind(null,i))}i.callbackPriority=l,i.callbackNode=d}}function rb(i,l){if(nd=-1,sd=0,(ft&6)!==0)throw Error(r(327));var d=i.callbackNode;if(ua()&&i.callbackNode!==d)return null;var m=hu(i,i===ar?yr:0);if(m===0)return null;if((m&30)!==0||(m&i.expiredLanes)!==0||l)l=id(i,m);else{l=m;var x=ft;ft|=2;var _=ib();(ar!==i||yr!==l)&&(Os=null,ca=Vt()+500,ro(i,l));do try{EO();break}catch(D){sb(i,D)}while(!0);up(),Xu.current=_,ft=x,Wt!==null?l=0:(ar=null,yr=0,l=Xt)}if(l!==0){if(l===2&&(x=Eh(i),x!==0&&(m=x,l=Kp(i,x))),l===1)throw d=Bl,ro(i,0),ui(i,m),Zr(i,Vt()),d;if(l===6)ui(i,m);else{if(x=i.current.alternate,(m&30)===0&&!jO(x)&&(l=id(i,m),l===2&&(_=Eh(i),_!==0&&(m=_,l=Kp(i,_))),l===1))throw d=Bl,ro(i,0),ui(i,m),Zr(i,Vt()),d;switch(i.finishedWork=x,i.finishedLanes=m,l){case 0:case 1:throw Error(r(345));case 2:no(i,Qr,Os);break;case 3:if(ui(i,m),(m&130023424)===m&&(l=Wp+500-Vt(),10<l)){if(hu(i,0)!==0)break;if(x=i.suspendedLanes,(x&m)!==m){Ir(),i.pingedLanes|=i.suspendedLanes&x;break}i.timeoutHandle=Jh(no.bind(null,i,Qr,Os),l);break}no(i,Qr,Os);break;case 4:if(ui(i,m),(m&4194240)===m)break;for(l=i.eventTimes,x=-1;0<m;){var T=31-Dn(m);_=1<<T,T=l[T],T>x&&(x=T),m&=~_}if(m=x,m=Vt()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*SO(m/1960))-m,10<m){i.timeoutHandle=Jh(no.bind(null,i,Qr,Os),m);break}no(i,Qr,Os);break;case 5:no(i,Qr,Os);break;default:throw Error(r(329))}}}return Zr(i,Vt()),i.callbackNode===d?rb.bind(null,i):null}function Kp(i,l){var d=zl;return i.current.memoizedState.isDehydrated&&(ro(i,l).flags|=256),i=id(i,l),i!==2&&(l=Qr,Qr=d,l!==null&&Gp(l)),i}function Gp(i){Qr===null?Qr=i:Qr.push.apply(Qr,i)}function jO(i){for(var l=i;;){if(l.flags&16384){var d=l.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var m=0;m<d.length;m++){var x=d[m],_=x.getSnapshot;x=x.value;try{if(!Ln(_(),x))return!1}catch{return!1}}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function ui(i,l){for(l&=~zp,l&=~Ju,i.suspendedLanes|=l,i.pingedLanes&=~l,i=i.expirationTimes;0<l;){var d=31-Dn(l),m=1<<d;i[d]=-1,l&=~m}}function nb(i){if((ft&6)!==0)throw Error(r(327));ua();var l=hu(i,0);if((l&1)===0)return Zr(i,Vt()),null;var d=id(i,l);if(i.tag!==0&&d===2){var m=Eh(i);m!==0&&(l=m,d=Kp(i,m))}if(d===1)throw d=Bl,ro(i,0),ui(i,l),Zr(i,Vt()),d;if(d===6)throw Error(r(345));return i.finishedWork=i.current.alternate,i.finishedLanes=l,no(i,Qr,Os),Zr(i,Vt()),null}function Yp(i,l){var d=ft;ft|=1;try{return i(l)}finally{ft=d,ft===0&&(ca=Vt()+500,Au&&ni())}}function to(i){li!==null&&li.tag===0&&(ft&6)===0&&ua();var l=ft;ft|=1;var d=kn.transition,m=yt;try{if(kn.transition=null,yt=1,i)return i()}finally{yt=m,kn.transition=d,ft=l,(ft&6)===0&&ni()}}function Qp(){un=la.current,Ct(la)}function ro(i,l){i.finishedWork=null,i.finishedLanes=0;var d=i.timeoutHandle;if(d!==-1&&(i.timeoutHandle=-1,eO(d)),Wt!==null)for(d=Wt.return;d!==null;){var m=d;switch(ip(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&Ru();break;case 3:ia(),Ct(Kr),Ct(Er),vp();break;case 5:gp(m);break;case 4:ia();break;case 13:Ct(At);break;case 19:Ct(At);break;case 10:dp(m.type._context);break;case 22:case 23:Qp()}d=d.return}if(ar=i,Wt=i=di(i.current,null),yr=un=l,Xt=0,Bl=null,zp=Ju=eo=0,Qr=zl=null,Zi!==null){for(l=0;l<Zi.length;l++)if(d=Zi[l],m=d.interleaved,m!==null){d.interleaved=null;var x=m.next,_=d.pending;if(_!==null){var T=_.next;_.next=x,m.next=T}d.pending=m}Zi=null}return i}function sb(i,l){do{var d=Wt;try{if(up(),Bu.current=Hu,zu){for(var m=Ot.memoizedState;m!==null;){var x=m.queue;x!==null&&(x.pending=null),m=m.next}zu=!1}if(Ji=0,or=Zt=Ot=null,Dl=!1,Ll=0,Bp.current=null,d===null||d.return===null){Xt=1,Bl=l,Wt=null;break}e:{var _=i,T=d.return,D=d,B=l;if(l=yr,D.flags|=32768,B!==null&&typeof B=="object"&&typeof B.then=="function"){var ee=B,le=D,he=le.tag;if((le.mode&1)===0&&(he===0||he===11||he===15)){var ae=le.alternate;ae?(le.updateQueue=ae.updateQueue,le.memoizedState=ae.memoizedState,le.lanes=ae.lanes):(le.updateQueue=null,le.memoizedState=null)}var Ce=Tw(T);if(Ce!==null){Ce.flags&=-257,Rw(Ce,T,D,_,l),Ce.mode&1&&Nw(_,ee,l),l=Ce,B=ee;var Pe=l.updateQueue;if(Pe===null){var Oe=new Set;Oe.add(B),l.updateQueue=Oe}else Pe.add(B);break e}else{if((l&1)===0){Nw(_,ee,l),Zp();break e}B=Error(r(426))}}else if(Rt&&D.mode&1){var Ut=Tw(T);if(Ut!==null){(Ut.flags&65536)===0&&(Ut.flags|=256),Rw(Ut,T,D,_,l),lp(oa(B,D));break e}}_=B=oa(B,D),Xt!==4&&(Xt=2),zl===null?zl=[_]:zl.push(_),_=T;do{switch(_.tag){case 3:_.flags|=65536,l&=-l,_.lanes|=l;var Y=Ew(_,B,l);J0(_,Y);break e;case 1:D=B;var W=_.type,Z=_.stateNode;if((_.flags&128)===0&&(typeof W.getDerivedStateFromError=="function"||Z!==null&&typeof Z.componentDidCatch=="function"&&(ai===null||!ai.has(Z)))){_.flags|=65536,l&=-l,_.lanes|=l;var me=Cw(_,D,l);J0(_,me);break e}}_=_.return}while(_!==null)}ab(d)}catch(De){l=De,Wt===d&&d!==null&&(Wt=d=d.return);continue}break}while(!0)}function ib(){var i=Xu.current;return Xu.current=Hu,i===null?Hu:i}function Zp(){(Xt===0||Xt===3||Xt===2)&&(Xt=4),ar===null||(eo&268435455)===0&&(Ju&268435455)===0||ui(ar,yr)}function id(i,l){var d=ft;ft|=2;var m=ib();(ar!==i||yr!==l)&&(Os=null,ro(i,l));do try{kO();break}catch(x){sb(i,x)}while(!0);if(up(),ft=d,Xu.current=m,Wt!==null)throw Error(r(261));return ar=null,yr=0,Xt}function kO(){for(;Wt!==null;)ob(Wt)}function EO(){for(;Wt!==null&&!ZP();)ob(Wt)}function ob(i){var l=ub(i.alternate,i,un);i.memoizedProps=i.pendingProps,l===null?ab(i):Wt=l,Bp.current=null}function ab(i){var l=i;do{var d=l.alternate;if(i=l.return,(l.flags&32768)===0){if(d=vO(d,l,un),d!==null){Wt=d;return}}else{if(d=xO(d,l),d!==null){d.flags&=32767,Wt=d;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Xt=6,Wt=null;return}}if(l=l.sibling,l!==null){Wt=l;return}Wt=l=i}while(l!==null);Xt===0&&(Xt=5)}function no(i,l,d){var m=yt,x=kn.transition;try{kn.transition=null,yt=1,CO(i,l,d,m)}finally{kn.transition=x,yt=m}return null}function CO(i,l,d,m){do ua();while(li!==null);if((ft&6)!==0)throw Error(r(327));d=i.finishedWork;var x=i.finishedLanes;if(d===null)return null;if(i.finishedWork=null,i.finishedLanes=0,d===i.current)throw Error(r(177));i.callbackNode=null,i.callbackPriority=0;var _=d.lanes|d.childLanes;if(aA(i,_),i===ar&&(Wt=ar=null,yr=0),(d.subtreeFlags&2064)===0&&(d.flags&2064)===0||td||(td=!0,db(cu,function(){return ua(),null})),_=(d.flags&15990)!==0,(d.subtreeFlags&15990)!==0||_){_=kn.transition,kn.transition=null;var T=yt;yt=1;var D=ft;ft|=4,Bp.current=null,bO(i,d),Zw(d,i),KA(Zh),gu=!!Qh,Zh=Qh=null,i.current=d,_O(d),XP(),ft=D,yt=T,kn.transition=_}else i.current=d;if(td&&(td=!1,li=i,rd=x),_=i.pendingLanes,_===0&&(ai=null),tA(d.stateNode),Zr(i,Vt()),l!==null)for(m=i.onRecoverableError,d=0;d<l.length;d++)x=l[d],m(x.value,{componentStack:x.stack,digest:x.digest});if(ed)throw ed=!1,i=qp,qp=null,i;return(rd&1)!==0&&i.tag!==0&&ua(),_=i.pendingLanes,(_&1)!==0?i===Hp?Wl++:(Wl=0,Hp=i):Wl=0,ni(),null}function ua(){if(li!==null){var i=Yx(rd),l=kn.transition,d=yt;try{if(kn.transition=null,yt=16>i?16:i,li===null)var m=!1;else{if(i=li,li=null,rd=0,(ft&6)!==0)throw Error(r(331));var x=ft;for(ft|=4,Re=i.current;Re!==null;){var _=Re,T=_.child;if((Re.flags&16)!==0){var D=_.deletions;if(D!==null){for(var B=0;B<D.length;B++){var ee=D[B];for(Re=ee;Re!==null;){var le=Re;switch(le.tag){case 0:case 11:case 15:Ul(8,le,_)}var he=le.child;if(he!==null)he.return=le,Re=he;else for(;Re!==null;){le=Re;var ae=le.sibling,Ce=le.return;if(Hw(le),le===ee){Re=null;break}if(ae!==null){ae.return=Ce,Re=ae;break}Re=Ce}}}var Pe=_.alternate;if(Pe!==null){var Oe=Pe.child;if(Oe!==null){Pe.child=null;do{var Ut=Oe.sibling;Oe.sibling=null,Oe=Ut}while(Oe!==null)}}Re=_}}if((_.subtreeFlags&2064)!==0&&T!==null)T.return=_,Re=T;else e:for(;Re!==null;){if(_=Re,(_.flags&2048)!==0)switch(_.tag){case 0:case 11:case 15:Ul(9,_,_.return)}var Y=_.sibling;if(Y!==null){Y.return=_.return,Re=Y;break e}Re=_.return}}var W=i.current;for(Re=W;Re!==null;){T=Re;var Z=T.child;if((T.subtreeFlags&2064)!==0&&Z!==null)Z.return=T,Re=Z;else e:for(T=W;Re!==null;){if(D=Re,(D.flags&2048)!==0)try{switch(D.tag){case 0:case 11:case 15:Zu(9,D)}}catch(De){Dt(D,D.return,De)}if(D===T){Re=null;break e}var me=D.sibling;if(me!==null){me.return=D.return,Re=me;break e}Re=D.return}}if(ft=x,ni(),os&&typeof os.onPostCommitFiberRoot=="function")try{os.onPostCommitFiberRoot(uu,i)}catch{}m=!0}return m}finally{yt=d,kn.transition=l}}return!1}function lb(i,l,d){l=oa(d,l),l=Ew(i,l,1),i=ii(i,l,1),l=Ir(),i!==null&&(pl(i,1,l),Zr(i,l))}function Dt(i,l,d){if(i.tag===3)lb(i,i,d);else for(;l!==null;){if(l.tag===3){lb(l,i,d);break}else if(l.tag===1){var m=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(ai===null||!ai.has(m))){i=oa(d,i),i=Cw(l,i,1),l=ii(l,i,1),i=Ir(),l!==null&&(pl(l,1,i),Zr(l,i));break}}l=l.return}}function NO(i,l,d){var m=i.pingCache;m!==null&&m.delete(l),l=Ir(),i.pingedLanes|=i.suspendedLanes&d,ar===i&&(yr&d)===d&&(Xt===4||Xt===3&&(yr&130023424)===yr&&500>Vt()-Wp?ro(i,0):zp|=d),Zr(i,l)}function cb(i,l){l===0&&((i.mode&1)===0?l=1:(l=fu,fu<<=1,(fu&130023424)===0&&(fu=4194304)));var d=Ir();i=Rs(i,l),i!==null&&(pl(i,l,d),Zr(i,d))}function TO(i){var l=i.memoizedState,d=0;l!==null&&(d=l.retryLane),cb(i,d)}function RO(i,l){var d=0;switch(i.tag){case 13:var m=i.stateNode,x=i.memoizedState;x!==null&&(d=x.retryLane);break;case 19:m=i.stateNode;break;default:throw Error(r(314))}m!==null&&m.delete(l),cb(i,d)}var ub;ub=function(i,l,d){if(i!==null)if(i.memoizedProps!==l.pendingProps||Kr.current)Yr=!0;else{if((i.lanes&d)===0&&(l.flags&128)===0)return Yr=!1,yO(i,l,d);Yr=(i.flags&131072)!==0}else Yr=!1,Rt&&(l.flags&1048576)!==0&&z0(l,Iu,l.index);switch(l.lanes=0,l.tag){case 2:var m=l.type;Yu(i,l),i=l.pendingProps;var x=Xo(l,Er.current);sa(l,d),x=bp(null,l,m,i,x,d);var _=_p();return l.flags|=1,typeof x=="object"&&x!==null&&typeof x.render=="function"&&x.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,Gr(m)?(_=!0,Pu(l)):_=!1,l.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,pp(l),x.updater=Ku,l.stateNode=x,x._reactInternals=l,Np(l,m,i,d),l=Ap(null,l,m,!0,_,d)):(l.tag=0,Rt&&_&&sp(l),Or(null,l,x,d),l=l.child),l;case 16:m=l.elementType;e:{switch(Yu(i,l),i=l.pendingProps,x=m._init,m=x(m._payload),l.type=m,x=l.tag=AO(m),i=$n(m,i),x){case 0:l=Pp(null,l,m,i,d);break e;case 1:l=Dw(null,l,m,i,d);break e;case 11:l=Pw(null,l,m,i,d);break e;case 14:l=Aw(null,l,m,$n(m.type,i),d);break e}throw Error(r(306,m,""))}return l;case 0:return m=l.type,x=l.pendingProps,x=l.elementType===m?x:$n(m,x),Pp(i,l,m,x,d);case 1:return m=l.type,x=l.pendingProps,x=l.elementType===m?x:$n(m,x),Dw(i,l,m,x,d);case 3:e:{if(Lw(l),i===null)throw Error(r(387));m=l.pendingProps,_=l.memoizedState,x=_.element,X0(i,l),Vu(l,m,null,d);var T=l.memoizedState;if(m=T.element,_.isDehydrated)if(_={element:m,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},l.updateQueue.baseState=_,l.memoizedState=_,l.flags&256){x=oa(Error(r(423)),l),l=Fw(i,l,m,d,x);break e}else if(m!==x){x=oa(Error(r(424)),l),l=Fw(i,l,m,d,x);break e}else for(cn=ei(l.stateNode.containerInfo.firstChild),ln=l,Rt=!0,Fn=null,d=Q0(l,null,m,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(ta(),m===x){l=As(i,l,d);break e}Or(i,l,m,d)}l=l.child}return l;case 5:return tw(l),i===null&&ap(l),m=l.type,x=l.pendingProps,_=i!==null?i.memoizedProps:null,T=x.children,Xh(m,x)?T=null:_!==null&&Xh(m,_)&&(l.flags|=32),Mw(i,l),Or(i,l,T,d),l.child;case 6:return i===null&&ap(l),null;case 13:return $w(i,l,d);case 4:return mp(l,l.stateNode.containerInfo),m=l.pendingProps,i===null?l.child=ra(l,null,m,d):Or(i,l,m,d),l.child;case 11:return m=l.type,x=l.pendingProps,x=l.elementType===m?x:$n(m,x),Pw(i,l,m,x,d);case 7:return Or(i,l,l.pendingProps,d),l.child;case 8:return Or(i,l,l.pendingProps.children,d),l.child;case 12:return Or(i,l,l.pendingProps.children,d),l.child;case 10:e:{if(m=l.type._context,x=l.pendingProps,_=l.memoizedProps,T=x.value,St(Lu,m._currentValue),m._currentValue=T,_!==null)if(Ln(_.value,T)){if(_.children===x.children&&!Kr.current){l=As(i,l,d);break e}}else for(_=l.child,_!==null&&(_.return=l);_!==null;){var D=_.dependencies;if(D!==null){T=_.child;for(var B=D.firstContext;B!==null;){if(B.context===m){if(_.tag===1){B=Ps(-1,d&-d),B.tag=2;var ee=_.updateQueue;if(ee!==null){ee=ee.shared;var le=ee.pending;le===null?B.next=B:(B.next=le.next,le.next=B),ee.pending=B}}_.lanes|=d,B=_.alternate,B!==null&&(B.lanes|=d),fp(_.return,d,l),D.lanes|=d;break}B=B.next}}else if(_.tag===10)T=_.type===l.type?null:_.child;else if(_.tag===18){if(T=_.return,T===null)throw Error(r(341));T.lanes|=d,D=T.alternate,D!==null&&(D.lanes|=d),fp(T,d,l),T=_.sibling}else T=_.child;if(T!==null)T.return=_;else for(T=_;T!==null;){if(T===l){T=null;break}if(_=T.sibling,_!==null){_.return=T.return,T=_;break}T=T.return}_=T}Or(i,l,x.children,d),l=l.child}return l;case 9:return x=l.type,m=l.pendingProps.children,sa(l,d),x=Sn(x),m=m(x),l.flags|=1,Or(i,l,m,d),l.child;case 14:return m=l.type,x=$n(m,l.pendingProps),x=$n(m.type,x),Aw(i,l,m,x,d);case 15:return Ow(i,l,l.type,l.pendingProps,d);case 17:return m=l.type,x=l.pendingProps,x=l.elementType===m?x:$n(m,x),Yu(i,l),l.tag=1,Gr(m)?(i=!0,Pu(l)):i=!1,sa(l,d),jw(l,m,x),Np(l,m,x,d),Ap(null,l,m,!0,i,d);case 19:return Uw(i,l,d);case 22:return Iw(i,l,d)}throw Error(r(156,l.tag))};function db(i,l){return Wx(i,l)}function PO(i,l,d,m){this.tag=i,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(i,l,d,m){return new PO(i,l,d,m)}function Xp(i){return i=i.prototype,!(!i||!i.isReactComponent)}function AO(i){if(typeof i=="function")return Xp(i)?1:0;if(i!=null){if(i=i.$$typeof,i===V)return 11;if(i===oe)return 14}return 2}function di(i,l){var d=i.alternate;return d===null?(d=En(i.tag,l,i.key,i.mode),d.elementType=i.elementType,d.type=i.type,d.stateNode=i.stateNode,d.alternate=i,i.alternate=d):(d.pendingProps=l,d.type=i.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=i.flags&14680064,d.childLanes=i.childLanes,d.lanes=i.lanes,d.child=i.child,d.memoizedProps=i.memoizedProps,d.memoizedState=i.memoizedState,d.updateQueue=i.updateQueue,l=i.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=i.sibling,d.index=i.index,d.ref=i.ref,d}function od(i,l,d,m,x,_){var T=2;if(m=i,typeof i=="function")Xp(i)&&(T=1);else if(typeof i=="string")T=5;else e:switch(i){case O:return so(d.children,x,_,l);case C:T=8,x|=8;break;case R:return i=En(12,d,l,x|2),i.elementType=R,i.lanes=_,i;case J:return i=En(13,d,l,x),i.elementType=J,i.lanes=_,i;case z:return i=En(19,d,l,x),i.elementType=z,i.lanes=_,i;case X:return ad(d,x,_,l);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case M:T=10;break e;case H:T=9;break e;case V:T=11;break e;case oe:T=14;break e;case se:T=16,m=null;break e}throw Error(r(130,i==null?i:typeof i,""))}return l=En(T,d,l,x),l.elementType=i,l.type=m,l.lanes=_,l}function so(i,l,d,m){return i=En(7,i,m,l),i.lanes=d,i}function ad(i,l,d,m){return i=En(22,i,m,l),i.elementType=X,i.lanes=d,i.stateNode={isHidden:!1},i}function Jp(i,l,d){return i=En(6,i,null,l),i.lanes=d,i}function em(i,l,d){return l=En(4,i.children!==null?i.children:[],i.key,l),l.lanes=d,l.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},l}function OO(i,l,d,m,x){this.tag=l,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ch(0),this.expirationTimes=Ch(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ch(0),this.identifierPrefix=m,this.onRecoverableError=x,this.mutableSourceEagerHydrationData=null}function tm(i,l,d,m,x,_,T,D,B){return i=new OO(i,l,d,D,B),l===1?(l=1,_===!0&&(l|=8)):l=0,_=En(3,null,null,l),i.current=_,_.stateNode=i,_.memoizedState={element:m,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},pp(_),i}function IO(i,l,d){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:L,key:m==null?null:""+m,children:i,containerInfo:l,implementation:d}}function fb(i){if(!i)return ri;i=i._reactInternals;e:{if(Hi(i)!==i||i.tag!==1)throw Error(r(170));var l=i;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(Gr(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(r(171))}if(i.tag===1){var d=i.type;if(Gr(d))return V0(i,d,l)}return l}function hb(i,l,d,m,x,_,T,D,B){return i=tm(d,m,!0,i,x,_,T,D,B),i.context=fb(null),d=i.current,m=Ir(),x=ci(d),_=Ps(m,x),_.callback=l??null,ii(d,_,x),i.current.lanes=x,pl(i,x,m),Zr(i,m),i}function ld(i,l,d,m){var x=l.current,_=Ir(),T=ci(x);return d=fb(d),l.context===null?l.context=d:l.pendingContext=d,l=Ps(_,T),l.payload={element:i},m=m===void 0?null:m,m!==null&&(l.callback=m),i=ii(x,l,T),i!==null&&(Bn(i,x,T,_),$u(i,x,T)),T}function cd(i){return i=i.current,i.child?(i.child.tag===5,i.child.stateNode):null}function pb(i,l){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var d=i.retryLane;i.retryLane=d!==0&&d<l?d:l}}function rm(i,l){pb(i,l),(i=i.alternate)&&pb(i,l)}function MO(){return null}var mb=typeof reportError=="function"?reportError:function(i){console.error(i)};function nm(i){this._internalRoot=i}ud.prototype.render=nm.prototype.render=function(i){var l=this._internalRoot;if(l===null)throw Error(r(409));ld(i,l,null,null)},ud.prototype.unmount=nm.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var l=i.containerInfo;to(function(){ld(null,i,null,null)}),l[Es]=null}};function ud(i){this._internalRoot=i}ud.prototype.unstable_scheduleHydration=function(i){if(i){var l=Xx();i={blockedOn:null,target:i,priority:l};for(var d=0;d<Zs.length&&l!==0&&l<Zs[d].priority;d++);Zs.splice(d,0,i),d===0&&t0(i)}};function sm(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function dd(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function gb(){}function DO(i,l,d,m,x){if(x){if(typeof m=="function"){var _=m;m=function(){var ee=cd(T);_.call(ee)}}var T=hb(l,m,i,0,null,!1,!1,"",gb);return i._reactRootContainer=T,i[Es]=T.current,Nl(i.nodeType===8?i.parentNode:i),to(),T}for(;x=i.lastChild;)i.removeChild(x);if(typeof m=="function"){var D=m;m=function(){var ee=cd(B);D.call(ee)}}var B=tm(i,0,!1,null,null,!1,!1,"",gb);return i._reactRootContainer=B,i[Es]=B.current,Nl(i.nodeType===8?i.parentNode:i),to(function(){ld(l,B,d,m)}),B}function fd(i,l,d,m,x){var _=d._reactRootContainer;if(_){var T=_;if(typeof x=="function"){var D=x;x=function(){var B=cd(T);D.call(B)}}ld(l,T,i,x)}else T=DO(d,l,i,x,m);return cd(T)}Qx=function(i){switch(i.tag){case 3:var l=i.stateNode;if(l.current.memoizedState.isDehydrated){var d=hl(l.pendingLanes);d!==0&&(Nh(l,d|1),Zr(l,Vt()),(ft&6)===0&&(ca=Vt()+500,ni()))}break;case 13:to(function(){var m=Rs(i,1);if(m!==null){var x=Ir();Bn(m,i,1,x)}}),rm(i,1)}},Th=function(i){if(i.tag===13){var l=Rs(i,134217728);if(l!==null){var d=Ir();Bn(l,i,134217728,d)}rm(i,134217728)}},Zx=function(i){if(i.tag===13){var l=ci(i),d=Rs(i,l);if(d!==null){var m=Ir();Bn(d,i,l,m)}rm(i,l)}},Xx=function(){return yt},Jx=function(i,l){var d=yt;try{return yt=i,l()}finally{yt=d}},Bo=function(i,l,d){switch(l){case"input":if(wt(i,d),l=d.name,d.type==="radio"&&l!=null){for(d=i;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<d.length;l++){var m=d[l];if(m!==i&&m.form===i.form){var x=Tu(m);if(!x)throw Error(r(90));$e(m),wt(m,x)}}}break;case"textarea":de(i,d);break;case"select":l=d.value,l!=null&&G(i,!!d.multiple,l,!1)}},gt=Yp,bt=to;var LO={usingClientEntryPoint:!1,Events:[Pl,Qo,Tu,ou,Ke,Yp]},ql={findFiberByHostInstance:Ki,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},FO={bundleType:ql.bundleType,version:ql.version,rendererPackageName:ql.rendererPackageName,rendererConfig:ql.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:P.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Bx(i),i===null?null:i.stateNode},findFiberByHostInstance:ql.findFiberByHostInstance||MO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hd.isDisabled&&hd.supportsFiber)try{uu=hd.inject(FO),os=hd}catch{}}return Xr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=LO,Xr.createPortal=function(i,l){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!sm(l))throw Error(r(200));return IO(i,l,null,d)},Xr.createRoot=function(i,l){if(!sm(i))throw Error(r(299));var d=!1,m="",x=mb;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onRecoverableError!==void 0&&(x=l.onRecoverableError)),l=tm(i,1,!1,null,null,d,!1,m,x),i[Es]=l.current,Nl(i.nodeType===8?i.parentNode:i),new nm(l)},Xr.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var l=i._reactInternals;if(l===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=Bx(l),i=i===null?null:i.stateNode,i},Xr.flushSync=function(i){return to(i)},Xr.hydrate=function(i,l,d){if(!dd(l))throw Error(r(200));return fd(null,i,l,!0,d)},Xr.hydrateRoot=function(i,l,d){if(!sm(i))throw Error(r(405));var m=d!=null&&d.hydratedSources||null,x=!1,_="",T=mb;if(d!=null&&(d.unstable_strictMode===!0&&(x=!0),d.identifierPrefix!==void 0&&(_=d.identifierPrefix),d.onRecoverableError!==void 0&&(T=d.onRecoverableError)),l=hb(l,null,i,1,d??null,x,!1,_,T),i[Es]=l.current,Nl(i),m)for(i=0;i<m.length;i++)d=m[i],x=d._getVersion,x=x(d._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[d,x]:l.mutableSourceEagerHydrationData.push(d,x);return new ud(l)},Xr.render=function(i,l,d){if(!dd(l))throw Error(r(200));return fd(null,i,l,!1,d)},Xr.unmountComponentAtNode=function(i){if(!dd(i))throw Error(r(40));return i._reactRootContainer?(to(function(){fd(null,null,i,!1,function(){i._reactRootContainer=null,i[Es]=null})}),!0):!1},Xr.unstable_batchedUpdates=Yp,Xr.unstable_renderSubtreeIntoContainer=function(i,l,d,m){if(!dd(d))throw Error(r(200));if(i==null||i._reactInternals===void 0)throw Error(r(38));return fd(i,l,d,!1,m)},Xr.version="18.3.1-next-f1338f8080-20240426",Xr}var jb;function aj(){if(jb)return am.exports;jb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),am.exports=HO(),am.exports}var kb;function KO(){if(kb)return pd;kb=1;var t=aj();return pd.createRoot=t.createRoot,pd.hydrateRoot=t.hydrateRoot,pd}var GO=KO(),y=Cy();const Q=If(y),Ny=VO({__proto__:null,default:Q},[y]),YO=1,QO=1e6;let um=0;function ZO(){return um=(um+1)%Number.MAX_SAFE_INTEGER,um.toString()}const dm=new Map,Eb=t=>{if(dm.has(t))return;const e=setTimeout(()=>{dm.delete(t),lc({type:"REMOVE_TOAST",toastId:t})},QO);dm.set(t,e)},XO=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,YO)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=e;return r?Eb(r):t.toasts.forEach(n=>{Eb(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},Md=[];let Dd={toasts:[]};function lc(t){Dd=XO(Dd,t),Md.forEach(e=>{e(Dd)})}function JO({...t}){const e=ZO(),r=s=>lc({type:"UPDATE_TOAST",toast:{...s,id:e}}),n=()=>lc({type:"DISMISS_TOAST",toastId:e});return lc({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||n()}}}),{id:e,dismiss:n,update:r}}function js(){const[t,e]=y.useState(Dd);return y.useEffect(()=>(Md.push(e),()=>{const r=Md.indexOf(e);r>-1&&Md.splice(r,1)}),[t]),{...t,toast:JO,dismiss:r=>lc({type:"DISMISS_TOAST",toastId:r})}}var Ga=aj();const lj=If(Ga);function ge(t,e,{checkForDefaultPrevented:r=!0}={}){return function(s){if(t?.(s),r===!1||!s.defaultPrevented)return e?.(s)}}function Cb(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Mf(...t){return e=>{let r=!1;const n=t.map(s=>{const o=Cb(s,e);return!r&&typeof o=="function"&&(r=!0),o});if(r)return()=>{for(let s=0;s<n.length;s++){const o=n[s];typeof o=="function"?o():Cb(t[s],null)}}}}function Ge(...t){return y.useCallback(Mf(...t),t)}function eI(t,e){const r=y.createContext(e),n=o=>{const{children:c,...u}=o,f=y.useMemo(()=>u,Object.values(u));return a.jsx(r.Provider,{value:f,children:c})};n.displayName=t+"Provider";function s(o){const c=y.useContext(r);if(c)return c;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${t}\``)}return[n,s]}function Sr(t,e=[]){let r=[];function n(o,c){const u=y.createContext(c),f=r.length;r=[...r,c];const h=g=>{const{scope:v,children:w,...S}=g,b=v?.[t]?.[f]||u,j=y.useMemo(()=>S,Object.values(S));return a.jsx(b.Provider,{value:j,children:w})};h.displayName=o+"Provider";function p(g,v){const w=v?.[t]?.[f]||u,S=y.useContext(w);if(S)return S;if(c!==void 0)return c;throw new Error(`\`${g}\` must be used within \`${o}\``)}return[h,p]}const s=()=>{const o=r.map(c=>y.createContext(c));return function(u){const f=u?.[t]||o;return y.useMemo(()=>({[`__scope${t}`]:{...u,[t]:f}}),[u,f])}};return s.scopeName=t,[n,tI(s,...e)]}function tI(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const c=n.reduce((u,{useScope:f,scopeName:h})=>{const g=f(o)[`__scope${h}`];return{...u,...g}},{});return y.useMemo(()=>({[`__scope${e.scopeName}`]:c}),[c])}};return r.scopeName=e.scopeName,r}function wo(t){const e=rI(t),r=y.forwardRef((n,s)=>{const{children:o,...c}=n,u=y.Children.toArray(o),f=u.find(nI);if(f){const h=f.props.children,p=u.map(g=>g===f?y.Children.count(h)>1?y.Children.only(null):y.isValidElement(h)?h.props.children:null:g);return a.jsx(e,{...c,ref:s,children:y.isValidElement(h)?y.cloneElement(h,void 0,p):null})}return a.jsx(e,{...c,ref:s,children:o})});return r.displayName=`${t}.Slot`,r}var cj=wo("Slot");function rI(t){const e=y.forwardRef((r,n)=>{const{children:s,...o}=r;if(y.isValidElement(s)){const c=iI(s),u=sI(o,s.props);return s.type!==y.Fragment&&(u.ref=n?Mf(n,c):c),y.cloneElement(s,u)}return y.Children.count(s)>1?y.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var uj=Symbol("radix.slottable");function dj(t){const e=({children:r})=>a.jsx(a.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=uj,e}function nI(t){return y.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===uj}function sI(t,e){const r={...e};for(const n in e){const s=t[n],o=e[n];/^on[A-Z]/.test(n)?s&&o?r[n]=(...u)=>{const f=o(...u);return s(...u),f}:s&&(r[n]=s):n==="style"?r[n]={...s,...o}:n==="className"&&(r[n]=[s,o].filter(Boolean).join(" "))}return{...t,...r}}function iI(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function Ya(t){const e=t+"CollectionProvider",[r,n]=Sr(e),[s,o]=r(e,{collectionRef:{current:null},itemMap:new Map}),c=b=>{const{scope:j,children:N}=b,E=Q.useRef(null),k=Q.useRef(new Map).current;return a.jsx(s,{scope:j,itemMap:k,collectionRef:E,children:N})};c.displayName=e;const u=t+"CollectionSlot",f=wo(u),h=Q.forwardRef((b,j)=>{const{scope:N,children:E}=b,k=o(u,N),P=Ge(j,k.collectionRef);return a.jsx(f,{ref:P,children:E})});h.displayName=u;const p=t+"CollectionItemSlot",g="data-radix-collection-item",v=wo(p),w=Q.forwardRef((b,j)=>{const{scope:N,children:E,...k}=b,P=Q.useRef(null),A=Ge(j,P),L=o(p,N);return Q.useEffect(()=>(L.itemMap.set(P,{ref:P,...k}),()=>{L.itemMap.delete(P)})),a.jsx(v,{[g]:"",ref:A,children:E})});w.displayName=p;function S(b){const j=o(t+"CollectionConsumer",b);return Q.useCallback(()=>{const E=j.collectionRef.current;if(!E)return[];const k=Array.from(E.querySelectorAll(`[${g}]`));return Array.from(j.itemMap.values()).sort((L,O)=>k.indexOf(L.ref.current)-k.indexOf(O.ref.current))},[j.collectionRef,j.itemMap])}return[{Provider:c,Slot:h,ItemSlot:w},S,n]}var oI=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ae=oI.reduce((t,e)=>{const r=wo(`Primitive.${e}`),n=y.forwardRef((s,o)=>{const{asChild:c,...u}=s,f=c?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(f,{...u,ref:o})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function Ty(t,e){t&&Ga.flushSync(()=>t.dispatchEvent(e))}function tn(t){const e=y.useRef(t);return y.useEffect(()=>{e.current=t}),y.useMemo(()=>(...r)=>e.current?.(...r),[])}function aI(t,e=globalThis?.document){const r=tn(t);y.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var lI="DismissableLayer",ng="dismissableLayer.update",cI="dismissableLayer.pointerDownOutside",uI="dismissableLayer.focusOutside",Nb,fj=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Qa=y.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:c,onDismiss:u,...f}=t,h=y.useContext(fj),[p,g]=y.useState(null),v=p?.ownerDocument??globalThis?.document,[,w]=y.useState({}),S=Ge(e,O=>g(O)),b=Array.from(h.layers),[j]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),N=b.indexOf(j),E=p?b.indexOf(p):-1,k=h.layersWithOutsidePointerEventsDisabled.size>0,P=E>=N,A=fI(O=>{const C=O.target,R=[...h.branches].some(M=>M.contains(C));!P||R||(s?.(O),c?.(O),O.defaultPrevented||u?.())},v),L=hI(O=>{const C=O.target;[...h.branches].some(M=>M.contains(C))||(o?.(O),c?.(O),O.defaultPrevented||u?.())},v);return aI(O=>{E===h.layers.size-1&&(n?.(O),!O.defaultPrevented&&u&&(O.preventDefault(),u()))},v),y.useEffect(()=>{if(p)return r&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(Nb=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(p)),h.layers.add(p),Tb(),()=>{r&&h.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=Nb)}},[p,v,r,h]),y.useEffect(()=>()=>{p&&(h.layers.delete(p),h.layersWithOutsidePointerEventsDisabled.delete(p),Tb())},[p,h]),y.useEffect(()=>{const O=()=>w({});return document.addEventListener(ng,O),()=>document.removeEventListener(ng,O)},[]),a.jsx(Ae.div,{...f,ref:S,style:{pointerEvents:k?P?"auto":"none":void 0,...t.style},onFocusCapture:ge(t.onFocusCapture,L.onFocusCapture),onBlurCapture:ge(t.onBlurCapture,L.onBlurCapture),onPointerDownCapture:ge(t.onPointerDownCapture,A.onPointerDownCapture)})});Qa.displayName=lI;var dI="DismissableLayerBranch",hj=y.forwardRef((t,e)=>{const r=y.useContext(fj),n=y.useRef(null),s=Ge(e,n);return y.useEffect(()=>{const o=n.current;if(o)return r.branches.add(o),()=>{r.branches.delete(o)}},[r.branches]),a.jsx(Ae.div,{...t,ref:s})});hj.displayName=dI;function fI(t,e=globalThis?.document){const r=tn(t),n=y.useRef(!1),s=y.useRef(()=>{});return y.useEffect(()=>{const o=u=>{if(u.target&&!n.current){let f=function(){pj(cI,r,h,{discrete:!0})};const h={originalEvent:u};u.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=f,e.addEventListener("click",s.current,{once:!0})):f()}else e.removeEventListener("click",s.current);n.current=!1},c=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(c),e.removeEventListener("pointerdown",o),e.removeEventListener("click",s.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function hI(t,e=globalThis?.document){const r=tn(t),n=y.useRef(!1);return y.useEffect(()=>{const s=o=>{o.target&&!n.current&&pj(uI,r,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Tb(){const t=new CustomEvent(ng);document.dispatchEvent(t)}function pj(t,e,r,{discrete:n}){const s=r.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&s.addEventListener(t,e,{once:!0}),n?Ty(s,o):s.dispatchEvent(o)}var pI=Qa,mI=hj,hr=globalThis?.document?y.useLayoutEffect:()=>{},gI="Portal",$c=y.forwardRef((t,e)=>{const{container:r,...n}=t,[s,o]=y.useState(!1);hr(()=>o(!0),[]);const c=r||s&&globalThis?.document?.body;return c?lj.createPortal(a.jsx(Ae.div,{...n,ref:e}),c):null});$c.displayName=gI;function yI(t,e){return y.useReducer((r,n)=>e[r][n]??r,t)}var rn=t=>{const{present:e,children:r}=t,n=vI(e),s=typeof r=="function"?r({present:n.isPresent}):y.Children.only(r),o=Ge(n.ref,xI(s));return typeof r=="function"||n.isPresent?y.cloneElement(s,{ref:o}):null};rn.displayName="Presence";function vI(t){const[e,r]=y.useState(),n=y.useRef(null),s=y.useRef(t),o=y.useRef("none"),c=t?"mounted":"unmounted",[u,f]=yI(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const h=md(n.current);o.current=u==="mounted"?h:"none"},[u]),hr(()=>{const h=n.current,p=s.current;if(p!==t){const v=o.current,w=md(h);t?f("MOUNT"):w==="none"||h?.display==="none"?f("UNMOUNT"):f(p&&v!==w?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,f]),hr(()=>{if(e){let h;const p=e.ownerDocument.defaultView??window,g=w=>{const b=md(n.current).includes(w.animationName);if(w.target===e&&b&&(f("ANIMATION_END"),!s.current)){const j=e.style.animationFillMode;e.style.animationFillMode="forwards",h=p.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=j)})}},v=w=>{w.target===e&&(o.current=md(n.current))};return e.addEventListener("animationstart",v),e.addEventListener("animationcancel",g),e.addEventListener("animationend",g),()=>{p.clearTimeout(h),e.removeEventListener("animationstart",v),e.removeEventListener("animationcancel",g),e.removeEventListener("animationend",g)}}else f("ANIMATION_END")},[e,f]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:y.useCallback(h=>{n.current=h?getComputedStyle(h):null,r(h)},[])}}function md(t){return t?.animationName||"none"}function xI(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var wI=Ny[" useInsertionEffect ".trim().toString()]||hr;function yn({prop:t,defaultProp:e,onChange:r=()=>{},caller:n}){const[s,o,c]=bI({defaultProp:e,onChange:r}),u=t!==void 0,f=u?t:s;{const p=y.useRef(t!==void 0);y.useEffect(()=>{const g=p.current;g!==u&&console.warn(`${n} is changing from ${g?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=u},[u,n])}const h=y.useCallback(p=>{if(u){const g=_I(p)?p(t):p;g!==t&&c.current?.(g)}else o(p)},[u,t,o,c]);return[f,h]}function bI({defaultProp:t,onChange:e}){const[r,n]=y.useState(t),s=y.useRef(r),o=y.useRef(e);return wI(()=>{o.current=e},[e]),y.useEffect(()=>{s.current!==r&&(o.current?.(r),s.current=r)},[r,s]),[r,n,o]}function _I(t){return typeof t=="function"}var mj=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),SI="VisuallyHidden",Df=y.forwardRef((t,e)=>a.jsx(Ae.span,{...t,ref:e,style:{...mj,...t.style}}));Df.displayName=SI;var jI=Df,Ry="ToastProvider",[Py,kI,EI]=Ya("Toast"),[gj]=Sr("Toast",[EI]),[CI,Lf]=gj(Ry),yj=t=>{const{__scopeToast:e,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:o=50,children:c}=t,[u,f]=y.useState(null),[h,p]=y.useState(0),g=y.useRef(!1),v=y.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${Ry}\`. Expected non-empty \`string\`.`),a.jsx(Py.Provider,{scope:e,children:a.jsx(CI,{scope:e,label:r,duration:n,swipeDirection:s,swipeThreshold:o,toastCount:h,viewport:u,onViewportChange:f,onToastAdd:y.useCallback(()=>p(w=>w+1),[]),onToastRemove:y.useCallback(()=>p(w=>w-1),[]),isFocusedToastEscapeKeyDownRef:g,isClosePausedRef:v,children:c})})};yj.displayName=Ry;var vj="ToastViewport",NI=["F8"],sg="toast.viewportPause",ig="toast.viewportResume",xj=y.forwardRef((t,e)=>{const{__scopeToast:r,hotkey:n=NI,label:s="Notifications ({hotkey})",...o}=t,c=Lf(vj,r),u=kI(r),f=y.useRef(null),h=y.useRef(null),p=y.useRef(null),g=y.useRef(null),v=Ge(e,g,c.onViewportChange),w=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),S=c.toastCount>0;y.useEffect(()=>{const j=N=>{n.length!==0&&n.every(k=>N[k]||N.code===k)&&g.current?.focus()};return document.addEventListener("keydown",j),()=>document.removeEventListener("keydown",j)},[n]),y.useEffect(()=>{const j=f.current,N=g.current;if(S&&j&&N){const E=()=>{if(!c.isClosePausedRef.current){const L=new CustomEvent(sg);N.dispatchEvent(L),c.isClosePausedRef.current=!0}},k=()=>{if(c.isClosePausedRef.current){const L=new CustomEvent(ig);N.dispatchEvent(L),c.isClosePausedRef.current=!1}},P=L=>{!j.contains(L.relatedTarget)&&k()},A=()=>{j.contains(document.activeElement)||k()};return j.addEventListener("focusin",E),j.addEventListener("focusout",P),j.addEventListener("pointermove",E),j.addEventListener("pointerleave",A),window.addEventListener("blur",E),window.addEventListener("focus",k),()=>{j.removeEventListener("focusin",E),j.removeEventListener("focusout",P),j.removeEventListener("pointermove",E),j.removeEventListener("pointerleave",A),window.removeEventListener("blur",E),window.removeEventListener("focus",k)}}},[S,c.isClosePausedRef]);const b=y.useCallback(({tabbingDirection:j})=>{const E=u().map(k=>{const P=k.ref.current,A=[P,...UI(P)];return j==="forwards"?A:A.reverse()});return(j==="forwards"?E.reverse():E).flat()},[u]);return y.useEffect(()=>{const j=g.current;if(j){const N=E=>{const k=E.altKey||E.ctrlKey||E.metaKey;if(E.key==="Tab"&&!k){const A=document.activeElement,L=E.shiftKey;if(E.target===j&&L){h.current?.focus();return}const R=b({tabbingDirection:L?"backwards":"forwards"}),M=R.findIndex(H=>H===A);fm(R.slice(M+1))?E.preventDefault():L?h.current?.focus():p.current?.focus()}};return j.addEventListener("keydown",N),()=>j.removeEventListener("keydown",N)}},[u,b]),a.jsxs(mI,{ref:f,role:"region","aria-label":s.replace("{hotkey}",w),tabIndex:-1,style:{pointerEvents:S?void 0:"none"},children:[S&&a.jsx(og,{ref:h,onFocusFromOutsideViewport:()=>{const j=b({tabbingDirection:"forwards"});fm(j)}}),a.jsx(Py.Slot,{scope:r,children:a.jsx(Ae.ol,{tabIndex:-1,...o,ref:v})}),S&&a.jsx(og,{ref:p,onFocusFromOutsideViewport:()=>{const j=b({tabbingDirection:"backwards"});fm(j)}})]})});xj.displayName=vj;var wj="ToastFocusProxy",og=y.forwardRef((t,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=t,o=Lf(wj,r);return a.jsx(Df,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:c=>{const u=c.relatedTarget;!o.viewport?.contains(u)&&n()}})});og.displayName=wj;var Vc="Toast",TI="toast.swipeStart",RI="toast.swipeMove",PI="toast.swipeCancel",AI="toast.swipeEnd",bj=y.forwardRef((t,e)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:o,...c}=t,[u,f]=yn({prop:n,defaultProp:s??!0,onChange:o,caller:Vc});return a.jsx(rn,{present:r||u,children:a.jsx(MI,{open:u,...c,ref:e,onClose:()=>f(!1),onPause:tn(t.onPause),onResume:tn(t.onResume),onSwipeStart:ge(t.onSwipeStart,h=>{h.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ge(t.onSwipeMove,h=>{const{x:p,y:g}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","move"),h.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${p}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${g}px`)}),onSwipeCancel:ge(t.onSwipeCancel,h=>{h.currentTarget.setAttribute("data-swipe","cancel"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ge(t.onSwipeEnd,h=>{const{x:p,y:g}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","end"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${p}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${g}px`),f(!1)})})})});bj.displayName=Vc;var[OI,II]=gj(Vc,{onClose(){}}),MI=y.forwardRef((t,e)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:o,onClose:c,onEscapeKeyDown:u,onPause:f,onResume:h,onSwipeStart:p,onSwipeMove:g,onSwipeCancel:v,onSwipeEnd:w,...S}=t,b=Lf(Vc,r),[j,N]=y.useState(null),E=Ge(e,z=>N(z)),k=y.useRef(null),P=y.useRef(null),A=s||b.duration,L=y.useRef(0),O=y.useRef(A),C=y.useRef(0),{onToastAdd:R,onToastRemove:M}=b,H=tn(()=>{j?.contains(document.activeElement)&&b.viewport?.focus(),c()}),V=y.useCallback(z=>{!z||z===1/0||(window.clearTimeout(C.current),L.current=new Date().getTime(),C.current=window.setTimeout(H,z))},[H]);y.useEffect(()=>{const z=b.viewport;if(z){const oe=()=>{V(O.current),h?.()},se=()=>{const X=new Date().getTime()-L.current;O.current=O.current-X,window.clearTimeout(C.current),f?.()};return z.addEventListener(sg,se),z.addEventListener(ig,oe),()=>{z.removeEventListener(sg,se),z.removeEventListener(ig,oe)}}},[b.viewport,A,f,h,V]),y.useEffect(()=>{o&&!b.isClosePausedRef.current&&V(A)},[o,A,b.isClosePausedRef,V]),y.useEffect(()=>(R(),()=>M()),[R,M]);const J=y.useMemo(()=>j?Nj(j):null,[j]);return b.viewport?a.jsxs(a.Fragment,{children:[J&&a.jsx(DI,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:J}),a.jsx(OI,{scope:r,onClose:H,children:Ga.createPortal(a.jsx(Py.ItemSlot,{scope:r,children:a.jsx(pI,{asChild:!0,onEscapeKeyDown:ge(u,()=>{b.isFocusedToastEscapeKeyDownRef.current||H(),b.isFocusedToastEscapeKeyDownRef.current=!1}),children:a.jsx(Ae.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":b.swipeDirection,...S,ref:E,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:ge(t.onKeyDown,z=>{z.key==="Escape"&&(u?.(z.nativeEvent),z.nativeEvent.defaultPrevented||(b.isFocusedToastEscapeKeyDownRef.current=!0,H()))}),onPointerDown:ge(t.onPointerDown,z=>{z.button===0&&(k.current={x:z.clientX,y:z.clientY})}),onPointerMove:ge(t.onPointerMove,z=>{if(!k.current)return;const oe=z.clientX-k.current.x,se=z.clientY-k.current.y,X=!!P.current,U=["left","right"].includes(b.swipeDirection),F=["left","up"].includes(b.swipeDirection)?Math.min:Math.max,K=U?F(0,oe):0,I=U?0:F(0,se),q=z.pointerType==="touch"?10:2,te={x:K,y:I},ie={originalEvent:z,delta:te};X?(P.current=te,gd(RI,g,ie,{discrete:!1})):Rb(te,b.swipeDirection,q)?(P.current=te,gd(TI,p,ie,{discrete:!1}),z.target.setPointerCapture(z.pointerId)):(Math.abs(oe)>q||Math.abs(se)>q)&&(k.current=null)}),onPointerUp:ge(t.onPointerUp,z=>{const oe=P.current,se=z.target;if(se.hasPointerCapture(z.pointerId)&&se.releasePointerCapture(z.pointerId),P.current=null,k.current=null,oe){const X=z.currentTarget,U={originalEvent:z,delta:oe};Rb(oe,b.swipeDirection,b.swipeThreshold)?gd(AI,w,U,{discrete:!0}):gd(PI,v,U,{discrete:!0}),X.addEventListener("click",F=>F.preventDefault(),{once:!0})}})})})}),b.viewport)})]}):null}),DI=t=>{const{__scopeToast:e,children:r,...n}=t,s=Lf(Vc,e),[o,c]=y.useState(!1),[u,f]=y.useState(!1);return $I(()=>c(!0)),y.useEffect(()=>{const h=window.setTimeout(()=>f(!0),1e3);return()=>window.clearTimeout(h)},[]),u?null:a.jsx($c,{asChild:!0,children:a.jsx(Df,{...n,children:o&&a.jsxs(a.Fragment,{children:[s.label," ",r]})})})},LI="ToastTitle",_j=y.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return a.jsx(Ae.div,{...n,ref:e})});_j.displayName=LI;var FI="ToastDescription",Sj=y.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return a.jsx(Ae.div,{...n,ref:e})});Sj.displayName=FI;var jj="ToastAction",kj=y.forwardRef((t,e)=>{const{altText:r,...n}=t;return r.trim()?a.jsx(Cj,{altText:r,asChild:!0,children:a.jsx(Ay,{...n,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${jj}\`. Expected non-empty \`string\`.`),null)});kj.displayName=jj;var Ej="ToastClose",Ay=y.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t,s=II(Ej,r);return a.jsx(Cj,{asChild:!0,children:a.jsx(Ae.button,{type:"button",...n,ref:e,onClick:ge(t.onClick,s.onClose)})})});Ay.displayName=Ej;var Cj=y.forwardRef((t,e)=>{const{__scopeToast:r,altText:n,...s}=t;return a.jsx(Ae.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:e})});function Nj(t){const e=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&e.push(n.textContent),VI(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",o=n.dataset.radixToastAnnounceExclude==="";if(!s)if(o){const c=n.dataset.radixToastAnnounceAlt;c&&e.push(c)}else e.push(...Nj(n))}}),e}function gd(t,e,r,{discrete:n}){const s=r.originalEvent.currentTarget,o=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});e&&s.addEventListener(t,e,{once:!0}),n?Ty(s,o):s.dispatchEvent(o)}var Rb=(t,e,r=0)=>{const n=Math.abs(t.x),s=Math.abs(t.y),o=n>s;return e==="left"||e==="right"?o&&n>r:!o&&s>r};function $I(t=()=>{}){const e=tn(t);hr(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[e])}function VI(t){return t.nodeType===t.ELEMENT_NODE}function UI(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function fm(t){const e=document.activeElement;return t.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var BI=yj,Tj=xj,Rj=bj,Pj=_j,Aj=Sj,Oj=kj,Ij=Ay;function Mj(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(r=Mj(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Dj(){for(var t,e,r=0,n="",s=arguments.length;r<s;r++)(t=arguments[r])&&(e=Mj(t))&&(n&&(n+=" "),n+=e);return n}const Pb=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Ab=Dj,Uc=(t,e)=>r=>{var n;if(e?.variants==null)return Ab(t,r?.class,r?.className);const{variants:s,defaultVariants:o}=e,c=Object.keys(s).map(h=>{const p=r?.[h],g=o?.[h];if(p===null)return null;const v=Pb(p)||Pb(g);return s[h][v]}),u=r&&Object.entries(r).reduce((h,p)=>{let[g,v]=p;return v===void 0||(h[g]=v),h},{}),f=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((h,p)=>{let{class:g,className:v,...w}=p;return Object.entries(w).every(S=>{let[b,j]=S;return Array.isArray(j)?j.includes({...o,...u}[b]):{...o,...u}[b]===j})?[...h,g,v]:h},[]);return Ab(t,c,f,r?.class,r?.className)};const zI=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Lj=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();var WI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const qI=y.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:o,iconNode:c,...u},f)=>y.createElement("svg",{ref:f,...WI,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:Lj("lucide",s),...u},[...c.map(([h,p])=>y.createElement(h,p)),...Array.isArray(o)?o:[o]]));const ke=(t,e)=>{const r=y.forwardRef(({className:n,...s},o)=>y.createElement(qI,{ref:o,iconNode:e,className:Lj(`lucide-${zI(t)}`,n),...s}));return r.displayName=`${t}`,r};const HI=ke("ArrowLeftRight",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]]);const KI=ke("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);const Oy=ke("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);const ag=ke("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);const Iy=ke("Blocks",[["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["path",{d:"M10 21V8a1 1 0 0 0-1-1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-5a1 1 0 0 0-1-1H3",key:"1fpvtg"}]]);const GI=ke("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);const YI=ke("Boxes",[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]]);const Ob=ke("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);const Fj=ke("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);const $j=ke("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);const Ff=ke("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const My=ke("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const QI=ke("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const ZI=ke("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);const Dy=ke("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const Ly=ke("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);const Vj=ke("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const XI=ke("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);const Uj=ke("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);const Bj=ke("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);const zj=ke("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);const JI=ke("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);const eM=ke("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);const Ib=ke("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);const tM=ke("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);const Fy=ke("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const rM=ke("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);const nM=ke("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);const Mb=ke("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);const Xn=ke("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);const $y=ke("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);const sM=ke("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);const Db=ke("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);const iM=ke("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);const Wj=ke("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);const Yt=ke("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const oM=ke("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);const Lb=ke("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);const $f=ke("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);const ms=ke("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);const aM=ke("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);const Fb=ke("Package2",[["path",{d:"M3 9h18v10a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V9Z",key:"1ront0"}],["path",{d:"m3 9 2.45-4.9A2 2 0 0 1 7.24 3h9.52a2 2 0 0 1 1.8 1.1L21 9",key:"19h2x1"}],["path",{d:"M12 3v6",key:"1holv5"}]]);const Ai=ke("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);const Vy=ke("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);const Vf=ke("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);const lM=ke("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);const cM=ke("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const Uy=ke("Puzzle",[["path",{d:"M15.39 4.39a1 1 0 0 0 1.68-.474 2.5 2.5 0 1 1 3.014 3.015 1 1 0 0 0-.474 1.68l1.683 1.682a2.414 2.414 0 0 1 0 3.414L19.61 15.39a1 1 0 0 1-1.68-.474 2.5 2.5 0 1 0-3.014 3.015 1 1 0 0 1 .474 1.68l-1.683 1.682a2.414 2.414 0 0 1-3.414 0L8.61 19.61a1 1 0 0 0-1.68.474 2.5 2.5 0 1 1-3.014-3.015 1 1 0 0 0 .474-1.68l-1.683-1.682a2.414 2.414 0 0 1 0-3.414L4.39 8.61a1 1 0 0 1 1.68.474 2.5 2.5 0 1 0 3.014-3.015 1 1 0 0 1-.474-1.68l1.683-1.682a2.414 2.414 0 0 1 3.414 0z",key:"w46dr5"}]]);const uM=ke("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);const $b=ke("Quote",[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]]);const By=ke("Recycle",[["path",{d:"M7 19H4.815a1.83 1.83 0 0 1-1.57-.881 1.785 1.785 0 0 1-.004-1.784L7.196 9.5",key:"x6z5xu"}],["path",{d:"M11 19h8.203a1.83 1.83 0 0 0 1.556-.89 1.784 1.784 0 0 0 0-1.775l-1.226-2.12",key:"1x4zh5"}],["path",{d:"m14 16-3 3 3 3",key:"f6jyew"}],["path",{d:"M8.293 13.596 7.196 9.5 3.1 10.598",key:"wf1obh"}],["path",{d:"m9.344 5.811 1.093-1.892A1.83 1.83 0 0 1 11.985 3a1.784 1.784 0 0 1 1.546.888l3.943 6.843",key:"9tzpgr"}],["path",{d:"m13.378 9.633 4.096 1.098 1.097-4.096",key:"1oe83g"}]]);const hm=ke("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);const dM=ke("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);const qj=ke("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const fM=ke("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);const Vb=ke("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const Hj=ke("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const lg=ke("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);const hM=ke("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);const Bc=ke("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);const Kj=ke("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);const pM=ke("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);const mM=ke("ThermometerSun",[["path",{d:"M12 9a4 4 0 0 0-2 7.5",key:"1jvsq6"}],["path",{d:"M12 3v2",key:"1w22ol"}],["path",{d:"m6.6 18.4-1.4 1.4",key:"w2yidj"}],["path",{d:"M20 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"iof6y5"}],["path",{d:"M4 13H2",key:"118le4"}],["path",{d:"M6.34 7.34 4.93 5.93",key:"1brd51"}]]);const zy=ke("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const gM=ke("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const bo=ke("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);const yM=ke("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);const Gj=ke("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);const vM=ke("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);const ds=ke("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);const zc=ke("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);const xM=ke("WandSparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);const Ao=ke("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);const wM=ke("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Wy="-",bM=t=>{const e=SM(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:c=>{const u=c.split(Wy);return u[0]===""&&u.length!==1&&u.shift(),Yj(u,e)||_M(c)},getConflictingClassGroupIds:(c,u)=>{const f=r[c]||[];return u&&n[c]?[...f,...n[c]]:f}}},Yj=(t,e)=>{if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),s=n?Yj(t.slice(1),n):void 0;if(s)return s;if(e.validators.length===0)return;const o=t.join(Wy);return e.validators.find(({validator:c})=>c(o))?.classGroupId},Ub=/^\[(.+)\]$/,_M=t=>{if(Ub.test(t)){const e=Ub.exec(t)[1],r=e?.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},SM=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return kM(Object.entries(t.classGroups),r).forEach(([o,c])=>{cg(c,n,o,e)}),n},cg=(t,e,r,n)=>{t.forEach(s=>{if(typeof s=="string"){const o=s===""?e:Bb(e,s);o.classGroupId=r;return}if(typeof s=="function"){if(jM(s)){cg(s(n),e,r,n);return}e.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([o,c])=>{cg(c,Bb(e,o),r,n)})})},Bb=(t,e)=>{let r=t;return e.split(Wy).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},jM=t=>t.isThemeGetter,kM=(t,e)=>e?t.map(([r,n])=>{const s=n.map(o=>typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([c,u])=>[e+c,u])):o);return[r,s]}):t,EM=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const s=(o,c)=>{r.set(o,c),e++,e>t&&(e=0,n=r,r=new Map)};return{get(o){let c=r.get(o);if(c!==void 0)return c;if((c=n.get(o))!==void 0)return s(o,c),c},set(o,c){r.has(o)?r.set(o,c):s(o,c)}}},Qj="!",CM=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,s=e[0],o=e.length,c=u=>{const f=[];let h=0,p=0,g;for(let j=0;j<u.length;j++){let N=u[j];if(h===0){if(N===s&&(n||u.slice(j,j+o)===e)){f.push(u.slice(p,j)),p=j+o;continue}if(N==="/"){g=j;continue}}N==="["?h++:N==="]"&&h--}const v=f.length===0?u:u.substring(p),w=v.startsWith(Qj),S=w?v.substring(1):v,b=g&&g>p?g-p:void 0;return{modifiers:f,hasImportantModifier:w,baseClassName:S,maybePostfixModifierPosition:b}};return r?u=>r({className:u,parseClassName:c}):c},NM=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},TM=t=>({cache:EM(t.cacheSize),parseClassName:CM(t),...bM(t)}),RM=/\s+/,PM=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=e,o=[],c=t.trim().split(RM);let u="";for(let f=c.length-1;f>=0;f-=1){const h=c[f],{modifiers:p,hasImportantModifier:g,baseClassName:v,maybePostfixModifierPosition:w}=r(h);let S=!!w,b=n(S?v.substring(0,w):v);if(!b){if(!S){u=h+(u.length>0?" "+u:u);continue}if(b=n(v),!b){u=h+(u.length>0?" "+u:u);continue}S=!1}const j=NM(p).join(":"),N=g?j+Qj:j,E=N+b;if(o.includes(E))continue;o.push(E);const k=s(b,S);for(let P=0;P<k.length;++P){const A=k[P];o.push(N+A)}u=h+(u.length>0?" "+u:u)}return u};function AM(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=Zj(e))&&(n&&(n+=" "),n+=r);return n}const Zj=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=Zj(t[n]))&&(r&&(r+=" "),r+=e);return r};function OM(t,...e){let r,n,s,o=c;function c(f){const h=e.reduce((p,g)=>g(p),t());return r=TM(h),n=r.cache.get,s=r.cache.set,o=u,u(f)}function u(f){const h=n(f);if(h)return h;const p=PM(f,r);return s(f,p),p}return function(){return o(AM.apply(null,arguments))}}const Nt=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},Xj=/^\[(?:([a-z-]+):)?(.+)\]$/i,IM=/^\d+\/\d+$/,MM=new Set(["px","full","screen"]),DM=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,LM=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,FM=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,$M=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,VM=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Is=t=>Pa(t)||MM.has(t)||IM.test(t),hi=t=>Za(t,"length",GM),Pa=t=>!!t&&!Number.isNaN(Number(t)),pm=t=>Za(t,"number",Pa),Kl=t=>!!t&&Number.isInteger(Number(t)),UM=t=>t.endsWith("%")&&Pa(t.slice(0,-1)),nt=t=>Xj.test(t),pi=t=>DM.test(t),BM=new Set(["length","size","percentage"]),zM=t=>Za(t,BM,Jj),WM=t=>Za(t,"position",Jj),qM=new Set(["image","url"]),HM=t=>Za(t,qM,QM),KM=t=>Za(t,"",YM),Gl=()=>!0,Za=(t,e,r)=>{const n=Xj.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},GM=t=>LM.test(t)&&!FM.test(t),Jj=()=>!1,YM=t=>$M.test(t),QM=t=>VM.test(t),ZM=()=>{const t=Nt("colors"),e=Nt("spacing"),r=Nt("blur"),n=Nt("brightness"),s=Nt("borderColor"),o=Nt("borderRadius"),c=Nt("borderSpacing"),u=Nt("borderWidth"),f=Nt("contrast"),h=Nt("grayscale"),p=Nt("hueRotate"),g=Nt("invert"),v=Nt("gap"),w=Nt("gradientColorStops"),S=Nt("gradientColorStopPositions"),b=Nt("inset"),j=Nt("margin"),N=Nt("opacity"),E=Nt("padding"),k=Nt("saturate"),P=Nt("scale"),A=Nt("sepia"),L=Nt("skew"),O=Nt("space"),C=Nt("translate"),R=()=>["auto","contain","none"],M=()=>["auto","hidden","clip","visible","scroll"],H=()=>["auto",nt,e],V=()=>[nt,e],J=()=>["",Is,hi],z=()=>["auto",Pa,nt],oe=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],se=()=>["solid","dashed","dotted","double","none"],X=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],U=()=>["start","end","center","between","around","evenly","stretch"],F=()=>["","0",nt],K=()=>["auto","avoid","all","avoid-page","page","left","right","column"],I=()=>[Pa,nt];return{cacheSize:500,separator:":",theme:{colors:[Gl],spacing:[Is,hi],blur:["none","",pi,nt],brightness:I(),borderColor:[t],borderRadius:["none","","full",pi,nt],borderSpacing:V(),borderWidth:J(),contrast:I(),grayscale:F(),hueRotate:I(),invert:F(),gap:V(),gradientColorStops:[t],gradientColorStopPositions:[UM,hi],inset:H(),margin:H(),opacity:I(),padding:V(),saturate:I(),scale:I(),sepia:F(),skew:I(),space:V(),translate:V()},classGroups:{aspect:[{aspect:["auto","square","video",nt]}],container:["container"],columns:[{columns:[pi]}],"break-after":[{"break-after":K()}],"break-before":[{"break-before":K()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...oe(),nt]}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[b]}],"inset-x":[{"inset-x":[b]}],"inset-y":[{"inset-y":[b]}],start:[{start:[b]}],end:[{end:[b]}],top:[{top:[b]}],right:[{right:[b]}],bottom:[{bottom:[b]}],left:[{left:[b]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Kl,nt]}],basis:[{basis:H()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",nt]}],grow:[{grow:F()}],shrink:[{shrink:F()}],order:[{order:["first","last","none",Kl,nt]}],"grid-cols":[{"grid-cols":[Gl]}],"col-start-end":[{col:["auto",{span:["full",Kl,nt]},nt]}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":[Gl]}],"row-start-end":[{row:["auto",{span:[Kl,nt]},nt]}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",nt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",nt]}],gap:[{gap:[v]}],"gap-x":[{"gap-x":[v]}],"gap-y":[{"gap-y":[v]}],"justify-content":[{justify:["normal",...U()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...U(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...U(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[E]}],px:[{px:[E]}],py:[{py:[E]}],ps:[{ps:[E]}],pe:[{pe:[E]}],pt:[{pt:[E]}],pr:[{pr:[E]}],pb:[{pb:[E]}],pl:[{pl:[E]}],m:[{m:[j]}],mx:[{mx:[j]}],my:[{my:[j]}],ms:[{ms:[j]}],me:[{me:[j]}],mt:[{mt:[j]}],mr:[{mr:[j]}],mb:[{mb:[j]}],ml:[{ml:[j]}],"space-x":[{"space-x":[O]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[O]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",nt,e]}],"min-w":[{"min-w":[nt,e,"min","max","fit"]}],"max-w":[{"max-w":[nt,e,"none","full","min","max","fit","prose",{screen:[pi]},pi]}],h:[{h:[nt,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[nt,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[nt,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[nt,e,"auto","min","max","fit"]}],"font-size":[{text:["base",pi,hi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",pm]}],"font-family":[{font:[Gl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",nt]}],"line-clamp":[{"line-clamp":["none",Pa,pm]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Is,nt]}],"list-image":[{"list-image":["none",nt]}],"list-style-type":[{list:["none","disc","decimal",nt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[N]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[N]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...se(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Is,hi]}],"underline-offset":[{"underline-offset":["auto",Is,nt]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:V()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",nt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",nt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[N]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...oe(),WM]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",zM]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},HM]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[S]}],"gradient-via-pos":[{via:[S]}],"gradient-to-pos":[{to:[S]}],"gradient-from":[{from:[w]}],"gradient-via":[{via:[w]}],"gradient-to":[{to:[w]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[u]}],"border-w-x":[{"border-x":[u]}],"border-w-y":[{"border-y":[u]}],"border-w-s":[{"border-s":[u]}],"border-w-e":[{"border-e":[u]}],"border-w-t":[{"border-t":[u]}],"border-w-r":[{"border-r":[u]}],"border-w-b":[{"border-b":[u]}],"border-w-l":[{"border-l":[u]}],"border-opacity":[{"border-opacity":[N]}],"border-style":[{border:[...se(),"hidden"]}],"divide-x":[{"divide-x":[u]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[u]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[N]}],"divide-style":[{divide:se()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...se()]}],"outline-offset":[{"outline-offset":[Is,nt]}],"outline-w":[{outline:[Is,hi]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:J()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[N]}],"ring-offset-w":[{"ring-offset":[Is,hi]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",pi,KM]}],"shadow-color":[{shadow:[Gl]}],opacity:[{opacity:[N]}],"mix-blend":[{"mix-blend":[...X(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":X()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[f]}],"drop-shadow":[{"drop-shadow":["","none",pi,nt]}],grayscale:[{grayscale:[h]}],"hue-rotate":[{"hue-rotate":[p]}],invert:[{invert:[g]}],saturate:[{saturate:[k]}],sepia:[{sepia:[A]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[f]}],"backdrop-grayscale":[{"backdrop-grayscale":[h]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[p]}],"backdrop-invert":[{"backdrop-invert":[g]}],"backdrop-opacity":[{"backdrop-opacity":[N]}],"backdrop-saturate":[{"backdrop-saturate":[k]}],"backdrop-sepia":[{"backdrop-sepia":[A]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[c]}],"border-spacing-x":[{"border-spacing-x":[c]}],"border-spacing-y":[{"border-spacing-y":[c]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",nt]}],duration:[{duration:I()}],ease:[{ease:["linear","in","out","in-out",nt]}],delay:[{delay:I()}],animate:[{animate:["none","spin","ping","pulse","bounce",nt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[P]}],"scale-x":[{"scale-x":[P]}],"scale-y":[{"scale-y":[P]}],rotate:[{rotate:[Kl,nt]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[L]}],"skew-y":[{"skew-y":[L]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",nt]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",nt]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":V()}],"scroll-mx":[{"scroll-mx":V()}],"scroll-my":[{"scroll-my":V()}],"scroll-ms":[{"scroll-ms":V()}],"scroll-me":[{"scroll-me":V()}],"scroll-mt":[{"scroll-mt":V()}],"scroll-mr":[{"scroll-mr":V()}],"scroll-mb":[{"scroll-mb":V()}],"scroll-ml":[{"scroll-ml":V()}],"scroll-p":[{"scroll-p":V()}],"scroll-px":[{"scroll-px":V()}],"scroll-py":[{"scroll-py":V()}],"scroll-ps":[{"scroll-ps":V()}],"scroll-pe":[{"scroll-pe":V()}],"scroll-pt":[{"scroll-pt":V()}],"scroll-pr":[{"scroll-pr":V()}],"scroll-pb":[{"scroll-pb":V()}],"scroll-pl":[{"scroll-pl":V()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",nt]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Is,hi,pm]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},XM=OM(ZM);function be(...t){return XM(Dj(t))}const JM=BI,ek=y.forwardRef(({className:t,...e},r)=>a.jsx(Tj,{ref:r,className:be("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));ek.displayName=Tj.displayName;const eD=Uc("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),tk=y.forwardRef(({className:t,variant:e,...r},n)=>a.jsx(Rj,{ref:n,className:be(eD({variant:e}),t),...r}));tk.displayName=Rj.displayName;const tD=y.forwardRef(({className:t,...e},r)=>a.jsx(Oj,{ref:r,className:be("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...e}));tD.displayName=Oj.displayName;const rk=y.forwardRef(({className:t,...e},r)=>a.jsx(Ij,{ref:r,className:be("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:a.jsx(Ao,{className:"h-4 w-4"})}));rk.displayName=Ij.displayName;const nk=y.forwardRef(({className:t,...e},r)=>a.jsx(Pj,{ref:r,className:be("text-sm font-semibold",t),...e}));nk.displayName=Pj.displayName;const sk=y.forwardRef(({className:t,...e},r)=>a.jsx(Aj,{ref:r,className:be("text-sm opacity-90",t),...e}));sk.displayName=Aj.displayName;function rD(){const{toasts:t}=js();return a.jsxs(JM,{children:[t.map(function({id:e,title:r,description:n,action:s,...o}){return a.jsxs(tk,{...o,children:[a.jsxs("div",{className:"grid gap-1",children:[r&&a.jsx(nk,{children:r}),n&&a.jsx(sk,{children:n})]}),s,a.jsx(rk,{})]},e)}),a.jsx(ek,{})]})}var zb=["light","dark"],nD="(prefers-color-scheme: dark)",sD=y.createContext(void 0),iD={setTheme:t=>{},themes:[]},oD=()=>{var t;return(t=y.useContext(sD))!=null?t:iD};y.memo(({forcedTheme:t,storageKey:e,attribute:r,enableSystem:n,enableColorScheme:s,defaultTheme:o,value:c,attrs:u,nonce:f})=>{let h=o==="system",p=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${u.map(S=>`'${S}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,g=s?zb.includes(o)&&o?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${o}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",v=(S,b=!1,j=!0)=>{let N=c?c[S]:S,E=b?S+"|| ''":`'${N}'`,k="";return s&&j&&!b&&zb.includes(S)&&(k+=`d.style.colorScheme = '${S}';`),r==="class"?b||N?k+=`c.add(${E})`:k+="null":N&&(k+=`d[s](n,${E})`),k},w=t?`!function(){${p}${v(t)}}()`:n?`!function(){try{${p}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${h})){var t='${nD}',m=window.matchMedia(t);if(m.media!==t||m.matches){${v("dark")}}else{${v("light")}}}else if(e){${c?`var x=${JSON.stringify(c)};`:""}${v(c?"x[e]":"e",!0)}}${h?"":"else{"+v(o,!1,!1)+"}"}${g}}catch(e){}}()`:`!function(){try{${p}var e=localStorage.getItem('${e}');if(e){${c?`var x=${JSON.stringify(c)};`:""}${v(c?"x[e]":"e",!0)}}else{${v(o,!1,!1)};}${g}}catch(t){}}();`;return y.createElement("script",{nonce:f,dangerouslySetInnerHTML:{__html:w}})});var aD=t=>{switch(t){case"success":return uD;case"info":return fD;case"warning":return dD;case"error":return hD;default:return null}},lD=Array(12).fill(0),cD=({visible:t,className:e})=>Q.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},Q.createElement("div",{className:"sonner-spinner"},lD.map((r,n)=>Q.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),uD=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Q.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),dD=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Q.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),fD=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),hD=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),pD=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Q.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Q.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),mD=()=>{let[t,e]=Q.useState(document.hidden);return Q.useEffect(()=>{let r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t},ug=1,gD=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:r,...n}=t,s=typeof t?.id=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:ug++,o=this.toasts.find(u=>u.id===s),c=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),o?this.toasts=this.toasts.map(u=>u.id===s?(this.publish({...u,...t,id:s,title:r}),{...u,...t,id:s,dismissible:c,title:r}):u):this.addToast({title:r,...n,dismissible:c,id:s}),s},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(r=>r({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let r;e.loading!==void 0&&(r=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let n=t instanceof Promise?t:t(),s=r!==void 0,o,c=n.then(async f=>{if(o=["resolve",f],Q.isValidElement(f))s=!1,this.create({id:r,type:"default",message:f});else if(vD(f)&&!f.ok){s=!1;let h=typeof e.error=="function"?await e.error(`HTTP error! status: ${f.status}`):e.error,p=typeof e.description=="function"?await e.description(`HTTP error! status: ${f.status}`):e.description;this.create({id:r,type:"error",message:h,description:p})}else if(e.success!==void 0){s=!1;let h=typeof e.success=="function"?await e.success(f):e.success,p=typeof e.description=="function"?await e.description(f):e.description;this.create({id:r,type:"success",message:h,description:p})}}).catch(async f=>{if(o=["reject",f],e.error!==void 0){s=!1;let h=typeof e.error=="function"?await e.error(f):e.error,p=typeof e.description=="function"?await e.description(f):e.description;this.create({id:r,type:"error",message:h,description:p})}}).finally(()=>{var f;s&&(this.dismiss(r),r=void 0),(f=e.finally)==null||f.call(e)}),u=()=>new Promise((f,h)=>c.then(()=>o[0]==="reject"?h(o[1]):f(o[1])).catch(h));return typeof r!="string"&&typeof r!="number"?{unwrap:u}:Object.assign(r,{unwrap:u})},this.custom=(t,e)=>{let r=e?.id||ug++;return this.create({jsx:t(r),id:r,...e}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},en=new gD,yD=(t,e)=>{let r=e?.id||ug++;return en.addToast({title:t,...e,id:r}),r},vD=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",xD=yD,wD=()=>en.toasts,bD=()=>en.getActiveToasts(),it=Object.assign(xD,{success:en.success,info:en.info,warning:en.warning,error:en.error,custom:en.custom,message:en.message,promise:en.promise,dismiss:en.dismiss,loading:en.loading},{getHistory:wD,getToasts:bD});function _D(t,{insertAt:e}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}_D(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function yd(t){return t.label!==void 0}var SD=3,jD="32px",kD="16px",Wb=4e3,ED=356,CD=14,ND=20,TD=200;function zn(...t){return t.filter(Boolean).join(" ")}function RD(t){let[e,r]=t.split("-"),n=[];return e&&n.push(e),r&&n.push(r),n}var PD=t=>{var e,r,n,s,o,c,u,f,h,p,g;let{invert:v,toast:w,unstyled:S,interacting:b,setHeights:j,visibleToasts:N,heights:E,index:k,toasts:P,expanded:A,removeToast:L,defaultRichColors:O,closeButton:C,style:R,cancelButtonStyle:M,actionButtonStyle:H,className:V="",descriptionClassName:J="",duration:z,position:oe,gap:se,loadingIcon:X,expandByDefault:U,classNames:F,icons:K,closeButtonAriaLabel:I="Close toast",pauseWhenPageIsHidden:q}=t,[te,ie]=Q.useState(null),[xe,_e]=Q.useState(null),[ne,ue]=Q.useState(!1),[we,Ee]=Q.useState(!1),[je,$e]=Q.useState(!1),[tt,rt]=Q.useState(!1),[st,qe]=Q.useState(!1),[wt,at]=Q.useState(0),[dt,$]=Q.useState(0),G=Q.useRef(w.duration||z||Wb),re=Q.useRef(null),ve=Q.useRef(null),de=k===0,ce=k+1<=N,pe=w.type,Ve=w.dismissible!==!1,Xe=w.className||"",$t=w.descriptionClassName||"",ir=Q.useMemo(()=>E.findIndex(Ke=>Ke.toastId===w.id)||0,[E,w.id]),Pt=Q.useMemo(()=>{var Ke;return(Ke=w.closeButton)!=null?Ke:C},[w.closeButton,C]),pr=Q.useMemo(()=>w.duration||z||Wb,[w.duration,z]),jr=Q.useRef(0),kr=Q.useRef(0),Vo=Q.useRef(0),on=Q.useRef(null),[qi,Hs]=oe.split("-"),Uo=Q.useMemo(()=>E.reduce((Ke,gt,bt)=>bt>=ir?Ke:Ke+gt.height,0),[E,ir]),Bo=mD(),Ks=w.invert||v,ss=pe==="loading";kr.current=Q.useMemo(()=>ir*se+Uo,[ir,Uo]),Q.useEffect(()=>{G.current=pr},[pr]),Q.useEffect(()=>{ue(!0)},[]),Q.useEffect(()=>{let Ke=ve.current;if(Ke){let gt=Ke.getBoundingClientRect().height;return $(gt),j(bt=>[{toastId:w.id,height:gt,position:w.position},...bt]),()=>j(bt=>bt.filter(Ar=>Ar.toastId!==w.id))}},[j,w.id]),Q.useLayoutEffect(()=>{if(!ne)return;let Ke=ve.current,gt=Ke.style.height;Ke.style.height="auto";let bt=Ke.getBoundingClientRect().height;Ke.style.height=gt,$(bt),j(Ar=>Ar.find(qr=>qr.toastId===w.id)?Ar.map(qr=>qr.toastId===w.id?{...qr,height:bt}:qr):[{toastId:w.id,height:bt,position:w.position},...Ar])},[ne,w.title,w.description,j,w.id]);let In=Q.useCallback(()=>{Ee(!0),at(kr.current),j(Ke=>Ke.filter(gt=>gt.toastId!==w.id)),setTimeout(()=>{L(w)},TD)},[w,L,j,kr]);Q.useEffect(()=>{if(w.promise&&pe==="loading"||w.duration===1/0||w.type==="loading")return;let Ke;return A||b||q&&Bo?(()=>{if(Vo.current<jr.current){let gt=new Date().getTime()-jr.current;G.current=G.current-gt}Vo.current=new Date().getTime()})():G.current!==1/0&&(jr.current=new Date().getTime(),Ke=setTimeout(()=>{var gt;(gt=w.onAutoClose)==null||gt.call(w,w),In()},G.current)),()=>clearTimeout(Ke)},[A,b,w,pe,q,Bo,In]),Q.useEffect(()=>{w.delete&&In()},[In,w.delete]);function ou(){var Ke,gt,bt;return K!=null&&K.loading?Q.createElement("div",{className:zn(F?.loader,(Ke=w?.classNames)==null?void 0:Ke.loader,"sonner-loader"),"data-visible":pe==="loading"},K.loading):X?Q.createElement("div",{className:zn(F?.loader,(gt=w?.classNames)==null?void 0:gt.loader,"sonner-loader"),"data-visible":pe==="loading"},X):Q.createElement(cD,{className:zn(F?.loader,(bt=w?.classNames)==null?void 0:bt.loader),visible:pe==="loading"})}return Q.createElement("li",{tabIndex:0,ref:ve,className:zn(V,Xe,F?.toast,(e=w?.classNames)==null?void 0:e.toast,F?.default,F?.[pe],(r=w?.classNames)==null?void 0:r[pe]),"data-sonner-toast":"","data-rich-colors":(n=w.richColors)!=null?n:O,"data-styled":!(w.jsx||w.unstyled||S),"data-mounted":ne,"data-promise":!!w.promise,"data-swiped":st,"data-removed":we,"data-visible":ce,"data-y-position":qi,"data-x-position":Hs,"data-index":k,"data-front":de,"data-swiping":je,"data-dismissible":Ve,"data-type":pe,"data-invert":Ks,"data-swipe-out":tt,"data-swipe-direction":xe,"data-expanded":!!(A||U&&ne),style:{"--index":k,"--toasts-before":k,"--z-index":P.length-k,"--offset":`${we?wt:kr.current}px`,"--initial-height":U?"auto":`${dt}px`,...R,...w.style},onDragEnd:()=>{$e(!1),ie(null),on.current=null},onPointerDown:Ke=>{ss||!Ve||(re.current=new Date,at(kr.current),Ke.target.setPointerCapture(Ke.pointerId),Ke.target.tagName!=="BUTTON"&&($e(!0),on.current={x:Ke.clientX,y:Ke.clientY}))},onPointerUp:()=>{var Ke,gt,bt,Ar;if(tt||!Ve)return;on.current=null;let qr=Number(((Ke=ve.current)==null?void 0:Ke.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Hr=Number(((gt=ve.current)==null?void 0:gt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Mn=new Date().getTime()-((bt=re.current)==null?void 0:bt.getTime()),mr=te==="x"?qr:Hr,is=Math.abs(mr)/Mn;if(Math.abs(mr)>=ND||is>.11){at(kr.current),(Ar=w.onDismiss)==null||Ar.call(w,w),_e(te==="x"?qr>0?"right":"left":Hr>0?"down":"up"),In(),rt(!0),qe(!1);return}$e(!1),ie(null)},onPointerMove:Ke=>{var gt,bt,Ar,qr;if(!on.current||!Ve||((gt=window.getSelection())==null?void 0:gt.toString().length)>0)return;let Hr=Ke.clientY-on.current.y,Mn=Ke.clientX-on.current.x,mr=(bt=t.swipeDirections)!=null?bt:RD(oe);!te&&(Math.abs(Mn)>1||Math.abs(Hr)>1)&&ie(Math.abs(Mn)>Math.abs(Hr)?"x":"y");let is={x:0,y:0};te==="y"?(mr.includes("top")||mr.includes("bottom"))&&(mr.includes("top")&&Hr<0||mr.includes("bottom")&&Hr>0)&&(is.y=Hr):te==="x"&&(mr.includes("left")||mr.includes("right"))&&(mr.includes("left")&&Mn<0||mr.includes("right")&&Mn>0)&&(is.x=Mn),(Math.abs(is.x)>0||Math.abs(is.y)>0)&&qe(!0),(Ar=ve.current)==null||Ar.style.setProperty("--swipe-amount-x",`${is.x}px`),(qr=ve.current)==null||qr.style.setProperty("--swipe-amount-y",`${is.y}px`)}},Pt&&!w.jsx?Q.createElement("button",{"aria-label":I,"data-disabled":ss,"data-close-button":!0,onClick:ss||!Ve?()=>{}:()=>{var Ke;In(),(Ke=w.onDismiss)==null||Ke.call(w,w)},className:zn(F?.closeButton,(s=w?.classNames)==null?void 0:s.closeButton)},(o=K?.close)!=null?o:pD):null,w.jsx||y.isValidElement(w.title)?w.jsx?w.jsx:typeof w.title=="function"?w.title():w.title:Q.createElement(Q.Fragment,null,pe||w.icon||w.promise?Q.createElement("div",{"data-icon":"",className:zn(F?.icon,(c=w?.classNames)==null?void 0:c.icon)},w.promise||w.type==="loading"&&!w.icon?w.icon||ou():null,w.type!=="loading"?w.icon||K?.[pe]||aD(pe):null):null,Q.createElement("div",{"data-content":"",className:zn(F?.content,(u=w?.classNames)==null?void 0:u.content)},Q.createElement("div",{"data-title":"",className:zn(F?.title,(f=w?.classNames)==null?void 0:f.title)},typeof w.title=="function"?w.title():w.title),w.description?Q.createElement("div",{"data-description":"",className:zn(J,$t,F?.description,(h=w?.classNames)==null?void 0:h.description)},typeof w.description=="function"?w.description():w.description):null),y.isValidElement(w.cancel)?w.cancel:w.cancel&&yd(w.cancel)?Q.createElement("button",{"data-button":!0,"data-cancel":!0,style:w.cancelButtonStyle||M,onClick:Ke=>{var gt,bt;yd(w.cancel)&&Ve&&((bt=(gt=w.cancel).onClick)==null||bt.call(gt,Ke),In())},className:zn(F?.cancelButton,(p=w?.classNames)==null?void 0:p.cancelButton)},w.cancel.label):null,y.isValidElement(w.action)?w.action:w.action&&yd(w.action)?Q.createElement("button",{"data-button":!0,"data-action":!0,style:w.actionButtonStyle||H,onClick:Ke=>{var gt,bt;yd(w.action)&&((bt=(gt=w.action).onClick)==null||bt.call(gt,Ke),!Ke.defaultPrevented&&In())},className:zn(F?.actionButton,(g=w?.classNames)==null?void 0:g.actionButton)},w.action.label):null))};function qb(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function AD(t,e){let r={};return[t,e].forEach((n,s)=>{let o=s===1,c=o?"--mobile-offset":"--offset",u=o?kD:jD;function f(h){["top","right","bottom","left"].forEach(p=>{r[`${c}-${p}`]=typeof h=="number"?`${h}px`:h})}typeof n=="number"||typeof n=="string"?f(n):typeof n=="object"?["top","right","bottom","left"].forEach(h=>{n[h]===void 0?r[`${c}-${h}`]=u:r[`${c}-${h}`]=typeof n[h]=="number"?`${n[h]}px`:n[h]}):f(u)}),r}var OD=y.forwardRef(function(t,e){let{invert:r,position:n="bottom-right",hotkey:s=["altKey","KeyT"],expand:o,closeButton:c,className:u,offset:f,mobileOffset:h,theme:p="light",richColors:g,duration:v,style:w,visibleToasts:S=SD,toastOptions:b,dir:j=qb(),gap:N=CD,loadingIcon:E,icons:k,containerAriaLabel:P="Notifications",pauseWhenPageIsHidden:A}=t,[L,O]=Q.useState([]),C=Q.useMemo(()=>Array.from(new Set([n].concat(L.filter(q=>q.position).map(q=>q.position)))),[L,n]),[R,M]=Q.useState([]),[H,V]=Q.useState(!1),[J,z]=Q.useState(!1),[oe,se]=Q.useState(p!=="system"?p:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),X=Q.useRef(null),U=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),F=Q.useRef(null),K=Q.useRef(!1),I=Q.useCallback(q=>{O(te=>{var ie;return(ie=te.find(xe=>xe.id===q.id))!=null&&ie.delete||en.dismiss(q.id),te.filter(({id:xe})=>xe!==q.id)})},[]);return Q.useEffect(()=>en.subscribe(q=>{if(q.dismiss){O(te=>te.map(ie=>ie.id===q.id?{...ie,delete:!0}:ie));return}setTimeout(()=>{lj.flushSync(()=>{O(te=>{let ie=te.findIndex(xe=>xe.id===q.id);return ie!==-1?[...te.slice(0,ie),{...te[ie],...q},...te.slice(ie+1)]:[q,...te]})})})}),[]),Q.useEffect(()=>{if(p!=="system"){se(p);return}if(p==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?se("dark"):se("light")),typeof window>"u")return;let q=window.matchMedia("(prefers-color-scheme: dark)");try{q.addEventListener("change",({matches:te})=>{se(te?"dark":"light")})}catch{q.addListener(({matches:ie})=>{try{se(ie?"dark":"light")}catch(xe){console.error(xe)}})}},[p]),Q.useEffect(()=>{L.length<=1&&V(!1)},[L]),Q.useEffect(()=>{let q=te=>{var ie,xe;s.every(_e=>te[_e]||te.code===_e)&&(V(!0),(ie=X.current)==null||ie.focus()),te.code==="Escape"&&(document.activeElement===X.current||(xe=X.current)!=null&&xe.contains(document.activeElement))&&V(!1)};return document.addEventListener("keydown",q),()=>document.removeEventListener("keydown",q)},[s]),Q.useEffect(()=>{if(X.current)return()=>{F.current&&(F.current.focus({preventScroll:!0}),F.current=null,K.current=!1)}},[X.current]),Q.createElement("section",{ref:e,"aria-label":`${P} ${U}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},C.map((q,te)=>{var ie;let[xe,_e]=q.split("-");return L.length?Q.createElement("ol",{key:q,dir:j==="auto"?qb():j,tabIndex:-1,ref:X,className:u,"data-sonner-toaster":!0,"data-theme":oe,"data-y-position":xe,"data-lifted":H&&L.length>1&&!o,"data-x-position":_e,style:{"--front-toast-height":`${((ie=R[0])==null?void 0:ie.height)||0}px`,"--width":`${ED}px`,"--gap":`${N}px`,...w,...AD(f,h)},onBlur:ne=>{K.current&&!ne.currentTarget.contains(ne.relatedTarget)&&(K.current=!1,F.current&&(F.current.focus({preventScroll:!0}),F.current=null))},onFocus:ne=>{ne.target instanceof HTMLElement&&ne.target.dataset.dismissible==="false"||K.current||(K.current=!0,F.current=ne.relatedTarget)},onMouseEnter:()=>V(!0),onMouseMove:()=>V(!0),onMouseLeave:()=>{J||V(!1)},onDragEnd:()=>V(!1),onPointerDown:ne=>{ne.target instanceof HTMLElement&&ne.target.dataset.dismissible==="false"||z(!0)},onPointerUp:()=>z(!1)},L.filter(ne=>!ne.position&&te===0||ne.position===q).map((ne,ue)=>{var we,Ee;return Q.createElement(PD,{key:ne.id,icons:k,index:ue,toast:ne,defaultRichColors:g,duration:(we=b?.duration)!=null?we:v,className:b?.className,descriptionClassName:b?.descriptionClassName,invert:r,visibleToasts:S,closeButton:(Ee=b?.closeButton)!=null?Ee:c,interacting:J,position:q,style:b?.style,unstyled:b?.unstyled,classNames:b?.classNames,cancelButtonStyle:b?.cancelButtonStyle,actionButtonStyle:b?.actionButtonStyle,removeToast:I,toasts:L.filter(je=>je.position==ne.position),heights:R.filter(je=>je.position==ne.position),setHeights:M,expandByDefault:o,gap:N,loadingIcon:E,expanded:H,pauseWhenPageIsHidden:A,swipeDirections:t.swipeDirections})})):null}))});const ID=({...t})=>{const{theme:e="system"}=oD();return a.jsx(OD,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var MD=Ny[" useId ".trim().toString()]||(()=>{}),DD=0;function Rn(t){const[e,r]=y.useState(MD());return hr(()=>{r(n=>n??String(DD++))},[t]),e?`radix-${e}`:""}const LD=["top","right","bottom","left"],Oi=Math.min,hn=Math.max,Gd=Math.round,vd=Math.floor,vs=t=>({x:t,y:t}),FD={left:"right",right:"left",bottom:"top",top:"bottom"},$D={start:"end",end:"start"};function dg(t,e,r){return hn(t,Oi(e,r))}function Vs(t,e){return typeof t=="function"?t(e):t}function Us(t){return t.split("-")[0]}function Xa(t){return t.split("-")[1]}function qy(t){return t==="x"?"y":"x"}function Hy(t){return t==="y"?"height":"width"}const VD=new Set(["top","bottom"]);function gs(t){return VD.has(Us(t))?"y":"x"}function Ky(t){return qy(gs(t))}function UD(t,e,r){r===void 0&&(r=!1);const n=Xa(t),s=Ky(t),o=Hy(s);let c=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(c=Yd(c)),[c,Yd(c)]}function BD(t){const e=Yd(t);return[fg(t),e,fg(e)]}function fg(t){return t.replace(/start|end/g,e=>$D[e])}const Hb=["left","right"],Kb=["right","left"],zD=["top","bottom"],WD=["bottom","top"];function qD(t,e,r){switch(t){case"top":case"bottom":return r?e?Kb:Hb:e?Hb:Kb;case"left":case"right":return e?zD:WD;default:return[]}}function HD(t,e,r,n){const s=Xa(t);let o=qD(Us(t),r==="start",n);return s&&(o=o.map(c=>c+"-"+s),e&&(o=o.concat(o.map(fg)))),o}function Yd(t){return t.replace(/left|right|bottom|top/g,e=>FD[e])}function KD(t){return{top:0,right:0,bottom:0,left:0,...t}}function ik(t){return typeof t!="number"?KD(t):{top:t,right:t,bottom:t,left:t}}function Qd(t){const{x:e,y:r,width:n,height:s}=t;return{width:n,height:s,top:r,left:e,right:e+n,bottom:r+s,x:e,y:r}}function Gb(t,e,r){let{reference:n,floating:s}=t;const o=gs(e),c=Ky(e),u=Hy(c),f=Us(e),h=o==="y",p=n.x+n.width/2-s.width/2,g=n.y+n.height/2-s.height/2,v=n[u]/2-s[u]/2;let w;switch(f){case"top":w={x:p,y:n.y-s.height};break;case"bottom":w={x:p,y:n.y+n.height};break;case"right":w={x:n.x+n.width,y:g};break;case"left":w={x:n.x-s.width,y:g};break;default:w={x:n.x,y:n.y}}switch(Xa(e)){case"start":w[c]-=v*(r&&h?-1:1);break;case"end":w[c]+=v*(r&&h?-1:1);break}return w}const GD=async(t,e,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:o=[],platform:c}=r,u=o.filter(Boolean),f=await(c.isRTL==null?void 0:c.isRTL(e));let h=await c.getElementRects({reference:t,floating:e,strategy:s}),{x:p,y:g}=Gb(h,n,f),v=n,w={},S=0;for(let b=0;b<u.length;b++){const{name:j,fn:N}=u[b],{x:E,y:k,data:P,reset:A}=await N({x:p,y:g,initialPlacement:n,placement:v,strategy:s,middlewareData:w,rects:h,platform:c,elements:{reference:t,floating:e}});p=E??p,g=k??g,w={...w,[j]:{...w[j],...P}},A&&S<=50&&(S++,typeof A=="object"&&(A.placement&&(v=A.placement),A.rects&&(h=A.rects===!0?await c.getElementRects({reference:t,floating:e,strategy:s}):A.rects),{x:p,y:g}=Gb(h,v,f)),b=-1)}return{x:p,y:g,placement:v,strategy:s,middlewareData:w}};async function xc(t,e){var r;e===void 0&&(e={});const{x:n,y:s,platform:o,rects:c,elements:u,strategy:f}=t,{boundary:h="clippingAncestors",rootBoundary:p="viewport",elementContext:g="floating",altBoundary:v=!1,padding:w=0}=Vs(e,t),S=ik(w),j=u[v?g==="floating"?"reference":"floating":g],N=Qd(await o.getClippingRect({element:(r=await(o.isElement==null?void 0:o.isElement(j)))==null||r?j:j.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(u.floating)),boundary:h,rootBoundary:p,strategy:f})),E=g==="floating"?{x:n,y:s,width:c.floating.width,height:c.floating.height}:c.reference,k=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u.floating)),P=await(o.isElement==null?void 0:o.isElement(k))?await(o.getScale==null?void 0:o.getScale(k))||{x:1,y:1}:{x:1,y:1},A=Qd(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:E,offsetParent:k,strategy:f}):E);return{top:(N.top-A.top+S.top)/P.y,bottom:(A.bottom-N.bottom+S.bottom)/P.y,left:(N.left-A.left+S.left)/P.x,right:(A.right-N.right+S.right)/P.x}}const YD=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:s,rects:o,platform:c,elements:u,middlewareData:f}=e,{element:h,padding:p=0}=Vs(t,e)||{};if(h==null)return{};const g=ik(p),v={x:r,y:n},w=Ky(s),S=Hy(w),b=await c.getDimensions(h),j=w==="y",N=j?"top":"left",E=j?"bottom":"right",k=j?"clientHeight":"clientWidth",P=o.reference[S]+o.reference[w]-v[w]-o.floating[S],A=v[w]-o.reference[w],L=await(c.getOffsetParent==null?void 0:c.getOffsetParent(h));let O=L?L[k]:0;(!O||!await(c.isElement==null?void 0:c.isElement(L)))&&(O=u.floating[k]||o.floating[S]);const C=P/2-A/2,R=O/2-b[S]/2-1,M=Oi(g[N],R),H=Oi(g[E],R),V=M,J=O-b[S]-H,z=O/2-b[S]/2+C,oe=dg(V,z,J),se=!f.arrow&&Xa(s)!=null&&z!==oe&&o.reference[S]/2-(z<V?M:H)-b[S]/2<0,X=se?z<V?z-V:z-J:0;return{[w]:v[w]+X,data:{[w]:oe,centerOffset:z-oe-X,...se&&{alignmentOffset:X}},reset:se}}}),QD=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:s,middlewareData:o,rects:c,initialPlacement:u,platform:f,elements:h}=e,{mainAxis:p=!0,crossAxis:g=!0,fallbackPlacements:v,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:b=!0,...j}=Vs(t,e);if((r=o.arrow)!=null&&r.alignmentOffset)return{};const N=Us(s),E=gs(u),k=Us(u)===u,P=await(f.isRTL==null?void 0:f.isRTL(h.floating)),A=v||(k||!b?[Yd(u)]:BD(u)),L=S!=="none";!v&&L&&A.push(...HD(u,b,S,P));const O=[u,...A],C=await xc(e,j),R=[];let M=((n=o.flip)==null?void 0:n.overflows)||[];if(p&&R.push(C[N]),g){const z=UD(s,c,P);R.push(C[z[0]],C[z[1]])}if(M=[...M,{placement:s,overflows:R}],!R.every(z=>z<=0)){var H,V;const z=(((H=o.flip)==null?void 0:H.index)||0)+1,oe=O[z];if(oe&&(!(g==="alignment"?E!==gs(oe):!1)||M.every(U=>U.overflows[0]>0&&gs(U.placement)===E)))return{data:{index:z,overflows:M},reset:{placement:oe}};let se=(V=M.filter(X=>X.overflows[0]<=0).sort((X,U)=>X.overflows[1]-U.overflows[1])[0])==null?void 0:V.placement;if(!se)switch(w){case"bestFit":{var J;const X=(J=M.filter(U=>{if(L){const F=gs(U.placement);return F===E||F==="y"}return!0}).map(U=>[U.placement,U.overflows.filter(F=>F>0).reduce((F,K)=>F+K,0)]).sort((U,F)=>U[1]-F[1])[0])==null?void 0:J[0];X&&(se=X);break}case"initialPlacement":se=u;break}if(s!==se)return{reset:{placement:se}}}return{}}}};function Yb(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Qb(t){return LD.some(e=>t[e]>=0)}const ZD=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...s}=Vs(t,e);switch(n){case"referenceHidden":{const o=await xc(e,{...s,elementContext:"reference"}),c=Yb(o,r.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:Qb(c)}}}case"escaped":{const o=await xc(e,{...s,altBoundary:!0}),c=Yb(o,r.floating);return{data:{escapedOffsets:c,escaped:Qb(c)}}}default:return{}}}}},ok=new Set(["left","top"]);async function XD(t,e){const{placement:r,platform:n,elements:s}=t,o=await(n.isRTL==null?void 0:n.isRTL(s.floating)),c=Us(r),u=Xa(r),f=gs(r)==="y",h=ok.has(c)?-1:1,p=o&&f?-1:1,g=Vs(e,t);let{mainAxis:v,crossAxis:w,alignmentAxis:S}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return u&&typeof S=="number"&&(w=u==="end"?S*-1:S),f?{x:w*p,y:v*h}:{x:v*h,y:w*p}}const JD=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:s,y:o,placement:c,middlewareData:u}=e,f=await XD(e,t);return c===((r=u.offset)==null?void 0:r.placement)&&(n=u.arrow)!=null&&n.alignmentOffset?{}:{x:s+f.x,y:o+f.y,data:{...f,placement:c}}}}},e4=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:s}=e,{mainAxis:o=!0,crossAxis:c=!1,limiter:u={fn:j=>{let{x:N,y:E}=j;return{x:N,y:E}}},...f}=Vs(t,e),h={x:r,y:n},p=await xc(e,f),g=gs(Us(s)),v=qy(g);let w=h[v],S=h[g];if(o){const j=v==="y"?"top":"left",N=v==="y"?"bottom":"right",E=w+p[j],k=w-p[N];w=dg(E,w,k)}if(c){const j=g==="y"?"top":"left",N=g==="y"?"bottom":"right",E=S+p[j],k=S-p[N];S=dg(E,S,k)}const b=u.fn({...e,[v]:w,[g]:S});return{...b,data:{x:b.x-r,y:b.y-n,enabled:{[v]:o,[g]:c}}}}}},t4=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:s,rects:o,middlewareData:c}=e,{offset:u=0,mainAxis:f=!0,crossAxis:h=!0}=Vs(t,e),p={x:r,y:n},g=gs(s),v=qy(g);let w=p[v],S=p[g];const b=Vs(u,e),j=typeof b=="number"?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(f){const k=v==="y"?"height":"width",P=o.reference[v]-o.floating[k]+j.mainAxis,A=o.reference[v]+o.reference[k]-j.mainAxis;w<P?w=P:w>A&&(w=A)}if(h){var N,E;const k=v==="y"?"width":"height",P=ok.has(Us(s)),A=o.reference[g]-o.floating[k]+(P&&((N=c.offset)==null?void 0:N[g])||0)+(P?0:j.crossAxis),L=o.reference[g]+o.reference[k]+(P?0:((E=c.offset)==null?void 0:E[g])||0)-(P?j.crossAxis:0);S<A?S=A:S>L&&(S=L)}return{[v]:w,[g]:S}}}},r4=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:s,rects:o,platform:c,elements:u}=e,{apply:f=()=>{},...h}=Vs(t,e),p=await xc(e,h),g=Us(s),v=Xa(s),w=gs(s)==="y",{width:S,height:b}=o.floating;let j,N;g==="top"||g==="bottom"?(j=g,N=v===(await(c.isRTL==null?void 0:c.isRTL(u.floating))?"start":"end")?"left":"right"):(N=g,j=v==="end"?"top":"bottom");const E=b-p.top-p.bottom,k=S-p.left-p.right,P=Oi(b-p[j],E),A=Oi(S-p[N],k),L=!e.middlewareData.shift;let O=P,C=A;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(C=k),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(O=E),L&&!v){const M=hn(p.left,0),H=hn(p.right,0),V=hn(p.top,0),J=hn(p.bottom,0);w?C=S-2*(M!==0||H!==0?M+H:hn(p.left,p.right)):O=b-2*(V!==0||J!==0?V+J:hn(p.top,p.bottom))}await f({...e,availableWidth:C,availableHeight:O});const R=await c.getDimensions(u.floating);return S!==R.width||b!==R.height?{reset:{rects:!0}}:{}}}};function Uf(){return typeof window<"u"}function Ja(t){return ak(t)?(t.nodeName||"").toLowerCase():"#document"}function gn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ks(t){var e;return(e=(ak(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function ak(t){return Uf()?t instanceof Node||t instanceof gn(t).Node:!1}function Jn(t){return Uf()?t instanceof Element||t instanceof gn(t).Element:!1}function _s(t){return Uf()?t instanceof HTMLElement||t instanceof gn(t).HTMLElement:!1}function Zb(t){return!Uf()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof gn(t).ShadowRoot}const n4=new Set(["inline","contents"]);function Wc(t){const{overflow:e,overflowX:r,overflowY:n,display:s}=es(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!n4.has(s)}const s4=new Set(["table","td","th"]);function i4(t){return s4.has(Ja(t))}const o4=[":popover-open",":modal"];function Bf(t){return o4.some(e=>{try{return t.matches(e)}catch{return!1}})}const a4=["transform","translate","scale","rotate","perspective"],l4=["transform","translate","scale","rotate","perspective","filter"],c4=["paint","layout","strict","content"];function Gy(t){const e=Yy(),r=Jn(t)?es(t):t;return a4.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||l4.some(n=>(r.willChange||"").includes(n))||c4.some(n=>(r.contain||"").includes(n))}function u4(t){let e=Ii(t);for(;_s(e)&&!$a(e);){if(Gy(e))return e;if(Bf(e))return null;e=Ii(e)}return null}function Yy(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const d4=new Set(["html","body","#document"]);function $a(t){return d4.has(Ja(t))}function es(t){return gn(t).getComputedStyle(t)}function zf(t){return Jn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Ii(t){if(Ja(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Zb(t)&&t.host||ks(t);return Zb(e)?e.host:e}function lk(t){const e=Ii(t);return $a(e)?t.ownerDocument?t.ownerDocument.body:t.body:_s(e)&&Wc(e)?e:lk(e)}function wc(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const s=lk(t),o=s===((n=t.ownerDocument)==null?void 0:n.body),c=gn(s);if(o){const u=hg(c);return e.concat(c,c.visualViewport||[],Wc(s)?s:[],u&&r?wc(u):[])}return e.concat(s,wc(s,[],r))}function hg(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function ck(t){const e=es(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const s=_s(t),o=s?t.offsetWidth:r,c=s?t.offsetHeight:n,u=Gd(r)!==o||Gd(n)!==c;return u&&(r=o,n=c),{width:r,height:n,$:u}}function Qy(t){return Jn(t)?t:t.contextElement}function Aa(t){const e=Qy(t);if(!_s(e))return vs(1);const r=e.getBoundingClientRect(),{width:n,height:s,$:o}=ck(e);let c=(o?Gd(r.width):r.width)/n,u=(o?Gd(r.height):r.height)/s;return(!c||!Number.isFinite(c))&&(c=1),(!u||!Number.isFinite(u))&&(u=1),{x:c,y:u}}const f4=vs(0);function uk(t){const e=gn(t);return!Yy()||!e.visualViewport?f4:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function h4(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==gn(t)?!1:e}function _o(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const s=t.getBoundingClientRect(),o=Qy(t);let c=vs(1);e&&(n?Jn(n)&&(c=Aa(n)):c=Aa(t));const u=h4(o,r,n)?uk(o):vs(0);let f=(s.left+u.x)/c.x,h=(s.top+u.y)/c.y,p=s.width/c.x,g=s.height/c.y;if(o){const v=gn(o),w=n&&Jn(n)?gn(n):n;let S=v,b=hg(S);for(;b&&n&&w!==S;){const j=Aa(b),N=b.getBoundingClientRect(),E=es(b),k=N.left+(b.clientLeft+parseFloat(E.paddingLeft))*j.x,P=N.top+(b.clientTop+parseFloat(E.paddingTop))*j.y;f*=j.x,h*=j.y,p*=j.x,g*=j.y,f+=k,h+=P,S=gn(b),b=hg(S)}}return Qd({width:p,height:g,x:f,y:h})}function Zy(t,e){const r=zf(t).scrollLeft;return e?e.left+r:_o(ks(t)).left+r}function dk(t,e,r){r===void 0&&(r=!1);const n=t.getBoundingClientRect(),s=n.left+e.scrollLeft-(r?0:Zy(t,n)),o=n.top+e.scrollTop;return{x:s,y:o}}function p4(t){let{elements:e,rect:r,offsetParent:n,strategy:s}=t;const o=s==="fixed",c=ks(n),u=e?Bf(e.floating):!1;if(n===c||u&&o)return r;let f={scrollLeft:0,scrollTop:0},h=vs(1);const p=vs(0),g=_s(n);if((g||!g&&!o)&&((Ja(n)!=="body"||Wc(c))&&(f=zf(n)),_s(n))){const w=_o(n);h=Aa(n),p.x=w.x+n.clientLeft,p.y=w.y+n.clientTop}const v=c&&!g&&!o?dk(c,f,!0):vs(0);return{width:r.width*h.x,height:r.height*h.y,x:r.x*h.x-f.scrollLeft*h.x+p.x+v.x,y:r.y*h.y-f.scrollTop*h.y+p.y+v.y}}function m4(t){return Array.from(t.getClientRects())}function g4(t){const e=ks(t),r=zf(t),n=t.ownerDocument.body,s=hn(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),o=hn(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let c=-r.scrollLeft+Zy(t);const u=-r.scrollTop;return es(n).direction==="rtl"&&(c+=hn(e.clientWidth,n.clientWidth)-s),{width:s,height:o,x:c,y:u}}function y4(t,e){const r=gn(t),n=ks(t),s=r.visualViewport;let o=n.clientWidth,c=n.clientHeight,u=0,f=0;if(s){o=s.width,c=s.height;const h=Yy();(!h||h&&e==="fixed")&&(u=s.offsetLeft,f=s.offsetTop)}return{width:o,height:c,x:u,y:f}}const v4=new Set(["absolute","fixed"]);function x4(t,e){const r=_o(t,!0,e==="fixed"),n=r.top+t.clientTop,s=r.left+t.clientLeft,o=_s(t)?Aa(t):vs(1),c=t.clientWidth*o.x,u=t.clientHeight*o.y,f=s*o.x,h=n*o.y;return{width:c,height:u,x:f,y:h}}function Xb(t,e,r){let n;if(e==="viewport")n=y4(t,r);else if(e==="document")n=g4(ks(t));else if(Jn(e))n=x4(e,r);else{const s=uk(t);n={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Qd(n)}function fk(t,e){const r=Ii(t);return r===e||!Jn(r)||$a(r)?!1:es(r).position==="fixed"||fk(r,e)}function w4(t,e){const r=e.get(t);if(r)return r;let n=wc(t,[],!1).filter(u=>Jn(u)&&Ja(u)!=="body"),s=null;const o=es(t).position==="fixed";let c=o?Ii(t):t;for(;Jn(c)&&!$a(c);){const u=es(c),f=Gy(c);!f&&u.position==="fixed"&&(s=null),(o?!f&&!s:!f&&u.position==="static"&&!!s&&v4.has(s.position)||Wc(c)&&!f&&fk(t,c))?n=n.filter(p=>p!==c):s=u,c=Ii(c)}return e.set(t,n),n}function b4(t){let{element:e,boundary:r,rootBoundary:n,strategy:s}=t;const c=[...r==="clippingAncestors"?Bf(e)?[]:w4(e,this._c):[].concat(r),n],u=c[0],f=c.reduce((h,p)=>{const g=Xb(e,p,s);return h.top=hn(g.top,h.top),h.right=Oi(g.right,h.right),h.bottom=Oi(g.bottom,h.bottom),h.left=hn(g.left,h.left),h},Xb(e,u,s));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function _4(t){const{width:e,height:r}=ck(t);return{width:e,height:r}}function S4(t,e,r){const n=_s(e),s=ks(e),o=r==="fixed",c=_o(t,!0,o,e);let u={scrollLeft:0,scrollTop:0};const f=vs(0);function h(){f.x=Zy(s)}if(n||!n&&!o)if((Ja(e)!=="body"||Wc(s))&&(u=zf(e)),n){const w=_o(e,!0,o,e);f.x=w.x+e.clientLeft,f.y=w.y+e.clientTop}else s&&h();o&&!n&&s&&h();const p=s&&!n&&!o?dk(s,u):vs(0),g=c.left+u.scrollLeft-f.x-p.x,v=c.top+u.scrollTop-f.y-p.y;return{x:g,y:v,width:c.width,height:c.height}}function mm(t){return es(t).position==="static"}function Jb(t,e){if(!_s(t)||es(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return ks(t)===r&&(r=r.ownerDocument.body),r}function hk(t,e){const r=gn(t);if(Bf(t))return r;if(!_s(t)){let s=Ii(t);for(;s&&!$a(s);){if(Jn(s)&&!mm(s))return s;s=Ii(s)}return r}let n=Jb(t,e);for(;n&&i4(n)&&mm(n);)n=Jb(n,e);return n&&$a(n)&&mm(n)&&!Gy(n)?r:n||u4(t)||r}const j4=async function(t){const e=this.getOffsetParent||hk,r=this.getDimensions,n=await r(t.floating);return{reference:S4(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function k4(t){return es(t).direction==="rtl"}const E4={convertOffsetParentRelativeRectToViewportRelativeRect:p4,getDocumentElement:ks,getClippingRect:b4,getOffsetParent:hk,getElementRects:j4,getClientRects:m4,getDimensions:_4,getScale:Aa,isElement:Jn,isRTL:k4};function pk(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function C4(t,e){let r=null,n;const s=ks(t);function o(){var u;clearTimeout(n),(u=r)==null||u.disconnect(),r=null}function c(u,f){u===void 0&&(u=!1),f===void 0&&(f=1),o();const h=t.getBoundingClientRect(),{left:p,top:g,width:v,height:w}=h;if(u||e(),!v||!w)return;const S=vd(g),b=vd(s.clientWidth-(p+v)),j=vd(s.clientHeight-(g+w)),N=vd(p),k={rootMargin:-S+"px "+-b+"px "+-j+"px "+-N+"px",threshold:hn(0,Oi(1,f))||1};let P=!0;function A(L){const O=L[0].intersectionRatio;if(O!==f){if(!P)return c();O?c(!1,O):n=setTimeout(()=>{c(!1,1e-7)},1e3)}O===1&&!pk(h,t.getBoundingClientRect())&&c(),P=!1}try{r=new IntersectionObserver(A,{...k,root:s.ownerDocument})}catch{r=new IntersectionObserver(A,k)}r.observe(t)}return c(!0),o}function N4(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:f=!1}=n,h=Qy(t),p=s||o?[...h?wc(h):[],...wc(e)]:[];p.forEach(N=>{s&&N.addEventListener("scroll",r,{passive:!0}),o&&N.addEventListener("resize",r)});const g=h&&u?C4(h,r):null;let v=-1,w=null;c&&(w=new ResizeObserver(N=>{let[E]=N;E&&E.target===h&&w&&(w.unobserve(e),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var k;(k=w)==null||k.observe(e)})),r()}),h&&!f&&w.observe(h),w.observe(e));let S,b=f?_o(t):null;f&&j();function j(){const N=_o(t);b&&!pk(b,N)&&r(),b=N,S=requestAnimationFrame(j)}return r(),()=>{var N;p.forEach(E=>{s&&E.removeEventListener("scroll",r),o&&E.removeEventListener("resize",r)}),g?.(),(N=w)==null||N.disconnect(),w=null,f&&cancelAnimationFrame(S)}}const T4=JD,R4=e4,P4=QD,A4=r4,O4=ZD,e_=YD,I4=t4,M4=(t,e,r)=>{const n=new Map,s={platform:E4,...r},o={...s.platform,_c:n};return GD(t,e,{...s,platform:o})};var D4=typeof document<"u",L4=function(){},Ld=D4?y.useLayoutEffect:L4;function Zd(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!Zd(t[n],e[n]))return!1;return!0}if(s=Object.keys(t),r=s.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,s[n]))return!1;for(n=r;n--!==0;){const o=s[n];if(!(o==="_owner"&&t.$$typeof)&&!Zd(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function mk(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function t_(t,e){const r=mk(t);return Math.round(e*r)/r}function gm(t){const e=y.useRef(t);return Ld(()=>{e.current=t}),e}function F4(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:o,floating:c}={},transform:u=!0,whileElementsMounted:f,open:h}=t,[p,g]=y.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[v,w]=y.useState(n);Zd(v,n)||w(n);const[S,b]=y.useState(null),[j,N]=y.useState(null),E=y.useCallback(U=>{U!==L.current&&(L.current=U,b(U))},[]),k=y.useCallback(U=>{U!==O.current&&(O.current=U,N(U))},[]),P=o||S,A=c||j,L=y.useRef(null),O=y.useRef(null),C=y.useRef(p),R=f!=null,M=gm(f),H=gm(s),V=gm(h),J=y.useCallback(()=>{if(!L.current||!O.current)return;const U={placement:e,strategy:r,middleware:v};H.current&&(U.platform=H.current),M4(L.current,O.current,U).then(F=>{const K={...F,isPositioned:V.current!==!1};z.current&&!Zd(C.current,K)&&(C.current=K,Ga.flushSync(()=>{g(K)}))})},[v,e,r,H,V]);Ld(()=>{h===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,g(U=>({...U,isPositioned:!1})))},[h]);const z=y.useRef(!1);Ld(()=>(z.current=!0,()=>{z.current=!1}),[]),Ld(()=>{if(P&&(L.current=P),A&&(O.current=A),P&&A){if(M.current)return M.current(P,A,J);J()}},[P,A,J,M,R]);const oe=y.useMemo(()=>({reference:L,floating:O,setReference:E,setFloating:k}),[E,k]),se=y.useMemo(()=>({reference:P,floating:A}),[P,A]),X=y.useMemo(()=>{const U={position:r,left:0,top:0};if(!se.floating)return U;const F=t_(se.floating,p.x),K=t_(se.floating,p.y);return u?{...U,transform:"translate("+F+"px, "+K+"px)",...mk(se.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:F,top:K}},[r,u,se.floating,p.x,p.y]);return y.useMemo(()=>({...p,update:J,refs:oe,elements:se,floatingStyles:X}),[p,J,oe,se,X])}const $4=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:s}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?e_({element:n.current,padding:s}).fn(r):{}:n?e_({element:n,padding:s}).fn(r):{}}}},V4=(t,e)=>({...T4(t),options:[t,e]}),U4=(t,e)=>({...R4(t),options:[t,e]}),B4=(t,e)=>({...I4(t),options:[t,e]}),z4=(t,e)=>({...P4(t),options:[t,e]}),W4=(t,e)=>({...A4(t),options:[t,e]}),q4=(t,e)=>({...O4(t),options:[t,e]}),H4=(t,e)=>({...$4(t),options:[t,e]});var K4="Arrow",gk=y.forwardRef((t,e)=>{const{children:r,width:n=10,height:s=5,...o}=t;return a.jsx(Ae.svg,{...o,ref:e,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});gk.displayName=K4;var G4=gk;function Wf(t){const[e,r]=y.useState(void 0);return hr(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let c,u;if("borderBoxSize"in o){const f=o.borderBoxSize,h=Array.isArray(f)?f[0]:f;c=h.inlineSize,u=h.blockSize}else c=t.offsetWidth,u=t.offsetHeight;r({width:c,height:u})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var Xy="Popper",[yk,el]=Sr(Xy),[Y4,vk]=yk(Xy),xk=t=>{const{__scopePopper:e,children:r}=t,[n,s]=y.useState(null);return a.jsx(Y4,{scope:e,anchor:n,onAnchorChange:s,children:r})};xk.displayName=Xy;var wk="PopperAnchor",bk=y.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...s}=t,o=vk(wk,r),c=y.useRef(null),u=Ge(e,c);return y.useEffect(()=>{o.onAnchorChange(n?.current||c.current)}),n?null:a.jsx(Ae.div,{...s,ref:u})});bk.displayName=wk;var Jy="PopperContent",[Q4,Z4]=yk(Jy),_k=y.forwardRef((t,e)=>{const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:o="center",alignOffset:c=0,arrowPadding:u=0,avoidCollisions:f=!0,collisionBoundary:h=[],collisionPadding:p=0,sticky:g="partial",hideWhenDetached:v=!1,updatePositionStrategy:w="optimized",onPlaced:S,...b}=t,j=vk(Jy,r),[N,E]=y.useState(null),k=Ge(e,ne=>E(ne)),[P,A]=y.useState(null),L=Wf(P),O=L?.width??0,C=L?.height??0,R=n+(o!=="center"?"-"+o:""),M=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},H=Array.isArray(h)?h:[h],V=H.length>0,J={padding:M,boundary:H.filter(J4),altBoundary:V},{refs:z,floatingStyles:oe,placement:se,isPositioned:X,middlewareData:U}=F4({strategy:"fixed",placement:R,whileElementsMounted:(...ne)=>N4(...ne,{animationFrame:w==="always"}),elements:{reference:j.anchor},middleware:[V4({mainAxis:s+C,alignmentAxis:c}),f&&U4({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?B4():void 0,...J}),f&&z4({...J}),W4({...J,apply:({elements:ne,rects:ue,availableWidth:we,availableHeight:Ee})=>{const{width:je,height:$e}=ue.reference,tt=ne.floating.style;tt.setProperty("--radix-popper-available-width",`${we}px`),tt.setProperty("--radix-popper-available-height",`${Ee}px`),tt.setProperty("--radix-popper-anchor-width",`${je}px`),tt.setProperty("--radix-popper-anchor-height",`${$e}px`)}}),P&&H4({element:P,padding:u}),eL({arrowWidth:O,arrowHeight:C}),v&&q4({strategy:"referenceHidden",...J})]}),[F,K]=kk(se),I=tn(S);hr(()=>{X&&I?.()},[X,I]);const q=U.arrow?.x,te=U.arrow?.y,ie=U.arrow?.centerOffset!==0,[xe,_e]=y.useState();return hr(()=>{N&&_e(window.getComputedStyle(N).zIndex)},[N]),a.jsx("div",{ref:z.setFloating,"data-radix-popper-content-wrapper":"",style:{...oe,transform:X?oe.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:xe,"--radix-popper-transform-origin":[U.transformOrigin?.x,U.transformOrigin?.y].join(" "),...U.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:a.jsx(Q4,{scope:r,placedSide:F,onArrowChange:A,arrowX:q,arrowY:te,shouldHideArrow:ie,children:a.jsx(Ae.div,{"data-side":F,"data-align":K,...b,ref:k,style:{...b.style,animation:X?void 0:"none"}})})})});_k.displayName=Jy;var Sk="PopperArrow",X4={top:"bottom",right:"left",bottom:"top",left:"right"},jk=y.forwardRef(function(e,r){const{__scopePopper:n,...s}=e,o=Z4(Sk,n),c=X4[o.placedSide];return a.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:a.jsx(G4,{...s,ref:r,style:{...s.style,display:"block"}})})});jk.displayName=Sk;function J4(t){return t!==null}var eL=t=>({name:"transformOrigin",options:t,fn(e){const{placement:r,rects:n,middlewareData:s}=e,c=s.arrow?.centerOffset!==0,u=c?0:t.arrowWidth,f=c?0:t.arrowHeight,[h,p]=kk(r),g={start:"0%",center:"50%",end:"100%"}[p],v=(s.arrow?.x??0)+u/2,w=(s.arrow?.y??0)+f/2;let S="",b="";return h==="bottom"?(S=c?g:`${v}px`,b=`${-f}px`):h==="top"?(S=c?g:`${v}px`,b=`${n.floating.height+f}px`):h==="right"?(S=`${-f}px`,b=c?g:`${w}px`):h==="left"&&(S=`${n.floating.width+f}px`,b=c?g:`${w}px`),{data:{x:S,y:b}}}});function kk(t){const[e,r="center"]=t.split("-");return[e,r]}var Ek=xk,ev=bk,tv=_k,rv=jk,[qf]=Sr("Tooltip",[el]),nv=el(),Ck="TooltipProvider",tL=700,r_="tooltip.open",[rL,Nk]=qf(Ck),Tk=t=>{const{__scopeTooltip:e,delayDuration:r=tL,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:o}=t,c=y.useRef(!0),u=y.useRef(!1),f=y.useRef(0);return y.useEffect(()=>{const h=f.current;return()=>window.clearTimeout(h)},[]),a.jsx(rL,{scope:e,isOpenDelayedRef:c,delayDuration:r,onOpen:y.useCallback(()=>{window.clearTimeout(f.current),c.current=!1},[]),onClose:y.useCallback(()=>{window.clearTimeout(f.current),f.current=window.setTimeout(()=>c.current=!0,n)},[n]),isPointerInTransitRef:u,onPointerInTransitChange:y.useCallback(h=>{u.current=h},[]),disableHoverableContent:s,children:o})};Tk.displayName=Ck;var Rk="Tooltip",[kY,Hf]=qf(Rk),pg="TooltipTrigger",nL=y.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,s=Hf(pg,r),o=Nk(pg,r),c=nv(r),u=y.useRef(null),f=Ge(e,u,s.onTriggerChange),h=y.useRef(!1),p=y.useRef(!1),g=y.useCallback(()=>h.current=!1,[]);return y.useEffect(()=>()=>document.removeEventListener("pointerup",g),[g]),a.jsx(ev,{asChild:!0,...c,children:a.jsx(Ae.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:f,onPointerMove:ge(t.onPointerMove,v=>{v.pointerType!=="touch"&&!p.current&&!o.isPointerInTransitRef.current&&(s.onTriggerEnter(),p.current=!0)}),onPointerLeave:ge(t.onPointerLeave,()=>{s.onTriggerLeave(),p.current=!1}),onPointerDown:ge(t.onPointerDown,()=>{s.open&&s.onClose(),h.current=!0,document.addEventListener("pointerup",g,{once:!0})}),onFocus:ge(t.onFocus,()=>{h.current||s.onOpen()}),onBlur:ge(t.onBlur,s.onClose),onClick:ge(t.onClick,s.onClose)})})});nL.displayName=pg;var sL="TooltipPortal",[EY,iL]=qf(sL,{forceMount:void 0}),Va="TooltipContent",Pk=y.forwardRef((t,e)=>{const r=iL(Va,t.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...o}=t,c=Hf(Va,t.__scopeTooltip);return a.jsx(rn,{present:n||c.open,children:c.disableHoverableContent?a.jsx(Ak,{side:s,...o,ref:e}):a.jsx(oL,{side:s,...o,ref:e})})}),oL=y.forwardRef((t,e)=>{const r=Hf(Va,t.__scopeTooltip),n=Nk(Va,t.__scopeTooltip),s=y.useRef(null),o=Ge(e,s),[c,u]=y.useState(null),{trigger:f,onClose:h}=r,p=s.current,{onPointerInTransitChange:g}=n,v=y.useCallback(()=>{u(null),g(!1)},[g]),w=y.useCallback((S,b)=>{const j=S.currentTarget,N={x:S.clientX,y:S.clientY},E=dL(N,j.getBoundingClientRect()),k=fL(N,E),P=hL(b.getBoundingClientRect()),A=mL([...k,...P]);u(A),g(!0)},[g]);return y.useEffect(()=>()=>v(),[v]),y.useEffect(()=>{if(f&&p){const S=j=>w(j,p),b=j=>w(j,f);return f.addEventListener("pointerleave",S),p.addEventListener("pointerleave",b),()=>{f.removeEventListener("pointerleave",S),p.removeEventListener("pointerleave",b)}}},[f,p,w,v]),y.useEffect(()=>{if(c){const S=b=>{const j=b.target,N={x:b.clientX,y:b.clientY},E=f?.contains(j)||p?.contains(j),k=!pL(N,c);E?v():k&&(v(),h())};return document.addEventListener("pointermove",S),()=>document.removeEventListener("pointermove",S)}},[f,p,c,h,v]),a.jsx(Ak,{...t,ref:o})}),[aL,lL]=qf(Rk,{isInside:!1}),cL=dj("TooltipContent"),Ak=y.forwardRef((t,e)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:o,onPointerDownOutside:c,...u}=t,f=Hf(Va,r),h=nv(r),{onClose:p}=f;return y.useEffect(()=>(document.addEventListener(r_,p),()=>document.removeEventListener(r_,p)),[p]),y.useEffect(()=>{if(f.trigger){const g=v=>{v.target?.contains(f.trigger)&&p()};return window.addEventListener("scroll",g,{capture:!0}),()=>window.removeEventListener("scroll",g,{capture:!0})}},[f.trigger,p]),a.jsx(Qa,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:c,onFocusOutside:g=>g.preventDefault(),onDismiss:p,children:a.jsxs(tv,{"data-state":f.stateAttribute,...h,...u,ref:e,style:{...u.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[a.jsx(cL,{children:n}),a.jsx(aL,{scope:r,isInside:!0,children:a.jsx(jI,{id:f.contentId,role:"tooltip",children:s||n})})]})})});Pk.displayName=Va;var Ok="TooltipArrow",uL=y.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,s=nv(r);return lL(Ok,r).isInside?null:a.jsx(rv,{...s,...n,ref:e})});uL.displayName=Ok;function dL(t,e){const r=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),o=Math.abs(e.left-t.x);switch(Math.min(r,n,s,o)){case o:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function fL(t,e,r=5){const n=[];switch(e){case"top":n.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":n.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":n.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":n.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return n}function hL(t){const{top:e,right:r,bottom:n,left:s}=t;return[{x:s,y:e},{x:r,y:e},{x:r,y:n},{x:s,y:n}]}function pL(t,e){const{x:r,y:n}=t;let s=!1;for(let o=0,c=e.length-1;o<e.length;c=o++){const u=e[o],f=e[c],h=u.x,p=u.y,g=f.x,v=f.y;p>n!=v>n&&r<(g-h)*(n-p)/(v-p)+h&&(s=!s)}return s}function mL(t){const e=t.slice();return e.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),gL(e)}function gL(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const s=t[n];for(;e.length>=2;){const o=e[e.length-1],c=e[e.length-2];if((o.x-c.x)*(s.y-c.y)>=(o.y-c.y)*(s.x-c.x))e.pop();else break}e.push(s)}e.pop();const r=[];for(let n=t.length-1;n>=0;n--){const s=t[n];for(;r.length>=2;){const o=r[r.length-1],c=r[r.length-2];if((o.x-c.x)*(s.y-c.y)>=(o.y-c.y)*(s.x-c.x))r.pop();else break}r.push(s)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var yL=Tk,Ik=Pk;const vL=yL,xL=y.forwardRef(({className:t,sideOffset:e=4,...r},n)=>a.jsx(Ik,{ref:n,sideOffset:e,className:be("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r}));xL.displayName=Ik.displayName;var tl=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},So=typeof window>"u"||"Deno"in globalThis;function Dr(){}function wL(t,e){return typeof t=="function"?t(e):t}function mg(t){return typeof t=="number"&&t>=0&&t!==1/0}function Mk(t,e){return Math.max(t+(e||0)-Date.now(),0)}function ki(t,e){return typeof t=="function"?t(e):t}function Nn(t,e){return typeof t=="function"?t(e):t}function n_(t,e){const{type:r="all",exact:n,fetchStatus:s,predicate:o,queryKey:c,stale:u}=t;if(c){if(n){if(e.queryHash!==sv(c,e.options))return!1}else if(!bc(e.queryKey,c))return!1}if(r!=="all"){const f=e.isActive();if(r==="active"&&!f||r==="inactive"&&f)return!1}return!(typeof u=="boolean"&&e.isStale()!==u||s&&s!==e.state.fetchStatus||o&&!o(e))}function s_(t,e){const{exact:r,status:n,predicate:s,mutationKey:o}=t;if(o){if(!e.options.mutationKey)return!1;if(r){if(jo(e.options.mutationKey)!==jo(o))return!1}else if(!bc(e.options.mutationKey,o))return!1}return!(n&&e.state.status!==n||s&&!s(e))}function sv(t,e){return(e?.queryKeyHashFn||jo)(t)}function jo(t){return JSON.stringify(t,(e,r)=>gg(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function bc(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>bc(t[r],e[r])):!1}function Dk(t,e){if(t===e)return t;const r=i_(t)&&i_(e);if(r||gg(t)&&gg(e)){const n=r?t:Object.keys(t),s=n.length,o=r?e:Object.keys(e),c=o.length,u=r?[]:{},f=new Set(n);let h=0;for(let p=0;p<c;p++){const g=r?p:o[p];(!r&&f.has(g)||r)&&t[g]===void 0&&e[g]===void 0?(u[g]=void 0,h++):(u[g]=Dk(t[g],e[g]),u[g]===t[g]&&t[g]!==void 0&&h++)}return s===c&&h===s?t:u}return e}function Xd(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function i_(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function gg(t){if(!o_(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!o_(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function o_(t){return Object.prototype.toString.call(t)==="[object Object]"}function bL(t){return new Promise(e=>{setTimeout(e,t)})}function yg(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?Dk(t,e):e}function _L(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function SL(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var iv=Symbol();function Lk(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===iv?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function Fk(t,e){return typeof t=="function"?t(...e):!!t}var jL=class extends tl{#t;#e;#r;constructor(){super(),this.#r=t=>{if(!So&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#e||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(t){this.#r=t,this.#e?.(),this.#e=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#t!==t&&(this.#t=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#t=="boolean"?this.#t:globalThis.document?.visibilityState!=="hidden"}},ov=new jL,kL=class extends tl{#t=!0;#e;#r;constructor(){super(),this.#r=t=>{if(!So&&window.addEventListener){const e=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#e||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(t){this.#r=t,this.#e?.(),this.#e=t(this.setOnline.bind(this))}setOnline(t){this.#t!==t&&(this.#t=t,this.listeners.forEach(r=>{r(t)}))}isOnline(){return this.#t}},Jd=new kL;function vg(){let t,e;const r=new Promise((s,o)=>{t=s,e=o});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),t(s)},r.reject=s=>{n({status:"rejected",reason:s}),e(s)},r}function EL(t){return Math.min(1e3*2**t,3e4)}function $k(t){return(t??"online")==="online"?Jd.isOnline():!0}var Vk=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function ym(t){return t instanceof Vk}function Uk(t){let e=!1,r=0,n=!1,s;const o=vg(),c=b=>{n||(v(new Vk(b)),t.abort?.())},u=()=>{e=!0},f=()=>{e=!1},h=()=>ov.isFocused()&&(t.networkMode==="always"||Jd.isOnline())&&t.canRun(),p=()=>$k(t.networkMode)&&t.canRun(),g=b=>{n||(n=!0,t.onSuccess?.(b),s?.(),o.resolve(b))},v=b=>{n||(n=!0,t.onError?.(b),s?.(),o.reject(b))},w=()=>new Promise(b=>{s=j=>{(n||h())&&b(j)},t.onPause?.()}).then(()=>{s=void 0,n||t.onContinue?.()}),S=()=>{if(n)return;let b;const j=r===0?t.initialPromise:void 0;try{b=j??t.fn()}catch(N){b=Promise.reject(N)}Promise.resolve(b).then(g).catch(N=>{if(n)return;const E=t.retry??(So?0:3),k=t.retryDelay??EL,P=typeof k=="function"?k(r,N):k,A=E===!0||typeof E=="number"&&r<E||typeof E=="function"&&E(r,N);if(e||!A){v(N);return}r++,t.onFail?.(r,N),bL(P).then(()=>h()?void 0:w()).then(()=>{e?v(N):S()})})};return{promise:o,cancel:c,continue:()=>(s?.(),o),cancelRetry:u,continueRetry:f,canStart:p,start:()=>(p()?S():w().then(S),o)}}var CL=t=>setTimeout(t,0);function NL(){let t=[],e=0,r=u=>{u()},n=u=>{u()},s=CL;const o=u=>{e?t.push(u):s(()=>{r(u)})},c=()=>{const u=t;t=[],u.length&&s(()=>{n(()=>{u.forEach(f=>{r(f)})})})};return{batch:u=>{let f;e++;try{f=u()}finally{e--,e||c()}return f},batchCalls:u=>(...f)=>{o(()=>{u(...f)})},schedule:o,setNotifyFunction:u=>{r=u},setBatchNotifyFunction:u=>{n=u},setScheduler:u=>{s=u}}}var nr=NL(),Bk=class{#t;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),mg(this.gcTime)&&(this.#t=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(So?1/0:300*1e3))}clearGcTimeout(){this.#t&&(clearTimeout(this.#t),this.#t=void 0)}},TL=class extends Bk{#t;#e;#r;#n;#s;#o;#a;constructor(t){super(),this.#a=!1,this.#o=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#n=t.client,this.#r=this.#n.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#t=RL(this.options),this.state=t.state??this.#t,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#s?.promise}setOptions(t){this.options={...this.#o,...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(t,e){const r=yg(this.state.data,t,this.options);return this.#i({data:r,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),r}setState(t,e){this.#i({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#s?.promise;return this.#s?.cancel(t),e?e.then(Dr).catch(Dr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#t)}isActive(){return this.observers.some(t=>Nn(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===iv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>ki(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!Mk(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#s?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#s?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#s&&(this.#a?this.#s.cancel({revert:!0}):this.#s.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}fetch(t,e){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#s)return this.#s.continueRetry(),this.#s.promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(h=>h.options.queryFn);f&&this.setOptions(f.options)}const r=new AbortController,n=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(this.#a=!0,r.signal)})},s=()=>{const f=Lk(this.options,e),p=(()=>{const g={client:this.#n,queryKey:this.queryKey,meta:this.meta};return n(g),g})();return this.#a=!1,this.options.persister?this.options.persister(f,p,this):f(p)},c=(()=>{const f={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#n,state:this.state,fetchFn:s};return n(f),f})();this.options.behavior?.onFetch(c,this),this.#e=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==c.fetchOptions?.meta)&&this.#i({type:"fetch",meta:c.fetchOptions?.meta});const u=f=>{ym(f)&&f.silent||this.#i({type:"error",error:f}),ym(f)||(this.#r.config.onError?.(f,this),this.#r.config.onSettled?.(this.state.data,f,this)),this.scheduleGc()};return this.#s=Uk({initialPromise:e?.initialPromise,fn:c.fetchFn,abort:r.abort.bind(r),onSuccess:f=>{if(f===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(h){u(h);return}this.#r.config.onSuccess?.(f,this),this.#r.config.onSettled?.(f,this.state.error,this),this.scheduleGc()},onError:u,onFail:(f,h)=>{this.#i({type:"failed",failureCount:f,error:h})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0}),this.#s.start()}#i(t){const e=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...zk(r.data,this.options),fetchMeta:t.meta??null};case"success":return this.#e=void 0,{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const n=t.error;return ym(n)&&n.revert&&this.#e?{...this.#e,fetchStatus:"idle"}:{...r,error:n,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=e(this.state),nr.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:t})})}};function zk(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:$k(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function RL(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var PL=class extends tl{constructor(t={}){super(),this.config=t,this.#t=new Map}#t;build(t,e,r){const n=e.queryKey,s=e.queryHash??sv(n,e);let o=this.get(s);return o||(o=new TL({client:t,queryKey:n,queryHash:s,options:t.defaultQueryOptions(e),state:r,defaultOptions:t.getQueryDefaults(n)}),this.add(o)),o}add(t){this.#t.has(t.queryHash)||(this.#t.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#t.get(t.queryHash);e&&(t.destroy(),e===t&&this.#t.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){nr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#t.get(t)}getAll(){return[...this.#t.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(r=>n_(e,r))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(r=>n_(t,r)):e}notify(t){nr.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){nr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){nr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},AL=class extends Bk{#t;#e;#r;constructor(t){super(),this.mutationId=t.mutationId,this.#e=t.mutationCache,this.#t=[],this.state=t.state||Wk(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#t.includes(t)||(this.#t.push(t),this.clearGcTimeout(),this.#e.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#t=this.#t.filter(e=>e!==t),this.scheduleGc(),this.#e.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#e.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(t){const e=()=>{this.#n({type:"continue"})};this.#r=Uk({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(s,o)=>{this.#n({type:"failed",failureCount:s,error:o})},onPause:()=>{this.#n({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#e.canRun(this)});const r=this.state.status==="pending",n=!this.#r.canStart();try{if(r)e();else{this.#n({type:"pending",variables:t,isPaused:n}),await this.#e.config.onMutate?.(t,this);const o=await this.options.onMutate?.(t);o!==this.state.context&&this.#n({type:"pending",context:o,variables:t,isPaused:n})}const s=await this.#r.start();return await this.#e.config.onSuccess?.(s,t,this.state.context,this),await this.options.onSuccess?.(s,t,this.state.context),await this.#e.config.onSettled?.(s,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(s,null,t,this.state.context),this.#n({type:"success",data:s}),s}catch(s){try{throw await this.#e.config.onError?.(s,t,this.state.context,this),await this.options.onError?.(s,t,this.state.context),await this.#e.config.onSettled?.(void 0,s,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,s,t,this.state.context),s}finally{this.#n({type:"error",error:s})}}finally{this.#e.runNext(this)}}#n(t){const e=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),nr.batch(()=>{this.#t.forEach(r=>{r.onMutationUpdate(t)}),this.#e.notify({mutation:this,type:"updated",action:t})})}};function Wk(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var OL=class extends tl{constructor(t={}){super(),this.config=t,this.#t=new Set,this.#e=new Map,this.#r=0}#t;#e;#r;build(t,e,r){const n=new AL({mutationCache:this,mutationId:++this.#r,options:t.defaultMutationOptions(e),state:r});return this.add(n),n}add(t){this.#t.add(t);const e=xd(t);if(typeof e=="string"){const r=this.#e.get(e);r?r.push(t):this.#e.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#t.delete(t)){const e=xd(t);if(typeof e=="string"){const r=this.#e.get(e);if(r)if(r.length>1){const n=r.indexOf(t);n!==-1&&r.splice(n,1)}else r[0]===t&&this.#e.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=xd(t);if(typeof e=="string"){const n=this.#e.get(e)?.find(s=>s.state.status==="pending");return!n||n===t}else return!0}runNext(t){const e=xd(t);return typeof e=="string"?this.#e.get(e)?.find(n=>n!==t&&n.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){nr.batch(()=>{this.#t.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#t.clear(),this.#e.clear()})}getAll(){return Array.from(this.#t)}find(t){const e={exact:!0,...t};return this.getAll().find(r=>s_(e,r))}findAll(t={}){return this.getAll().filter(e=>s_(t,e))}notify(t){nr.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return nr.batch(()=>Promise.all(t.map(e=>e.continue().catch(Dr))))}};function xd(t){return t.options.scope?.id}function a_(t){return{onFetch:(e,r)=>{const n=e.options,s=e.fetchOptions?.meta?.fetchMore?.direction,o=e.state.data?.pages||[],c=e.state.data?.pageParams||[];let u={pages:[],pageParams:[]},f=0;const h=async()=>{let p=!1;const g=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(e.signal.aborted?p=!0:e.signal.addEventListener("abort",()=>{p=!0}),e.signal)})},v=Lk(e.options,e.fetchOptions),w=async(S,b,j)=>{if(p)return Promise.reject();if(b==null&&S.pages.length)return Promise.resolve(S);const E=(()=>{const L={client:e.client,queryKey:e.queryKey,pageParam:b,direction:j?"backward":"forward",meta:e.options.meta};return g(L),L})(),k=await v(E),{maxPages:P}=e.options,A=j?SL:_L;return{pages:A(S.pages,k,P),pageParams:A(S.pageParams,b,P)}};if(s&&o.length){const S=s==="backward",b=S?IL:l_,j={pages:o,pageParams:c},N=b(n,j);u=await w(j,N,S)}else{const S=t??o.length;do{const b=f===0?c[0]??n.initialPageParam:l_(n,u);if(f>0&&b==null)break;u=await w(u,b),f++}while(f<S)}return u};e.options.persister?e.fetchFn=()=>e.options.persister?.(h,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r):e.fetchFn=h}}}function l_(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function IL(t,{pages:e,pageParams:r}){return e.length>0?t.getPreviousPageParam?.(e[0],e,r[0],r):void 0}var ML=class{#t;#e;#r;#n;#s;#o;#a;#i;constructor(t={}){this.#t=t.queryCache||new PL,this.#e=t.mutationCache||new OL,this.#r=t.defaultOptions||{},this.#n=new Map,this.#s=new Map,this.#o=0}mount(){this.#o++,this.#o===1&&(this.#a=ov.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#t.onFocus())}),this.#i=Jd.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#t.onOnline())}))}unmount(){this.#o--,this.#o===0&&(this.#a?.(),this.#a=void 0,this.#i?.(),this.#i=void 0)}isFetching(t){return this.#t.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#e.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#t.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=this.#t.build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(ki(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return this.#t.findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),o=this.#t.get(n.queryHash)?.state.data,c=wL(e,o);if(c!==void 0)return this.#t.build(this,n).setData(c,{...r,manual:!0})}setQueriesData(t,e,r){return nr.batch(()=>this.#t.findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#t.get(e.queryHash)?.state}removeQueries(t){const e=this.#t;nr.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=this.#t;return nr.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const r={revert:!0,...e},n=nr.batch(()=>this.#t.findAll(t).map(s=>s.cancel(r)));return Promise.all(n).then(Dr).catch(Dr)}invalidateQueries(t,e={}){return nr.batch(()=>(this.#t.findAll(t).forEach(r=>{r.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},n=nr.batch(()=>this.#t.findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let o=s.fetch(void 0,r);return r.throwOnError||(o=o.catch(Dr)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(n).then(Dr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=this.#t.build(this,e);return r.isStaleByTime(ki(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Dr).catch(Dr)}fetchInfiniteQuery(t){return t.behavior=a_(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Dr).catch(Dr)}ensureInfiniteQueryData(t){return t.behavior=a_(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Jd.isOnline()?this.#e.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#t}getMutationCache(){return this.#e}getDefaultOptions(){return this.#r}setDefaultOptions(t){this.#r=t}setQueryDefaults(t,e){this.#n.set(jo(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#n.values()],r={};return e.forEach(n=>{bc(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){this.#s.set(jo(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#s.values()],r={};return e.forEach(n=>{bc(t,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#r.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=sv(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===iv&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#r.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#t.clear(),this.#e.clear()}},DL=class extends tl{constructor(t,e){super(),this.options=e,this.#t=t,this.#i=null,this.#a=vg(),this.options.experimental_prefetchInRender||this.#a.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(e)}#t;#e=void 0;#r=void 0;#n=void 0;#s;#o;#a;#i;#m;#f;#h;#c;#u;#l;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),c_(this.#e,this.options)?this.#d():this.updateResult(),this.#x())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return xg(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return xg(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#w(),this.#b(),this.#e.removeObserver(this)}setOptions(t){const e=this.options,r=this.#e;if(this.options=this.#t.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Nn(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#_(),this.#e.setOptions(this.options),e._defaulted&&!Xd(this.options,e)&&this.#t.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});const n=this.hasListeners();n&&u_(this.#e,r,this.options,e)&&this.#d(),this.updateResult(),n&&(this.#e!==r||Nn(this.options.enabled,this.#e)!==Nn(e.enabled,this.#e)||ki(this.options.staleTime,this.#e)!==ki(e.staleTime,this.#e))&&this.#g();const s=this.#y();n&&(this.#e!==r||Nn(this.options.enabled,this.#e)!==Nn(e.enabled,this.#e)||s!==this.#l)&&this.#v(s)}getOptimisticResult(t){const e=this.#t.getQueryCache().build(this.#t,t),r=this.createResult(e,t);return FL(this,r)&&(this.#n=r,this.#o=this.options,this.#s=this.#e.state),r}getCurrentResult(){return this.#n}trackResult(t,e){return new Proxy(t,{get:(r,n)=>(this.trackProp(n),e?.(n),Reflect.get(r,n))})}trackProp(t){this.#p.add(t)}getCurrentQuery(){return this.#e}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#t.defaultQueryOptions(t),r=this.#t.getQueryCache().build(this.#t,e);return r.fetch().then(()=>this.createResult(r,e))}fetch(t){return this.#d({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#n))}#d(t){this.#_();let e=this.#e.fetch(this.options,t);return t?.throwOnError||(e=e.catch(Dr)),e}#g(){this.#w();const t=ki(this.options.staleTime,this.#e);if(So||this.#n.isStale||!mg(t))return;const r=Mk(this.#n.dataUpdatedAt,t)+1;this.#c=setTimeout(()=>{this.#n.isStale||this.updateResult()},r)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#v(t){this.#b(),this.#l=t,!(So||Nn(this.options.enabled,this.#e)===!1||!mg(this.#l)||this.#l===0)&&(this.#u=setInterval(()=>{(this.options.refetchIntervalInBackground||ov.isFocused())&&this.#d()},this.#l))}#x(){this.#g(),this.#v(this.#y())}#w(){this.#c&&(clearTimeout(this.#c),this.#c=void 0)}#b(){this.#u&&(clearInterval(this.#u),this.#u=void 0)}createResult(t,e){const r=this.#e,n=this.options,s=this.#n,o=this.#s,c=this.#o,f=t!==r?t.state:this.#r,{state:h}=t;let p={...h},g=!1,v;if(e._optimisticResults){const C=this.hasListeners(),R=!C&&c_(t,e),M=C&&u_(t,r,e,n);(R||M)&&(p={...p,...zk(h.data,t.options)}),e._optimisticResults==="isRestoring"&&(p.fetchStatus="idle")}let{error:w,errorUpdatedAt:S,status:b}=p;v=p.data;let j=!1;if(e.placeholderData!==void 0&&v===void 0&&b==="pending"){let C;s?.isPlaceholderData&&e.placeholderData===c?.placeholderData?(C=s.data,j=!0):C=typeof e.placeholderData=="function"?e.placeholderData(this.#h?.state.data,this.#h):e.placeholderData,C!==void 0&&(b="success",v=yg(s?.data,C,e),g=!0)}if(e.select&&v!==void 0&&!j)if(s&&v===o?.data&&e.select===this.#m)v=this.#f;else try{this.#m=e.select,v=e.select(v),v=yg(s?.data,v,e),this.#f=v,this.#i=null}catch(C){this.#i=C}this.#i&&(w=this.#i,v=this.#f,S=Date.now(),b="error");const N=p.fetchStatus==="fetching",E=b==="pending",k=b==="error",P=E&&N,A=v!==void 0,O={status:b,fetchStatus:p.fetchStatus,isPending:E,isSuccess:b==="success",isError:k,isInitialLoading:P,isLoading:P,data:v,dataUpdatedAt:p.dataUpdatedAt,error:w,errorUpdatedAt:S,failureCount:p.fetchFailureCount,failureReason:p.fetchFailureReason,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>f.dataUpdateCount||p.errorUpdateCount>f.errorUpdateCount,isFetching:N,isRefetching:N&&!E,isLoadingError:k&&!A,isPaused:p.fetchStatus==="paused",isPlaceholderData:g,isRefetchError:k&&A,isStale:av(t,e),refetch:this.refetch,promise:this.#a,isEnabled:Nn(e.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const C=H=>{O.status==="error"?H.reject(O.error):O.data!==void 0&&H.resolve(O.data)},R=()=>{const H=this.#a=O.promise=vg();C(H)},M=this.#a;switch(M.status){case"pending":t.queryHash===r.queryHash&&C(M);break;case"fulfilled":(O.status==="error"||O.data!==M.value)&&R();break;case"rejected":(O.status!=="error"||O.error!==M.reason)&&R();break}}return O}updateResult(){const t=this.#n,e=this.createResult(this.#e,this.options);if(this.#s=this.#e.state,this.#o=this.options,this.#s.data!==void 0&&(this.#h=this.#e),Xd(e,t))return;this.#n=e;const r=()=>{if(!t)return!0;const{notifyOnChangeProps:n}=this.options,s=typeof n=="function"?n():n;if(s==="all"||!s&&!this.#p.size)return!0;const o=new Set(s??this.#p);return this.options.throwOnError&&o.add("error"),Object.keys(this.#n).some(c=>{const u=c;return this.#n[u]!==t[u]&&o.has(u)})};this.#S({listeners:r()})}#_(){const t=this.#t.getQueryCache().build(this.#t,this.options);if(t===this.#e)return;const e=this.#e;this.#e=t,this.#r=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#x()}#S(t){nr.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#n)}),this.#t.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function LL(t,e){return Nn(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function c_(t,e){return LL(t,e)||t.state.data!==void 0&&xg(t,e,e.refetchOnMount)}function xg(t,e,r){if(Nn(e.enabled,t)!==!1&&ki(e.staleTime,t)!=="static"){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&av(t,e)}return!1}function u_(t,e,r,n){return(t!==e||Nn(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&av(t,r)}function av(t,e){return Nn(e.enabled,t)!==!1&&t.isStaleByTime(ki(e.staleTime,t))}function FL(t,e){return!Xd(t.getCurrentResult(),e)}var $L=class extends tl{#t;#e=void 0;#r;#n;constructor(e,r){super(),this.#t=e,this.setOptions(r),this.bindMethods(),this.#s()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const r=this.options;this.options=this.#t.defaultMutationOptions(e),Xd(this.options,r)||this.#t.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),r?.mutationKey&&this.options.mutationKey&&jo(r.mutationKey)!==jo(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(e){this.#s(),this.#o(e)}getCurrentResult(){return this.#e}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#s(),this.#o()}mutate(e,r){return this.#n=r,this.#r?.removeObserver(this),this.#r=this.#t.getMutationCache().build(this.#t,this.options),this.#r.addObserver(this),this.#r.execute(e)}#s(){const e=this.#r?.state??Wk();this.#e={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#o(e){nr.batch(()=>{if(this.#n&&this.hasListeners()){const r=this.#e.variables,n=this.#e.context;e?.type==="success"?(this.#n.onSuccess?.(e.data,r,n),this.#n.onSettled?.(e.data,null,r,n)):e?.type==="error"&&(this.#n.onError?.(e.error,r,n),this.#n.onSettled?.(void 0,e.error,r,n))}this.listeners.forEach(r=>{r(this.#e)})})}},qk=y.createContext(void 0),Oo=t=>{const e=y.useContext(qk);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},VL=({client:t,children:e})=>(y.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),a.jsx(qk.Provider,{value:t,children:e})),Hk=y.createContext(!1),UL=()=>y.useContext(Hk);Hk.Provider;function BL(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var zL=y.createContext(BL()),WL=()=>y.useContext(zL),qL=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},HL=t=>{y.useEffect(()=>{t.clearReset()},[t])},KL=({result:t,errorResetBoundary:e,throwOnError:r,query:n,suspense:s})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&(s&&t.data===void 0||Fk(r,[t.error,n])),GL=t=>{if(t.suspense){const e=n=>n==="static"?n:Math.max(n??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...n)=>e(r(...n)):e(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},YL=(t,e)=>t.isLoading&&t.isFetching&&!e,QL=(t,e)=>t?.suspense&&e.isPending,d_=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function ZL(t,e,r){const n=UL(),s=WL(),o=Oo(),c=o.defaultQueryOptions(t);o.getDefaultOptions().queries?._experimental_beforeQuery?.(c),c._optimisticResults=n?"isRestoring":"optimistic",GL(c),qL(c,s),HL(s);const u=!o.getQueryCache().get(c.queryHash),[f]=y.useState(()=>new e(o,c)),h=f.getOptimisticResult(c),p=!n&&t.subscribed!==!1;if(y.useSyncExternalStore(y.useCallback(g=>{const v=p?f.subscribe(nr.batchCalls(g)):Dr;return f.updateResult(),v},[f,p]),()=>f.getCurrentResult(),()=>f.getCurrentResult()),y.useEffect(()=>{f.setOptions(c)},[c,f]),QL(c,h))throw d_(c,f,s);if(KL({result:h,errorResetBoundary:s,throwOnError:c.throwOnError,query:o.getQueryCache().get(c.queryHash),suspense:c.suspense}))throw h.error;return o.getDefaultOptions().queries?._experimental_afterQuery?.(c,h),c.experimental_prefetchInRender&&!So&&YL(h,n)&&(u?d_(c,f,s):o.getQueryCache().get(c.queryHash)?.promise)?.catch(Dr).finally(()=>{f.updateResult()}),c.notifyOnChangeProps?h:f.trackResult(h)}function Io(t,e){return ZL(t,DL)}function xs(t,e){const r=Oo(),[n]=y.useState(()=>new $L(r,t));y.useEffect(()=>{n.setOptions(t)},[n,t]);const s=y.useSyncExternalStore(y.useCallback(c=>n.subscribe(nr.batchCalls(c)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),o=y.useCallback((c,u)=>{n.mutate(c,u).catch(Dr)},[n]);if(s.error&&Fk(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:o,mutateAsync:s.mutate}}function _c(){return _c=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_c.apply(this,arguments)}var bi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(bi||(bi={}));const f_="popstate";function XL(t){t===void 0&&(t={});function e(n,s){let{pathname:o,search:c,hash:u}=n.location;return wg("",{pathname:o,search:c,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:ef(s)}return e5(e,r,null,t)}function Qt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function lv(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function JL(){return Math.random().toString(36).substr(2,8)}function h_(t,e){return{usr:t.state,key:t.key,idx:e}}function wg(t,e,r,n){return r===void 0&&(r=null),_c({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?rl(e):e,{state:r,key:e&&e.key||n||JL()})}function ef(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function rl(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function e5(t,e,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:o=!1}=n,c=s.history,u=bi.Pop,f=null,h=p();h==null&&(h=0,c.replaceState(_c({},c.state,{idx:h}),""));function p(){return(c.state||{idx:null}).idx}function g(){u=bi.Pop;let j=p(),N=j==null?null:j-h;h=j,f&&f({action:u,location:b.location,delta:N})}function v(j,N){u=bi.Push;let E=wg(b.location,j,N);h=p()+1;let k=h_(E,h),P=b.createHref(E);try{c.pushState(k,"",P)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;s.location.assign(P)}o&&f&&f({action:u,location:b.location,delta:1})}function w(j,N){u=bi.Replace;let E=wg(b.location,j,N);h=p();let k=h_(E,h),P=b.createHref(E);c.replaceState(k,"",P),o&&f&&f({action:u,location:b.location,delta:0})}function S(j){let N=s.location.origin!=="null"?s.location.origin:s.location.href,E=typeof j=="string"?j:ef(j);return E=E.replace(/ $/,"%20"),Qt(N,"No window.location.(origin|href) available to create URL for href: "+E),new URL(E,N)}let b={get action(){return u},get location(){return t(s,c)},listen(j){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(f_,g),f=j,()=>{s.removeEventListener(f_,g),f=null}},createHref(j){return e(s,j)},createURL:S,encodeLocation(j){let N=S(j);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:v,replace:w,go(j){return c.go(j)}};return b}var p_;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(p_||(p_={}));function t5(t,e,r){return r===void 0&&(r="/"),r5(t,e,r)}function r5(t,e,r,n){let s=typeof e=="string"?rl(e):e,o=cv(s.pathname||"/",r);if(o==null)return null;let c=Kk(t);n5(c);let u=null;for(let f=0;u==null&&f<c.length;++f){let h=m5(o);u=f5(c[f],h)}return u}function Kk(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(o,c,u)=>{let f={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};f.relativePath.startsWith("/")&&(Qt(f.relativePath.startsWith(n),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(n.length));let h=Ei([n,f.relativePath]),p=r.concat(f);o.children&&o.children.length>0&&(Qt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),Kk(o.children,e,p,h)),!(o.path==null&&!o.index)&&e.push({path:h,score:u5(h,o.index),routesMeta:p})};return t.forEach((o,c)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))s(o,c);else for(let f of Gk(o.path))s(o,c,f)}),e}function Gk(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,s=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return s?[o,""]:[o];let c=Gk(n.join("/")),u=[];return u.push(...c.map(f=>f===""?o:[o,f].join("/"))),s&&u.push(...c),u.map(f=>t.startsWith("/")&&f===""?"/":f)}function n5(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:d5(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const s5=/^:[\w-]+$/,i5=3,o5=2,a5=1,l5=10,c5=-2,m_=t=>t==="*";function u5(t,e){let r=t.split("/"),n=r.length;return r.some(m_)&&(n+=c5),e&&(n+=o5),r.filter(s=>!m_(s)).reduce((s,o)=>s+(s5.test(o)?i5:o===""?a5:l5),n)}function d5(t,e){return t.length===e.length&&t.slice(0,-1).every((n,s)=>n===e[s])?t[t.length-1]-e[e.length-1]:0}function f5(t,e,r){let{routesMeta:n}=t,s={},o="/",c=[];for(let u=0;u<n.length;++u){let f=n[u],h=u===n.length-1,p=o==="/"?e:e.slice(o.length)||"/",g=h5({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},p),v=f.route;if(!g)return null;Object.assign(s,g.params),c.push({params:s,pathname:Ei([o,g.pathname]),pathnameBase:w5(Ei([o,g.pathnameBase])),route:v}),g.pathnameBase!=="/"&&(o=Ei([o,g.pathnameBase]))}return c}function h5(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=p5(t.path,t.caseSensitive,t.end),s=e.match(r);if(!s)return null;let o=s[0],c=o.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:n.reduce((h,p,g)=>{let{paramName:v,isOptional:w}=p;if(v==="*"){let b=u[g]||"";c=o.slice(0,o.length-b.length).replace(/(.)\/+$/,"$1")}const S=u[g];return w&&!S?h[v]=void 0:h[v]=(S||"").replace(/%2F/g,"/"),h},{}),pathname:o,pathnameBase:c,pattern:t}}function p5(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),lv(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,f)=>(n.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function m5(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return lv(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function cv(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}const g5=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,y5=t=>g5.test(t);function v5(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:s=""}=typeof t=="string"?rl(t):t,o;if(r)if(y5(r))o=r;else{if(r.includes("//")){let c=r;r=r.replace(/\/\/+/g,"/"),lv(!1,"Pathnames cannot have embedded double slashes - normalizing "+(c+" -> "+r))}r.startsWith("/")?o=g_(r.substring(1),"/"):o=g_(r,e)}else o=e;return{pathname:o,search:b5(n),hash:_5(s)}}function g_(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function vm(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function x5(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function Yk(t,e){let r=x5(t);return e?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Qk(t,e,r,n){n===void 0&&(n=!1);let s;typeof t=="string"?s=rl(t):(s=_c({},t),Qt(!s.pathname||!s.pathname.includes("?"),vm("?","pathname","search",s)),Qt(!s.pathname||!s.pathname.includes("#"),vm("#","pathname","hash",s)),Qt(!s.search||!s.search.includes("#"),vm("#","search","hash",s)));let o=t===""||s.pathname==="",c=o?"/":s.pathname,u;if(c==null)u=r;else{let g=e.length-1;if(!n&&c.startsWith("..")){let v=c.split("/");for(;v[0]==="..";)v.shift(),g-=1;s.pathname=v.join("/")}u=g>=0?e[g]:"/"}let f=v5(s,u),h=c&&c!=="/"&&c.endsWith("/"),p=(o||c===".")&&r.endsWith("/");return!f.pathname.endsWith("/")&&(h||p)&&(f.pathname+="/"),f}const Ei=t=>t.join("/").replace(/\/\/+/g,"/"),w5=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),b5=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,_5=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function S5(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Zk=["post","put","patch","delete"];new Set(Zk);const j5=["get",...Zk];new Set(j5);function Sc(){return Sc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Sc.apply(this,arguments)}const uv=y.createContext(null),k5=y.createContext(null),Mo=y.createContext(null),Kf=y.createContext(null),Do=y.createContext({outlet:null,matches:[],isDataRoute:!1}),Xk=y.createContext(null);function E5(t,e){let{relative:r}=e===void 0?{}:e;qc()||Qt(!1);let{basename:n,navigator:s}=y.useContext(Mo),{hash:o,pathname:c,search:u}=eE(t,{relative:r}),f=c;return n!=="/"&&(f=c==="/"?n:Ei([n,c])),s.createHref({pathname:f,search:u,hash:o})}function qc(){return y.useContext(Kf)!=null}function Hc(){return qc()||Qt(!1),y.useContext(Kf).location}function Jk(t){y.useContext(Mo).static||y.useLayoutEffect(t)}function zr(){let{isDataRoute:t}=y.useContext(Do);return t?$5():C5()}function C5(){qc()||Qt(!1);let t=y.useContext(uv),{basename:e,future:r,navigator:n}=y.useContext(Mo),{matches:s}=y.useContext(Do),{pathname:o}=Hc(),c=JSON.stringify(Yk(s,r.v7_relativeSplatPath)),u=y.useRef(!1);return Jk(()=>{u.current=!0}),y.useCallback(function(h,p){if(p===void 0&&(p={}),!u.current)return;if(typeof h=="number"){n.go(h);return}let g=Qk(h,JSON.parse(c),o,p.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Ei([e,g.pathname])),(p.replace?n.replace:n.push)(g,p.state,p)},[e,n,c,o,t])}function eE(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=y.useContext(Mo),{matches:s}=y.useContext(Do),{pathname:o}=Hc(),c=JSON.stringify(Yk(s,n.v7_relativeSplatPath));return y.useMemo(()=>Qk(t,JSON.parse(c),o,r==="path"),[t,c,o,r])}function N5(t,e){return T5(t,e)}function T5(t,e,r,n){qc()||Qt(!1);let{navigator:s}=y.useContext(Mo),{matches:o}=y.useContext(Do),c=o[o.length-1],u=c?c.params:{};c&&c.pathname;let f=c?c.pathnameBase:"/";c&&c.route;let h=Hc(),p;if(e){var g;let j=typeof e=="string"?rl(e):e;f==="/"||(g=j.pathname)!=null&&g.startsWith(f)||Qt(!1),p=j}else p=h;let v=p.pathname||"/",w=v;if(f!=="/"){let j=f.replace(/^\//,"").split("/");w="/"+v.replace(/^\//,"").split("/").slice(j.length).join("/")}let S=t5(t,{pathname:w}),b=I5(S&&S.map(j=>Object.assign({},j,{params:Object.assign({},u,j.params),pathname:Ei([f,s.encodeLocation?s.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?f:Ei([f,s.encodeLocation?s.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),o,r,n);return e&&b?y.createElement(Kf.Provider,{value:{location:Sc({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:bi.Pop}},b):b}function R5(){let t=F5(),e=S5(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},e),r?y.createElement("pre",{style:s},r):null,null)}const P5=y.createElement(R5,null);class A5 extends y.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?y.createElement(Do.Provider,{value:this.props.routeContext},y.createElement(Xk.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function O5(t){let{routeContext:e,match:r,children:n}=t,s=y.useContext(uv);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),y.createElement(Do.Provider,{value:e},n)}function I5(t,e,r,n){var s;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var o;if(!r)return null;if(r.errors)t=r.matches;else if((o=n)!=null&&o.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let c=t,u=(s=r)==null?void 0:s.errors;if(u!=null){let p=c.findIndex(g=>g.route.id&&u?.[g.route.id]!==void 0);p>=0||Qt(!1),c=c.slice(0,Math.min(c.length,p+1))}let f=!1,h=-1;if(r&&n&&n.v7_partialHydration)for(let p=0;p<c.length;p++){let g=c[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(h=p),g.route.id){let{loaderData:v,errors:w}=r,S=g.route.loader&&v[g.route.id]===void 0&&(!w||w[g.route.id]===void 0);if(g.route.lazy||S){f=!0,h>=0?c=c.slice(0,h+1):c=[c[0]];break}}}return c.reduceRight((p,g,v)=>{let w,S=!1,b=null,j=null;r&&(w=u&&g.route.id?u[g.route.id]:void 0,b=g.route.errorElement||P5,f&&(h<0&&v===0?(V5("route-fallback"),S=!0,j=null):h===v&&(S=!0,j=g.route.hydrateFallbackElement||null)));let N=e.concat(c.slice(0,v+1)),E=()=>{let k;return w?k=b:S?k=j:g.route.Component?k=y.createElement(g.route.Component,null):g.route.element?k=g.route.element:k=p,y.createElement(O5,{match:g,routeContext:{outlet:p,matches:N,isDataRoute:r!=null},children:k})};return r&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?y.createElement(A5,{location:r.location,revalidation:r.revalidation,component:b,error:w,children:E(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):E()},null)}var tE=(function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t})(tE||{}),rE=(function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t})(rE||{});function M5(t){let e=y.useContext(uv);return e||Qt(!1),e}function D5(t){let e=y.useContext(k5);return e||Qt(!1),e}function L5(t){let e=y.useContext(Do);return e||Qt(!1),e}function nE(t){let e=L5(),r=e.matches[e.matches.length-1];return r.route.id||Qt(!1),r.route.id}function F5(){var t;let e=y.useContext(Xk),r=D5(),n=nE();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function $5(){let{router:t}=M5(tE.UseNavigateStable),e=nE(rE.UseNavigateStable),r=y.useRef(!1);return Jk(()=>{r.current=!0}),y.useCallback(function(s,o){o===void 0&&(o={}),r.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Sc({fromRouteId:e},o)))},[t,e])}const y_={};function V5(t,e,r){y_[t]||(y_[t]=!0)}function U5(t,e){t?.v7_startTransition,t?.v7_relativeSplatPath}function xr(t){Qt(!1)}function B5(t){let{basename:e="/",children:r=null,location:n,navigationType:s=bi.Pop,navigator:o,static:c=!1,future:u}=t;qc()&&Qt(!1);let f=e.replace(/^\/*/,"/"),h=y.useMemo(()=>({basename:f,navigator:o,static:c,future:Sc({v7_relativeSplatPath:!1},u)}),[f,u,o,c]);typeof n=="string"&&(n=rl(n));let{pathname:p="/",search:g="",hash:v="",state:w=null,key:S="default"}=n,b=y.useMemo(()=>{let j=cv(p,f);return j==null?null:{location:{pathname:j,search:g,hash:v,state:w,key:S},navigationType:s}},[f,p,g,v,w,S,s]);return b==null?null:y.createElement(Mo.Provider,{value:h},y.createElement(Kf.Provider,{children:r,value:b}))}function z5(t){let{children:e,location:r}=t;return N5(bg(e),r)}new Promise(()=>{});function bg(t,e){e===void 0&&(e=[]);let r=[];return y.Children.forEach(t,(n,s)=>{if(!y.isValidElement(n))return;let o=[...e,s];if(n.type===y.Fragment){r.push.apply(r,bg(n.props.children,o));return}n.type!==xr&&Qt(!1),!n.props.index||!n.props.children||Qt(!1);let c={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(c.children=bg(n.props.children,o)),r.push(c)}),r}function _g(){return _g=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_g.apply(this,arguments)}function W5(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,o;for(o=0;o<n.length;o++)s=n[o],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function q5(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function H5(t,e){return t.button===0&&(!e||e==="_self")&&!q5(t)}function Sg(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let n=t[r];return e.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function K5(t,e){let r=Sg(t);return e&&e.forEach((n,s)=>{r.has(s)||e.getAll(s).forEach(o=>{r.append(s,o)})}),r}const G5=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Y5="6";try{window.__reactRouterVersion=Y5}catch{}const Q5="startTransition",v_=Ny[Q5];function Z5(t){let{basename:e,children:r,future:n,window:s}=t,o=y.useRef();o.current==null&&(o.current=XL({window:s,v5Compat:!0}));let c=o.current,[u,f]=y.useState({action:c.action,location:c.location}),{v7_startTransition:h}=n||{},p=y.useCallback(g=>{h&&v_?v_(()=>f(g)):f(g)},[f,h]);return y.useLayoutEffect(()=>c.listen(p),[c,p]),y.useEffect(()=>U5(n),[n]),y.createElement(B5,{basename:e,children:r,location:u.location,navigationType:u.action,navigator:c,future:n})}const X5=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",J5=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ot=y.forwardRef(function(e,r){let{onClick:n,relative:s,reloadDocument:o,replace:c,state:u,target:f,to:h,preventScrollReset:p,viewTransition:g}=e,v=W5(e,G5),{basename:w}=y.useContext(Mo),S,b=!1;if(typeof h=="string"&&J5.test(h)&&(S=h,X5))try{let k=new URL(window.location.href),P=h.startsWith("//")?new URL(k.protocol+h):new URL(h),A=cv(P.pathname,w);P.origin===k.origin&&A!=null?h=A+P.search+P.hash:b=!0}catch{}let j=E5(h,{relative:s}),N=e3(h,{replace:c,state:u,target:f,preventScrollReset:p,relative:s,viewTransition:g});function E(k){n&&n(k),k.defaultPrevented||N(k)}return y.createElement("a",_g({},v,{href:S||j,onClick:b||o?n:E,ref:r,target:f}))});var x_;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(x_||(x_={}));var w_;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(w_||(w_={}));function e3(t,e){let{target:r,replace:n,state:s,preventScrollReset:o,relative:c,viewTransition:u}=e===void 0?{}:e,f=zr(),h=Hc(),p=eE(t,{relative:c});return y.useCallback(g=>{if(H5(g,r)){g.preventDefault();let v=n!==void 0?n:ef(h)===ef(p);f(t,{replace:v,state:s,preventScrollReset:o,relative:c,viewTransition:u})}},[h,f,p,n,s,r,t,o,c,u])}function t3(t){let e=y.useRef(Sg(t)),r=y.useRef(!1),n=Hc(),s=y.useMemo(()=>K5(n.search,r.current?null:e.current),[n.search]),o=zr(),c=y.useCallback((u,f)=>{const h=Sg(typeof u=="function"?u(s):u);r.current=!0,o("?"+h,f)},[o,s]);return[s,c]}var fs=function(){return fs=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},fs.apply(this,arguments)};function nl(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function r3(t,e,r,n){function s(o){return o instanceof r?o:new r(function(c){c(o)})}return new(r||(r=Promise))(function(o,c){function u(p){try{h(n.next(p))}catch(g){c(g)}}function f(p){try{h(n.throw(p))}catch(g){c(g)}}function h(p){p.done?o(p.value):s(p.value).then(u,f)}h((n=n.apply(t,e||[])).next())})}function n3(t,e,r){if(r||arguments.length===2)for(var n=0,s=e.length,o;n<s;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return t.concat(o||Array.prototype.slice.call(e))}const s3=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class dv extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class i3 extends dv{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class b_ extends dv{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class __ extends dv{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var jg;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(jg||(jg={}));class o3{constructor(e,{headers:r={},customFetch:n,region:s=jg.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=s3(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return r3(this,arguments,void 0,function*(r,n={}){var s;let o,c;try{const{headers:u,method:f,body:h,signal:p,timeout:g}=n;let v={},{region:w}=n;w||(w=this.region);const S=new URL(`${this.url}/${r}`);w&&w!=="any"&&(v["x-region"]=w,S.searchParams.set("forceFunctionRegion",w));let b;h&&(u&&!Object.prototype.hasOwnProperty.call(u,"Content-Type")||!u)?typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(v["Content-Type"]="application/octet-stream",b=h):typeof h=="string"?(v["Content-Type"]="text/plain",b=h):typeof FormData<"u"&&h instanceof FormData?b=h:(v["Content-Type"]="application/json",b=JSON.stringify(h)):h&&typeof h!="string"&&!(typeof Blob<"u"&&h instanceof Blob)&&!(h instanceof ArrayBuffer)&&!(typeof FormData<"u"&&h instanceof FormData)?b=JSON.stringify(h):b=h;let j=p;g&&(c=new AbortController,o=setTimeout(()=>c.abort(),g),p?(j=c.signal,p.addEventListener("abort",()=>c.abort())):j=c.signal);const N=yield this.fetch(S.toString(),{method:f||"POST",headers:Object.assign(Object.assign(Object.assign({},v),this.headers),u),body:b,signal:j}).catch(A=>{throw new i3(A)}),E=N.headers.get("x-relay-error");if(E&&E==="true")throw new b_(N);if(!N.ok)throw new __(N);let k=((s=N.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),P;return k==="application/json"?P=yield N.json():k==="application/octet-stream"||k==="application/pdf"?P=yield N.blob():k==="text/event-stream"?P=N:k==="multipart/form-data"?P=yield N.formData():P=yield N.text(),{data:P,error:null,response:N}}catch(u){return{data:null,error:u,response:u instanceof __||u instanceof b_?u.context:void 0}}finally{o&&clearTimeout(o)}})}}var a3=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},l3=class{constructor(t){var e,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{let c=null,u=null,f=null,h=o.status,p=o.statusText;if(o.ok){var g,v;if(r.method!=="HEAD"){var w;const N=await o.text();N===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((w=r.headers.get("Accept"))===null||w===void 0)&&w.includes("application/vnd.pgrst.plan+text"))?u=N:u=JSON.parse(N))}const b=(g=r.headers.get("Prefer"))===null||g===void 0?void 0:g.match(/count=(exact|planned|estimated)/),j=(v=o.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");b&&j&&j.length>1&&(f=parseInt(j[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(u)&&(u.length>1?(c={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,f=null,h=406,p="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{var S;const b=await o.text();try{c=JSON.parse(b),Array.isArray(c)&&o.status===404&&(u=[],c=null,h=200,p="OK")}catch{o.status===404&&b===""?(h=204,p="No Content"):c={message:b}}if(c&&r.isMaybeSingle&&(!(c==null||(S=c.details)===null||S===void 0)&&S.includes("0 rows"))&&(c=null,h=200,p="OK"),c&&r.shouldThrowOnError)throw new a3(c)}return{error:c,data:u,count:f,status:h,statusText:p}});return this.shouldThrowOnError||(s=s.catch(o=>{var c;let u="";const f=o?.cause;if(f){var h,p,g,v;const S=(h=f?.message)!==null&&h!==void 0?h:"",b=(p=f?.code)!==null&&p!==void 0?p:"";u=`${(g=o?.name)!==null&&g!==void 0?g:"FetchError"}: ${o?.message}`,u+=`

Caused by: ${(v=f?.name)!==null&&v!==void 0?v:"Error"}: ${S}`,b&&(u+=` (${b})`),f?.stack&&(u+=`
${f.stack}`)}else{var w;u=(w=o?.stack)!==null&&w!==void 0?w:""}return{error:{message:`${(c=o?.name)!==null&&c!==void 0?c:"FetchError"}: ${o?.message}`,details:u,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(t,e)}returns(){return this}overrideTypes(){return this}},c3=class extends l3{select(t){let e=!1;const r=(t??"*").split("").map(n=>/\s/.test(n)&&!e?"":(n==='"'&&(e=!e),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:r,foreignTable:n,referencedTable:s=n}={}){const o=s?`${s}.order`:"order",c=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${c?`${c},`:""}${t}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:r=e}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${t}`),this}range(t,e,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"offset":`${n}.offset`,o=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(o,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:r=!1,buffers:n=!1,wal:s=!1,format:o="text"}={}){var c;const u=[t?"analyze":null,e?"verbose":null,r?"settings":null,n?"buffers":null,s?"wal":null].filter(Boolean).join("|"),f=(c=this.headers.get("Accept"))!==null&&c!==void 0?c:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${f}"; options=${u};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const S_=new RegExp("[,()]");var _a=class extends c3{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&S_.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}notIn(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&S_.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`not.in.(${r})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:r,type:n}={}){let s="";n==="plain"?s="pl":n==="phrase"?s="ph":n==="websearch"&&(s="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${s}fts${o}.${e}`),this}match(t){return Object.entries(t).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(t,e,r){return this.url.searchParams.append(t,`not.${e}.${r}`),this}or(t,{foreignTable:e,referencedTable:r=e}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${t})`),this}filter(t,e,r){return this.url.searchParams.append(t,`${e}.${r}`),this}},u3=class{constructor(t,{headers:e={},schema:r,fetch:n}){this.url=t,this.headers=new Headers(e),this.schema=r,this.fetch=n}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:r=!1,count:n}=e??{},s=r?"HEAD":"GET";let o=!1;const c=(t??"*").split("").map(h=>/\s/.test(h)&&!o?"":(h==='"'&&(o=!o),h)).join(""),{url:u,headers:f}=this.cloneRequestState();return u.searchParams.set("select",c),n&&f.append("Prefer",`count=${n}`),new _a({method:s,url:u,headers:f,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:r=!0}={}){var n;const s="POST",{url:o,headers:c}=this.cloneRequestState();if(e&&c.append("Prefer",`count=${e}`),r||c.append("Prefer","missing=default"),Array.isArray(t)){const u=t.reduce((f,h)=>f.concat(Object.keys(h)),[]);if(u.length>0){const f=[...new Set(u)].map(h=>`"${h}"`);o.searchParams.set("columns",f.join(","))}}return new _a({method:s,url:o,headers:c,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:r=!1,count:n,defaultToNull:s=!0}={}){var o;const c="POST",{url:u,headers:f}=this.cloneRequestState();if(f.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),e!==void 0&&u.searchParams.set("on_conflict",e),n&&f.append("Prefer",`count=${n}`),s||f.append("Prefer","missing=default"),Array.isArray(t)){const h=t.reduce((p,g)=>p.concat(Object.keys(g)),[]);if(h.length>0){const p=[...new Set(h)].map(g=>`"${g}"`);u.searchParams.set("columns",p.join(","))}}return new _a({method:c,url:u,headers:f,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(t,{count:e}={}){var r;const n="PATCH",{url:s,headers:o}=this.cloneRequestState();return e&&o.append("Prefer",`count=${e}`),new _a({method:n,url:s,headers:o,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var e;const r="DELETE",{url:n,headers:s}=this.cloneRequestState();return t&&s.append("Prefer",`count=${t}`),new _a({method:r,url:n,headers:s,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},d3=class sE{constructor(e,{headers:r={},schema:n,fetch:s}={}){this.url=e,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new u3(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new sE(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:s=!1,count:o}={}){var c;let u;const f=new URL(`${this.url}/rpc/${e}`);let h;const p=w=>w!==null&&typeof w=="object"&&(!Array.isArray(w)||w.some(p)),g=n&&Object.values(r).some(p);g?(u="POST",h=r):n||s?(u=n?"HEAD":"GET",Object.entries(r).filter(([w,S])=>S!==void 0).map(([w,S])=>[w,Array.isArray(S)?`{${S.join(",")}}`:`${S}`]).forEach(([w,S])=>{f.searchParams.append(w,S)})):(u="POST",h=r);const v=new Headers(this.headers);return g?v.set("Prefer",o?`count=${o},return=minimal`:"return=minimal"):o&&v.set("Prefer",`count=${o}`),new _a({method:u,url:f,headers:v,schema:this.schemaName,body:h,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}};class f3{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const s=n.node,o=parseInt(s.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const h3="2.90.1",p3=`realtime-js/${h3}`,iE="1.0.0",m3="2.0.0",j_=iE,kg=1e4,g3=1e3,y3=100;var vi;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(vi||(vi={}));var Jt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Jt||(Jt={}));var Yn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Yn||(Yn={}));var Eg;(function(t){t.websocket="websocket"})(Eg||(Eg={}));var fo;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(fo||(fo={}));class v3{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n;const s=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(e){var r,n;const s=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},c=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,c)}_encodeUserBroadcastPush(e,r,n){var s,o;const c=e.topic,u=(s=e.ref)!==null&&s!==void 0?s:"",f=(o=e.join_ref)!==null&&o!==void 0?o:"",h=e.payload.event,p=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},g=Object.keys(p).length===0?"":JSON.stringify(p);if(f.length>255)throw new Error(`joinRef length ${f.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`ref length ${u.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`topic length ${c.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`userEvent length ${h.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`metadata length ${g.length} exceeds maximum of 255`);const v=this.USER_BROADCAST_PUSH_META_LENGTH+f.length+u.length+c.length+h.length+g.length,w=new ArrayBuffer(this.HEADER_LENGTH+v);let S=new DataView(w),b=0;S.setUint8(b++,this.KINDS.userBroadcastPush),S.setUint8(b++,f.length),S.setUint8(b++,u.length),S.setUint8(b++,c.length),S.setUint8(b++,h.length),S.setUint8(b++,g.length),S.setUint8(b++,r),Array.from(f,N=>S.setUint8(b++,N.charCodeAt(0))),Array.from(u,N=>S.setUint8(b++,N.charCodeAt(0))),Array.from(c,N=>S.setUint8(b++,N.charCodeAt(0))),Array.from(h,N=>S.setUint8(b++,N.charCodeAt(0))),Array.from(g,N=>S.setUint8(b++,N.charCodeAt(0)));var j=new Uint8Array(w.byteLength+n.byteLength);return j.set(new Uint8Array(w),0),j.set(new Uint8Array(n),w.byteLength),j.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[s,o,c,u,f]=n;return r({join_ref:s,ref:o,topic:c,event:u,payload:f})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),s=new TextDecoder;if(n===this.KINDS.userBroadcast)return this._decodeUserBroadcast(e,r,s)}_decodeUserBroadcast(e,r,n){const s=r.getUint8(1),o=r.getUint8(2),c=r.getUint8(3),u=r.getUint8(4);let f=this.HEADER_LENGTH+4;const h=n.decode(e.slice(f,f+s));f=f+s;const p=n.decode(e.slice(f,f+o));f=f+o;const g=n.decode(e.slice(f,f+c));f=f+c;const v=e.slice(f,e.byteLength),w=u===this.JSON_ENCODING?JSON.parse(n.decode(v)):v,S={type:this.BROADCAST_EVENT,event:p,payload:w};return c>0&&(S.meta=JSON.parse(g)),{join_ref:null,ref:null,topic:h,event:this.BROADCAST_EVENT,payload:S}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([n])=>r.includes(n)))}}class oE{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var jt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(jt||(jt={}));const k_=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((o,c)=>(o[c]=x3(c,t,e,s),o),{}):{}},x3=(t,e,r,n)=>{const s=e.find(u=>u.name===t),o=s?.type,c=r[t];return o&&!n.includes(o)?aE(o,c):Cg(c)},aE=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return S3(e,r)}switch(t){case jt.bool:return w3(e);case jt.float4:case jt.float8:case jt.int2:case jt.int4:case jt.int8:case jt.numeric:case jt.oid:return b3(e);case jt.json:case jt.jsonb:return _3(e);case jt.timestamp:return j3(e);case jt.abstime:case jt.date:case jt.daterange:case jt.int4range:case jt.int8range:case jt.money:case jt.reltime:case jt.text:case jt.time:case jt.timestamptz:case jt.timetz:case jt.tsrange:case jt.tstzrange:return Cg(e);default:return Cg(e)}},Cg=t=>t,w3=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},b3=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},_3=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},S3=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let o;const c=t.slice(1,r);try{o=JSON.parse("["+c+"]")}catch{o=c?c.split(","):[]}return o.map(u=>aE(e,u))}return t},j3=t=>typeof t=="string"?t.replace(" ","T"):t,lE=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class xm{constructor(e,r,n={},s=kg){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var E_;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(E_||(E_={}));class cc{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:o,onLeave:c,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=cc.syncState(this.state,s,o,c),this.pendingDiffs.forEach(f=>{this.state=cc.syncDiff(this.state,f,o,c)}),this.pendingDiffs=[],u()}),this.channel._on(n.diff,{},s=>{const{onJoin:o,onLeave:c,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=cc.syncDiff(this.state,s,o,c),u())}),this.onJoin((s,o,c)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:c})}),this.onLeave((s,o,c)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const o=this.cloneDeep(e),c=this.transformState(r),u={},f={};return this.map(o,(h,p)=>{c[h]||(f[h]=p)}),this.map(c,(h,p)=>{const g=o[h];if(g){const v=p.map(j=>j.presence_ref),w=g.map(j=>j.presence_ref),S=p.filter(j=>w.indexOf(j.presence_ref)<0),b=g.filter(j=>v.indexOf(j.presence_ref)<0);S.length>0&&(u[h]=S),b.length>0&&(f[h]=b)}else u[h]=p}),this.syncDiff(o,{joins:u,leaves:f},n,s)}static syncDiff(e,r,n,s){const{joins:o,leaves:c}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(o,(u,f)=>{var h;const p=(h=e[u])!==null&&h!==void 0?h:[];if(e[u]=this.cloneDeep(f),p.length>0){const g=e[u].map(w=>w.presence_ref),v=p.filter(w=>g.indexOf(w.presence_ref)<0);e[u].unshift(...v)}n(u,p,f)}),this.map(c,(u,f)=>{let h=e[u];if(!h)return;const p=f.map(g=>g.presence_ref);h=h.filter(g=>p.indexOf(g.presence_ref)<0),e[u]=h,s(u,h,f),h.length===0&&delete e[u]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var C_;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(C_||(C_={}));var uc;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(uc||(uc={}));var Ds;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Ds||(Ds={}));class Ea{constructor(e,r={config:{}},n){var s,o;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=Jt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new xm(this,Yn.join,this.params,this.timeout),this.rejoinTimer=new oE(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Jt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Jt.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=Jt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Jt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=Jt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Yn.reply,{},(c,u)=>{this._trigger(this._replyEventName(u),c)}),this.presence=new cc(this),this.broadcastEndpointURL=lE(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,s,o;if(this.socket.isConnected()||this.socket.connect(),this.state==Jt.closed){const{config:{broadcast:c,presence:u,private:f}}=this.params,h=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(w=>w.filter))!==null&&s!==void 0?s:[],p=!!this.bindings[uc.PRESENCE]&&this.bindings[uc.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,g={},v={broadcast:c,presence:Object.assign(Object.assign({},u),{enabled:p}),postgres_changes:h,private:f};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this._onError(w=>e?.(Ds.CHANNEL_ERROR,w)),this._onClose(()=>e?.(Ds.CLOSED)),this.updateJoinPayload(Object.assign({config:v},g)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:w})=>{var S;if(this.socket._isManualToken()||this.socket.setAuth(),w===void 0){e?.(Ds.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,j=(S=b?.length)!==null&&S!==void 0?S:0,N=[];for(let E=0;E<j;E++){const k=b[E],{filter:{event:P,schema:A,table:L,filter:O}}=k,C=w&&w[E];if(C&&C.event===P&&Ea.isFilterValueEqual(C.schema,A)&&Ea.isFilterValueEqual(C.table,L)&&Ea.isFilterValueEqual(C.filter,O))N.push(Object.assign(Object.assign({},k),{id:C.id}));else{this.unsubscribe(),this.state=Jt.errored,e?.(Ds.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=N,e&&e(Ds.SUBSCRIBED);return}}).receive("error",w=>{this.state=Jt.errored,e?.(Ds.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(w).join(", ")||"error")))}).receive("timeout",()=>{e?.(Ds.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===Jt.joined&&e===uc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var s;if(r==null)return Promise.reject("Payload is required for httpSend()");const o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(u.status===202)return{success:!0};let f=u.statusText;try{const h=await u.json();f=h.error||h.message||f}catch{}return Promise.reject(new Error(f))}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:c}=e,u={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(u.Authorization=`Bearer ${this.socket.accessTokenValue}`);const f={method:"POST",headers:u,body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:c,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=h.body)===null||s===void 0?void 0:s.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var c,u,f;const h=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((f=(u=(c=this.params)===null||c===void 0?void 0:c.config)===null||u===void 0?void 0:u.broadcast)===null||f===void 0)&&f.ack)&&o("ok"),h.receive("ok",()=>o("ok")),h.receive("error",()=>o("error")),h.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Jt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Yn.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new xm(this,Yn.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Jt.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const s=new AbortController,o=setTimeout(()=>s.abort(),n),c=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(o),c}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new xm(this,e,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>y3){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,o;const c=e.toLocaleLowerCase(),{close:u,error:f,leave:h,join:p}=Yn;if(n&&[u,f,h,p].indexOf(c)>=0&&n!==this._joinRef())return;let v=this._onMessage(c,r,n);if(r&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(w=>{var S,b,j;return((S=w.filter)===null||S===void 0?void 0:S.event)==="*"||((j=(b=w.filter)===null||b===void 0?void 0:b.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===c}).map(w=>w.callback(v,n)):(o=this.bindings[c])===null||o===void 0||o.filter(w=>{var S,b,j,N,E,k,P,A;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in w){const L=w.id,O=(S=w.filter)===null||S===void 0?void 0:S.event;return L&&((b=r.ids)===null||b===void 0?void 0:b.includes(L))&&(O==="*"||O?.toLocaleLowerCase()===((j=r.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))&&(!(!((N=w.filter)===null||N===void 0)&&N.table)||w.filter.table===((E=r.data)===null||E===void 0?void 0:E.table))}else{const L=(P=(k=w?.filter)===null||k===void 0?void 0:k.event)===null||P===void 0?void 0:P.toLocaleLowerCase();return L==="*"||L===((A=r?.event)===null||A===void 0?void 0:A.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===c}).map(w=>{if(typeof v=="object"&&"ids"in v){const S=v.data,{schema:b,table:j,commit_timestamp:N,type:E,errors:k}=S;v=Object.assign(Object.assign({},{schema:b,table:j,commit_timestamp:N,eventType:E,new:{},old:{},errors:k}),this._getPayloadRecords(S))}w.callback(v,n)})}_isClosed(){return this.state===Jt.closed}_isJoined(){return this.state===Jt.joined}_isJoining(){return this.state===Jt.joining}_isLeaving(){return this.state===Jt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),o={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===n&&Ea.isEqual(s.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}static isFilterValueEqual(e,r){return(e??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Yn.close,{},e)}_onError(e){this._on(Yn.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Jt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=k_(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=k_(e.columns,e.old_record)),r}}const wm=()=>{},wd={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},k3=[1e3,2e3,5e3,1e4],E3=1e4,C3=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class N3{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=kg,this.transport=null,this.heartbeatIntervalMs=wd.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=wm,this.ref=0,this.reconnectTimer=null,this.vsn=j_,this.logger=wm,this.conn=null,this.sendBuffer=[],this.serializer=new v3,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...o)=>s(...o):(...o)=>fetch(...o),!(!((n=r?.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${Eg.websocket}`,this.httpEndpoint=lE(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=f3.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case vi.connecting:return fo.Connecting;case vi.open:return fo.Open;case vi.closing:return fo.Closing;default:return fo.Closed}}isConnected(){return this.connectionState()===fo.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(o=>o.topic===n);if(s)return s;{const o=new Ea(`realtime:${e}`,r,this);return this.channels.push(o),o}}push(e){const{topic:r,event:n,payload:s,ref:o}=e,c=()=>{this.encode(e,u=>{var f;(f=this.conn)===null||f===void 0||f.send(u)})};this.log("push",`${r} ${n} (${o})`,s),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(g3,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},wd.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const h=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",h)}catch(p){this.log("error","error in heartbeat callback",p)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:s,payload:o,ref:c}=r,u=c?`(${c})`:"",f=o.status||"";this.log("receive",`${f} ${n} ${s} ${u}`.trim(),o),this.channels.filter(h=>h._isMember(n)).forEach(h=>h._trigger(s,o,c)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===vi.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===vi.open||this.conn.readyState===vi.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Yn.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([C3],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r,n=!1;if(e)r=e,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const o={access_token:r,version:p3};r&&s.updateJoinPayload(o),s.joinedOnce&&s._isJoined()&&s._push(Yn.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new oE(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},wd.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,s,o,c,u,f,h,p,g,v,w;switch(this.transport=(r=e?.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e?.timeout)!==null&&n!==void 0?n:kg,this.heartbeatIntervalMs=(s=e?.heartbeatIntervalMs)!==null&&s!==void 0?s:wd.HEARTBEAT_INTERVAL,this.worker=(o=e?.worker)!==null&&o!==void 0?o:!1,this.accessToken=(c=e?.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(u=e?.heartbeatCallback)!==null&&u!==void 0?u:wm,this.vsn=(f=e?.vsn)!==null&&f!==void 0?f:j_,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(h=e?.reconnectAfterMs)!==null&&h!==void 0?h:(S=>k3[S-1]||E3),this.vsn){case iE:this.encode=(p=e?.encode)!==null&&p!==void 0?p:((S,b)=>b(JSON.stringify(S))),this.decode=(g=e?.decode)!==null&&g!==void 0?g:((S,b)=>b(JSON.parse(S)));break;case m3:this.encode=(v=e?.encode)!==null&&v!==void 0?v:this.serializer.encode.bind(this.serializer),this.decode=(w=e?.decode)!==null&&w!==void 0?w:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}var jc=class extends Error{constructor(t,e){super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function T3(t,e,r){const n=new URL(e,t);if(r)for(const[s,o]of Object.entries(r))o!==void 0&&n.searchParams.set(s,o);return n.toString()}async function R3(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function P3(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:s,body:o,headers:c}){const u=T3(t.baseUrl,n,s),f=await R3(t.auth),h=await e(u,{method:r,headers:{...o?{"Content-Type":"application/json"}:{},...f,...c},body:o?JSON.stringify(o):void 0}),p=await h.text(),g=(h.headers.get("content-type")||"").includes("application/json"),v=g&&p?JSON.parse(p):p;if(!h.ok){const w=g?v:void 0,S=w?.error;throw new jc(S?.message??`Request failed with status ${h.status}`,{status:h.status,icebergType:S?.type,icebergCode:S?.code,details:w})}return{status:h.status,headers:h.headers,data:v}}}}function bd(t){return t.join("")}var A3=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:bd(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${bd(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${bd(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${bd(t.namespace)}`}),!0}catch(e){if(e instanceof jc&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof jc&&r.status===409)return;throw r}}};function da(t){return t.join("")}var O3=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${da(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${da(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${da(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${da(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String(e?.purge??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${da(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${da(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof jc&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof jc&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},I3=class{constructor(t){let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=P3({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=t.accessDelegation?.join(","),this.namespaceOps=new A3(this.client,e),this.tableOps=new O3(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},Gf=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function It(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var M3=class extends Gf{constructor(t,e,r){super(t),this.name="StorageApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Ng=class extends Gf{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const fv=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),D3=()=>Response,Tg=t=>{if(Array.isArray(t))return t.map(r=>Tg(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[s]=Tg(n)}),e},L3=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},F3=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function kc(t){"@babel/helpers - typeof";return kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kc(t)}function $3(t,e){if(kc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(kc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function V3(t){var e=$3(t,"string");return kc(e)=="symbol"?e:e+""}function U3(t,e,r){return(e=V3(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function N_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function We(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?N_(Object(r),!0).forEach(function(n){U3(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):N_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const bm=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},B3=async(t,e,r)=>{t instanceof await D3()&&!r?.noResolveJson?t.json().then(n=>{const s=t.status||500,o=n?.statusCode||s+"";e(new M3(bm(n),s,o))}).catch(n=>{e(new Ng(bm(n),n))}):e(new Ng(bm(t),t))},z3=(t,e,r,n)=>{const s={method:t,headers:e?.headers||{}};return t==="GET"||!n?s:(L3(n)?(s.headers=We({"Content-Type":"application/json"},e?.headers),s.body=JSON.stringify(n)):s.body=n,e?.duplex&&(s.duplex=e.duplex),We(We({},s),r))};async function Kc(t,e,r,n,s,o){return new Promise((c,u)=>{t(r,z3(e,n,s,o)).then(f=>{if(!f.ok)throw f;return n?.noResolveJson?f:f.json()}).then(f=>c(f)).catch(f=>B3(f,u,n))})}async function Ec(t,e,r,n){return Kc(t,"GET",e,r,n)}async function Gn(t,e,r,n,s){return Kc(t,"POST",e,n,s,r)}async function Rg(t,e,r,n,s){return Kc(t,"PUT",e,n,s,r)}async function W3(t,e,r,n){return Kc(t,"HEAD",e,We(We({},r),{},{noResolveJson:!0}),n)}async function hv(t,e,r,n,s){return Kc(t,"DELETE",e,n,s,r)}var q3=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(It(e))return{data:null,error:e};throw e}}};let cE;cE=Symbol.toStringTag;var H3=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[cE]="BlobDownloadBuilder",this.promise=null}asStream(){return new q3(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(It(e))return{data:null,error:e};throw e}}};const K3={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},T_={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var G3=class{constructor(t,e={},r,n){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=r,this.fetch=fv(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,r,n){var s=this;try{let o;const c=We(We({},T_),n);let u=We(We({},s.headers),t==="POST"&&{"x-upsert":String(c.upsert)});const f=c.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",c.cacheControl),f&&o.append("metadata",s.encodeMetadata(f)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.has("cacheControl")||o.append("cacheControl",c.cacheControl),f&&!o.has("metadata")&&o.append("metadata",s.encodeMetadata(f))):(o=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType,f&&(u["x-metadata"]=s.toBase64(s.encodeMetadata(f))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!c.duplex&&(c.duplex="half")),n?.headers&&(u=We(We({},u),n.headers));const h=s._removeEmptyFolders(e),p=s._getFinalPath(h),g=await(t=="PUT"?Rg:Gn)(s.fetch,`${s.url}/object/${p}`,o,We({headers:u},c?.duplex?{duplex:c.duplex}:{}));return{data:{path:h,id:g.Id,fullPath:g.Key},error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(It(o))return{data:null,error:o};throw o}}async upload(t,e,r){return this.uploadOrUpdate("POST",t,e,r)}async uploadToSignedUrl(t,e,r,n){var s=this;const o=s._removeEmptyFolders(t),c=s._getFinalPath(o),u=new URL(s.url+`/object/upload/sign/${c}`);u.searchParams.set("token",e);try{let f;const h=We({upsert:T_.upsert},n),p=We(We({},s.headers),{"x-upsert":String(h.upsert)});return typeof Blob<"u"&&r instanceof Blob?(f=new FormData,f.append("cacheControl",h.cacheControl),f.append("",r)):typeof FormData<"u"&&r instanceof FormData?(f=r,f.append("cacheControl",h.cacheControl)):(f=r,p["cache-control"]=`max-age=${h.cacheControl}`,p["content-type"]=h.contentType),{data:{path:o,fullPath:(await Rg(s.fetch,u.toString(),f,{headers:p})).Key},error:null}}catch(f){if(s.shouldThrowOnError)throw f;if(It(f))return{data:null,error:f};throw f}}async createSignedUploadUrl(t,e){var r=this;try{let n=r._getFinalPath(t);const s=We({},r.headers);e?.upsert&&(s["x-upsert"]="true");const o=await Gn(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:s}),c=new URL(r.url+o.url),u=c.searchParams.get("token");if(!u)throw new Gf("No token returned by API");return{data:{signedUrl:c.toString(),path:t,token:u},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(It(n))return{data:null,error:n};throw n}}async update(t,e,r){return this.uploadOrUpdate("PUT",t,e,r)}async move(t,e,r){var n=this;try{return{data:await Gn(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(It(s))return{data:null,error:s};throw s}}async copy(t,e,r){var n=this;try{return{data:{path:(await Gn(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:n.headers})).Key},error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(It(s))return{data:null,error:s};throw s}}async createSignedUrl(t,e,r){var n=this;try{let s=n._getFinalPath(t),o=await Gn(n.fetch,`${n.url}/object/sign/${s}`,We({expiresIn:e},r?.transform?{transform:r.transform}:{}),{headers:n.headers});const c=r?.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${n.url}${o.signedURL}${c}`)},{data:o,error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(It(s))return{data:null,error:s};throw s}}async createSignedUrls(t,e,r){var n=this;try{const s=await Gn(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:e,paths:t},{headers:n.headers}),o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(c=>We(We({},c),{},{signedUrl:c.signedURL?encodeURI(`${n.url}${c.signedURL}${o}`):null})),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(It(s))return{data:null,error:s};throw s}}download(t,e){const r=typeof e?.transform<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString(e?.transform||{}),s=n?`?${n}`:"",o=this._getFinalPath(t),c=()=>Ec(this.fetch,`${this.url}/${r}/${o}${s}`,{headers:this.headers,noResolveJson:!0});return new H3(c,this.shouldThrowOnError)}async info(t){var e=this;const r=e._getFinalPath(t);try{return{data:Tg(await Ec(e.fetch,`${e.url}/object/info/${r}`,{headers:e.headers})),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(It(n))return{data:null,error:n};throw n}}async exists(t){var e=this;const r=e._getFinalPath(t);try{return await W3(e.fetch,`${e.url}/object/${r}`,{headers:e.headers}),{data:!0,error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(It(n)&&n instanceof Ng){const s=n.originalError;if([400,404].includes(s?.status))return{data:!1,error:n}}throw n}}getPublicUrl(t,e){const r=this._getFinalPath(t),n=[],s=e?.download?`download=${e.download===!0?"":e.download}`:"";s!==""&&n.push(s);const o=typeof e?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(e?.transform||{});c!==""&&n.push(c);let u=n.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${r}${u}`)}}}async remove(t){var e=this;try{return{data:await hv(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(It(r))return{data:null,error:r};throw r}}async list(t,e,r){var n=this;try{const s=We(We(We({},K3),e),{},{prefix:t||""});return{data:await Gn(n.fetch,`${n.url}/object/list/${n.bucketId}`,s,{headers:n.headers},r),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(It(s))return{data:null,error:s};throw s}}async listV2(t,e){var r=this;try{const n=We({},t);return{data:await Gn(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},e),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(It(n))return{data:null,error:n};throw n}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const uE="2.90.1",dE={"X-Client-Info":`storage-js/${uE}`};var Y3=class{constructor(t,e={},r,n){this.shouldThrowOnError=!1;const s=new URL(t);n?.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=We(We({},dE),e),this.fetch=fv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const r=e.listBucketOptionsToQueryString(t);return{data:await Ec(e.fetch,`${e.url}/bucket${r}`,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(It(r))return{data:null,error:r};throw r}}async getBucket(t){var e=this;try{return{data:await Ec(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(It(r))return{data:null,error:r};throw r}}async createBucket(t,e={public:!1}){var r=this;try{return{data:await Gn(r.fetch,`${r.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(It(n))return{data:null,error:n};throw n}}async updateBucket(t,e){var r=this;try{return{data:await Rg(r.fetch,`${r.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(It(n))return{data:null,error:n};throw n}}async emptyBucket(t){var e=this;try{return{data:await Gn(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(It(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await hv(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(It(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},Q3=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=We(We({},dE),e),this.fetch=fv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await Gn(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(It(r))return{data:null,error:r};throw r}}async listBuckets(t){var e=this;try{const r=new URLSearchParams;t?.limit!==void 0&&r.set("limit",t.limit.toString()),t?.offset!==void 0&&r.set("offset",t.offset.toString()),t?.sortColumn&&r.set("sortColumn",t.sortColumn),t?.sortOrder&&r.set("sortOrder",t.sortOrder),t?.search&&r.set("search",t.search);const n=r.toString(),s=n?`${e.url}/bucket?${n}`:`${e.url}/bucket`;return{data:await Ec(e.fetch,s,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(It(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await hv(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(It(r))return{data:null,error:r};throw r}}from(t){var e=this;if(!F3(t))throw new Gf("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new I3({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(s,o){const c=s[o];return typeof c!="function"?c:async(...u)=>{try{return{data:await c.apply(s,u),error:null}}catch(f){if(n)throw f;return{data:null,error:f}}}}})}};const pv={"X-Client-Info":`storage-js/${uE}`,"Content-Type":"application/json"};var fE=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function pn(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var _m=class extends fE{constructor(t,e,r){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Z3=class extends fE{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const mv=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),X3=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},R_=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),J3=async(t,e,r)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!r?.noResolveJson){const n=t.status||500,s=t;if(typeof s.json=="function")s.json().then(o=>{const c=o?.statusCode||o?.code||n+"";e(new _m(R_(o),n,c))}).catch(()=>{const o=n+"";e(new _m(s.statusText||`HTTP ${n} error`,n,o))});else{const o=n+"";e(new _m(s.statusText||`HTTP ${n} error`,n,o))}}else e(new Z3(R_(t),t))},eF=(t,e,r,n)=>{const s={method:t,headers:e?.headers||{}};return n?(X3(n)?(s.headers=We({"Content-Type":"application/json"},e?.headers),s.body=JSON.stringify(n)):s.body=n,We(We({},s),r)):s};async function tF(t,e,r,n,s,o){return new Promise((c,u)=>{t(r,eF(e,n,s,o)).then(f=>{if(!f.ok)throw f;if(n?.noResolveJson)return f;const h=f.headers.get("content-type");return!h||!h.includes("application/json")?{}:f.json()}).then(f=>c(f)).catch(f=>J3(f,u,n))})}async function mn(t,e,r,n,s){return tF(t,"POST",e,n,s,r)}var rF=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=We(We({},pv),e),this.fetch=mv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await mn(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(pn(r))return{data:null,error:r};throw r}}async getIndex(t,e){var r=this;try{return{data:await mn(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(pn(n))return{data:null,error:n};throw n}}async listIndexes(t){var e=this;try{return{data:await mn(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(pn(r))return{data:null,error:r};throw r}}async deleteIndex(t,e){var r=this;try{return{data:await mn(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(pn(n))return{data:null,error:n};throw n}}},nF=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=We(We({},pv),e),this.fetch=mv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await mn(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(pn(r))return{data:null,error:r};throw r}}async getVectors(t){var e=this;try{return{data:await mn(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(pn(r))return{data:null,error:r};throw r}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await mn(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(pn(r))return{data:null,error:r};throw r}}async queryVectors(t){var e=this;try{return{data:await mn(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(pn(r))return{data:null,error:r};throw r}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await mn(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(pn(r))return{data:null,error:r};throw r}}},sF=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=We(We({},pv),e),this.fetch=mv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await mn(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(pn(r))return{data:null,error:r};throw r}}async getBucket(t){var e=this;try{return{data:await mn(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(pn(r))return{data:null,error:r};throw r}}async listBuckets(t={}){var e=this;try{return{data:await mn(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(pn(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await mn(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(pn(r))return{data:null,error:r};throw r}}},iF=class extends sF{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new oF(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,r=this;return e().call(r,t)}async getBucket(t){var e=()=>super.getBucket,r=this;return e().call(r,t)}async listBuckets(t={}){var e=()=>super.listBuckets,r=this;return e().call(r,t)}async deleteBucket(t){var e=()=>super.deleteBucket,r=this;return e().call(r,t)}},oF=class extends rF{constructor(t,e,r,n){super(t,e,n),this.vectorBucketName=r}async createIndex(t){var e=()=>super.createIndex,r=this;return e().call(r,We(We({},t),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,r=this;return e().call(r,We(We({},t),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,r=this;return e().call(r,r.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,r=this;return e().call(r,r.vectorBucketName,t)}index(t){return new aF(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},aF=class extends nF{constructor(t,e,r,n,s){super(t,e,s),this.vectorBucketName=r,this.indexName=n}async putVectors(t){var e=()=>super.putVectors,r=this;return e().call(r,We(We({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(t){var e=()=>super.getVectors,r=this;return e().call(r,We(We({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,r=this;return e().call(r,We(We({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,r=this;return e().call(r,We(We({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,r=this;return e().call(r,We(We({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},lF=class extends Y3{constructor(t,e={},r,n){super(t,e,r,n)}from(t){return new G3(this.url,this.headers,t,this.fetch)}get vectors(){return new iF(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Q3(this.url+"/iceberg",this.headers,this.fetch)}};const hE="2.90.1",Sa=30*1e3,Pg=3,Sm=Pg*Sa,cF="http://localhost:9999",uF="supabase.auth.token",dF={"X-Client-Info":`gotrue-js/${hE}`},Ag="X-Supabase-Api-Version",pE={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},fF=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,hF=600*1e3;class Cc extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Fe(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class pF extends Cc{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function mF(t){return Fe(t)&&t.name==="AuthApiError"}class ho extends Cc{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Ws extends Cc{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class dn extends Ws{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function gF(t){return Fe(t)&&t.name==="AuthSessionMissingError"}class fa extends Ws{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class _d extends Ws{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Sd extends Ws{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function yF(t){return Fe(t)&&t.name==="AuthImplicitGrantRedirectError"}class P_ extends Ws{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class vF extends Ws{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Og extends Ws{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function jm(t){return Fe(t)&&t.name==="AuthRetryableFetchError"}class A_ extends Ws{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Ig extends Ws{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const tf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),O_=` 	
\r=`.split(""),xF=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<O_.length;e+=1)t[O_[e].charCodeAt(0)]=-2;for(let e=0;e<tf.length;e+=1)t[tf[e].charCodeAt(0)]=e;return t})();function I_(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(tf[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(tf[n]),e.queuedBits-=6}}function mE(t,e,r){const n=xF[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function M_(t){const e=[],r=c=>{e.push(String.fromCodePoint(c))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=c=>{_F(c,n,r)};for(let c=0;c<t.length;c+=1)mE(t.charCodeAt(c),s,o);return e.join("")}function wF(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function bF(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}wF(n,e)}}function _F(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if((t>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Oa(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)mE(t.charCodeAt(s),r,n);return new Uint8Array(e)}function SF(t){const e=[];return bF(t,r=>e.push(r)),new Uint8Array(e)}function po(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>I_(s,r,n)),I_(null,r,n),e.join("")}function jF(t){return Math.round(Date.now()/1e3)+t}function kF(){return Symbol("auth-callback")}const wr=()=>typeof window<"u"&&typeof document<"u",io={tested:!1,writable:!1},gE=()=>{if(!wr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(io.tested)return io.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),io.tested=!0,io.writable=!0}catch{io.tested=!0,io.writable=!1}return io.writable};function EF(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,o)=>{e[o]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const yE=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),CF=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",ja=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},oo=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},vr=async(t,e)=>{await t.removeItem(e)};class Yf{constructor(){this.promise=new Yf.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Yf.promiseConstructor=Promise;function km(t){const e=t.split(".");if(e.length!==3)throw new Ig("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!fF.test(e[n]))throw new Ig("JWT not in base64url format");return{header:JSON.parse(M_(e[0])),payload:JSON.parse(M_(e[1])),signature:Oa(e[2]),raw:{header:e[0],payload:e[1]}}}async function NF(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function TF(t,e){return new Promise((n,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const c=await t(o);if(!e(o,null,c)){n(c);return}}catch(c){if(!e(o,c)){s(c);return}}})()})}function RF(t){return("0"+t.toString(16)).substr(-2)}function PF(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let o=0;o<56;o++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,RF).join("")}async function AF(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function OF(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await AF(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ha(t,e,r=!1){const n=PF();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await ja(t,`${e}-code-verifier`,s);const o=await OF(n);return[o,n===o?"plain":"s256"]}const IF=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function MF(t){const e=t.headers.get(Ag);if(!e||!e.match(IF))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function DF(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function LF(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const FF=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function pa(t){if(!FF.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Em(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function $F(t,e){return new Proxy(t,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const o=n.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,s)}})}function D_(t){return JSON.parse(JSON.stringify(t))}const lo=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),VF=[502,503,504];async function L_(t){var e;if(!CF(t))throw new Og(lo(t),0);if(VF.includes(t.status))throw new Og(lo(t),t.status);let r;try{r=await t.json()}catch(o){throw new ho(lo(o),o)}let n;const s=MF(t);if(s&&s.getTime()>=pE["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new A_(lo(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new dn}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((o,c)=>o&&typeof c=="string",!0))throw new A_(lo(r),t.status,r.weak_password.reasons);throw new pF(lo(r),t.status||500,n)}const UF=(t,e,r,n)=>{const s={method:t,headers:e?.headers||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function ze(t,e,r,n){var s;const o=Object.assign({},n?.headers);o[Ag]||(o[Ag]=pE["2024-01-01"].name),n?.jwt&&(o.Authorization=`Bearer ${n.jwt}`);const c=(s=n?.query)!==null&&s!==void 0?s:{};n?.redirectTo&&(c.redirect_to=n.redirectTo);const u=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",f=await BF(t,e,r+u,{headers:o,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(f):{data:Object.assign({},f),error:null}}async function BF(t,e,r,n,s,o){const c=UF(e,n,s,o);let u;try{u=await t(r,Object.assign({},c))}catch(f){throw console.error(f),new Og(lo(f),0)}if(u.ok||await L_(u),n?.noResolveJson)return u;try{return await u.json()}catch(f){await L_(f)}}function qn(t){var e;let r=null;qF(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=jF(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function F_(t){const e=qn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function wi(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function zF(t){return{data:t,error:null}}function WF(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o}=t,c=nl(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o},f=Object.assign({},c);return{data:{properties:u,user:f},error:null}}function $_(t){return t}function qF(t){return t.access_token&&t.refresh_token&&t.expires_in}const Cm=["global","local","others"];class HF{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=yE(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=Cm[0]){if(Cm.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Cm.join(", ")}`);try{return await ze(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Fe(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await ze(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:wi})}catch(n){if(Fe(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=nl(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n?.newEmail,delete s.newEmail),await ze(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:WF,redirectTo:r?.redirectTo})}catch(r){if(Fe(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await ze(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:wi})}catch(r){if(Fe(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,o,c,u,f;try{const h={nextPage:null,lastPage:0,total:0},p=await ze(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(s=e?.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:$_});if(p.error)throw p.error;const g=await p.json(),v=(c=p.headers.get("x-total-count"))!==null&&c!==void 0?c:0,w=(f=(u=p.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&f!==void 0?f:[];return w.length>0&&(w.forEach(S=>{const b=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(S.split(";")[1].split("=")[1]);h[`${j}Page`]=b}),h.total=parseInt(v)),{data:Object.assign(Object.assign({},g),h),error:null}}catch(h){if(Fe(h))return{data:{users:[]},error:h};throw h}}async getUserById(e){pa(e);try{return await ze(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:wi})}catch(r){if(Fe(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){pa(e);try{return await ze(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:wi})}catch(n){if(Fe(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){pa(e);try{return await ze(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:wi})}catch(n){if(Fe(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){pa(e.userId);try{const{data:r,error:n}=await ze(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(Fe(r))return{data:null,error:r};throw r}}async _deleteFactor(e){pa(e.userId),pa(e.id);try{return{data:await ze(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(Fe(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,s,o,c,u,f;try{const h={nextPage:null,lastPage:0,total:0},p=await ze(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(s=e?.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:$_});if(p.error)throw p.error;const g=await p.json(),v=(c=p.headers.get("x-total-count"))!==null&&c!==void 0?c:0,w=(f=(u=p.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&f!==void 0?f:[];return w.length>0&&(w.forEach(S=>{const b=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(S.split(";")[1].split("=")[1]);h[`${j}Page`]=b}),h.total=parseInt(v)),{data:Object.assign(Object.assign({},g),h),error:null}}catch(h){if(Fe(h))return{data:{clients:[]},error:h};throw h}}async _createOAuthClient(e){try{return await ze(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Fe(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await ze(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Fe(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await ze(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Fe(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await ze(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Fe(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await ze(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Fe(r))return{data:null,error:r};throw r}}}function V_(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const ma={debug:!!(globalThis&&gE()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class vE extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class KF extends vE{}async function GF(t,e,r){ma.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),ma.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){ma.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{ma.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw ma.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new KF(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(ma.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function YF(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function xE(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function QF(t){return parseInt(t,16)}function ZF(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function XF(t){var e;const{chainId:r,domain:n,expirationTime:s,issuedAt:o=new Date,nonce:c,notBefore:u,requestId:f,resources:h,scheme:p,uri:g,version:v}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!g)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(v!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${v}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const w=xE(t.address),S=p?`${p}://${n}`:n,b=t.statement?`${t.statement}
`:"",j=`${S} wants you to sign in with your Ethereum account:
${w}

${b}`;let N=`URI: ${g}
Version: ${v}
Chain ID: ${r}${c?`
Nonce: ${c}`:""}
Issued At: ${o.toISOString()}`;if(s&&(N+=`
Expiration Time: ${s.toISOString()}`),u&&(N+=`
Not Before: ${u.toISOString()}`),f&&(N+=`
Request ID: ${f}`),h){let E=`
Resources:`;for(const k of h){if(!k||typeof k!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${k}`);E+=`
- ${k}`}N+=E}return`${j}
${N}`}class Ht extends Error{constructor({message:e,code:r,cause:n,name:s}){var o;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(o=s??(n instanceof Error?n.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=r}}class rf extends Ht{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function JF({error:t,options:e}){var r,n,s;const{publicKey:o}=e;if(!o)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Ht({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=o.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Ht({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=o.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Ht({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=o.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Ht({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Ht({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Ht({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return o.pubKeyCredParams.filter(u=>u.type==="public-key").length===0?new Ht({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Ht({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const c=window.location.hostname;if(wE(c)){if(o.rp.id!==c)return new Ht({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Ht({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new Ht({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Ht({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Ht({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function e$({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Ht({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Ht({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(wE(n)){if(r.rpId!==n)return new Ht({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Ht({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Ht({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Ht({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class t${createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const r$=new t$;function n$(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,s=nl(t,["challenge","user","excludeCredentials"]),o=Oa(e).buffer,c=Object.assign(Object.assign({},r),{id:Oa(r.id).buffer}),u=Object.assign(Object.assign({},s),{challenge:o,user:c});if(n&&n.length>0){u.excludeCredentials=new Array(n.length);for(let f=0;f<n.length;f++){const h=n[f];u.excludeCredentials[f]=Object.assign(Object.assign({},h),{id:Oa(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return u}function s$(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=nl(t,["challenge","allowCredentials"]),s=Oa(e).buffer,o=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){o.allowCredentials=new Array(r.length);for(let c=0;c<r.length;c++){const u=r[c];o.allowCredentials[c]=Object.assign(Object.assign({},u),{id:Oa(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return o}function i$(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:po(new Uint8Array(t.response.attestationObject)),clientDataJSON:po(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function o$(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:po(new Uint8Array(s.authenticatorData)),clientDataJSON:po(new Uint8Array(s.clientDataJSON)),signature:po(new Uint8Array(s.signature)),userHandle:s.userHandle?po(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function wE(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function U_(){var t,e;return!!(wr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function a$(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new rf("Browser returned unexpected credential type",e)}:{data:null,error:new rf("Empty credential response",e)}}catch(e){return{data:null,error:JF({error:e,options:t})}}}async function l$(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new rf("Browser returned unexpected credential type",e)}:{data:null,error:new rf("Empty credential response",e)}}catch(e){return{data:null,error:e$({error:e,options:t})}}}const c$={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},u$={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function nf(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of t)if(s)for(const o in s){const c=s[o];if(c!==void 0)if(Array.isArray(c))n[o]=c;else if(r(c))n[o]=c;else if(e(c)){const u=n[o];e(u)?n[o]=nf(u,c):n[o]=nf(c)}else n[o]=c}return n}function d$(t,e){return nf(c$,t,e||{})}function f$(t,e){return nf(u$,t,e||{})}class h${constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:s},o){try{const{data:c,error:u}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!c)return{data:null,error:u};const f=s??r$.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:h}=c.webauthn.credential_options.publicKey;h.name||(h.name=`${h.id}:${n}`),h.displayName||(h.displayName=h.name)}switch(c.webauthn.type){case"create":{const h=d$(c.webauthn.credential_options.publicKey,o?.create),{data:p,error:g}=await a$({publicKey:h,signal:f});return p?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:p}},error:null}:{data:null,error:g}}case"request":{const h=f$(c.webauthn.credential_options.publicKey,o?.request),{data:p,error:g}=await l$(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:h,signal:f}));return p?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:p}},error:null}:{data:null,error:g}}}}catch(c){return Fe(c)?{data:null,error:c}:{data:null,error:new ho("Unexpected error in challenge",c)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},o){if(!r)return{data:null,error:new Cc("rpId is required for WebAuthn authentication")};try{if(!U_())return{data:null,error:new ho("Browser does not support WebAuthn",null)};const{data:c,error:u}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:o});if(!c)return{data:null,error:u};const{webauthn:f}=c;return this._verify({factorId:e,challengeId:c.challengeId,webauthn:{type:f.type,rpId:r,rpOrigins:n,credential_response:f.credential_response}})}catch(c){return Fe(c)?{data:null,error:c}:{data:null,error:new ho("Unexpected error in authenticate",c)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},o){if(!r)return{data:null,error:new Cc("rpId is required for WebAuthn registration")};try{if(!U_())return{data:null,error:new ho("Browser does not support WebAuthn",null)};const{data:c,error:u}=await this._enroll({friendlyName:e});if(!c)return await this.client.mfa.listFactors().then(p=>{var g;return(g=p.data)===null||g===void 0?void 0:g.all.find(v=>v.factor_type==="webauthn"&&v.friendly_name===e&&v.status!=="unverified")}).then(p=>p?this.client.mfa.unenroll({factorId:p?.id}):void 0),{data:null,error:u};const{data:f,error:h}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:o});return f?this._verify({factorId:c.id,challengeId:f.challengeId,webauthn:{rpId:r,rpOrigins:n,type:f.webauthn.type,credential_response:f.webauthn.credential_response}}):{data:null,error:h}}catch(c){return Fe(c)?{data:null,error:c}:{data:null,error:new ho("Unexpected error in register",c)}}}}YF();const p$={url:cF,storageKey:uF,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:dF,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function B_(t,e,r){return await r()}const ga={};class Nc{get jwks(){var e,r;return(r=(e=ga[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){ga[this.storageKey]=Object.assign(Object.assign({},ga[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=ga[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){ga[this.storageKey]=Object.assign(Object.assign({},ga[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},p$),e);if(this.storageKey=o.storageKey,this.instanceID=(r=Nc.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Nc.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&wr()){const c=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(c),this.logDebugMessages&&console.trace(c)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new HF({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=yE(o.fetch),this.lock=o.lock||B_,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,this.lockAcquireTimeout=o.lockAcquireTimeout,o.lock?this.lock=o.lock:this.persistSession&&wr()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=GF:this.lock=B_,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new h$(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:gE()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=V_(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=V_(this.memoryStorage)),wr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${hE}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(wr()&&(r=EF(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),wr()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:o}=await this._getSessionFromURL(r,n);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),yF(o)){const f=(e=o.details)===null||e===void 0?void 0:e.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:o}}return{error:o}}const{session:c,redirectType:u}=s;return this._debug("#_initialize()","detected session in URL",c,"redirect type",u),await this._saveSession(c),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Fe(r)?this._returnResult({error:r}):this._returnResult({error:new ho("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const o=await ze(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e?.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e?.options)===null||s===void 0?void 0:s.captchaToken}},xform:qn}),{data:c,error:u}=o;if(u||!c)return this._returnResult({data:{user:null,session:null},error:u});const f=c.session,h=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:h,session:f},error:null})}catch(o){if(Fe(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(e){var r,n,s;try{let o;if("email"in e){const{email:p,password:g,options:v}=e;let w=null,S=null;this.flowType==="pkce"&&([w,S]=await ha(this.storage,this.storageKey)),o=await ze(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v?.emailRedirectTo,body:{email:p,password:g,data:(r=v?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:v?.captchaToken},code_challenge:w,code_challenge_method:S},xform:qn})}else if("phone"in e){const{phone:p,password:g,options:v}=e;o=await ze(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:g,data:(n=v?.data)!==null&&n!==void 0?n:{},channel:(s=v?.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:v?.captchaToken}},xform:qn})}else throw new _d("You must provide either an email or phone number and a password");const{data:c,error:u}=o;if(u||!c)return await vr(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:u});const f=c.session,h=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:h,session:f},error:null})}catch(o){if(await vr(this.storage,`${this.storageKey}-code-verifier`),Fe(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(e){try{let r;if("email"in e){const{email:o,password:c,options:u}=e;r=await ze(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:c,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:F_})}else if("phone"in e){const{phone:o,password:c,options:u}=e;r=await ze(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:c,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:F_})}else throw new _d("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const o=new fa;return this._returnResult({data:{user:null,session:null},error:o})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(Fe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,s,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,s,o,c,u,f,h,p,g,v;let w,S;if("message"in e)w=e.message,S=e.signature;else{const{chain:b,wallet:j,statement:N,options:E}=e;let k;if(wr())if(typeof j=="object")k=j;else{const R=window;if("ethereum"in R&&typeof R.ethereum=="object"&&"request"in R.ethereum&&typeof R.ethereum.request=="function")k=R.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!E?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=j}const P=new URL((r=E?.url)!==null&&r!==void 0?r:window.location.href),A=await k.request({method:"eth_requestAccounts"}).then(R=>R).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!A||A.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const L=xE(A[0]);let O=(n=E?.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!O){const R=await k.request({method:"eth_chainId"});O=QF(R)}const C={domain:P.host,address:L,statement:N,uri:P.href,version:"1",chainId:O,nonce:(s=E?.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(c=(o=E?.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(u=E?.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(f=E?.signInWithEthereum)===null||f===void 0?void 0:f.notBefore,requestId:(h=E?.signInWithEthereum)===null||h===void 0?void 0:h.requestId,resources:(p=E?.signInWithEthereum)===null||p===void 0?void 0:p.resources};w=XF(C),S=await k.request({method:"personal_sign",params:[ZF(w),L]})}try{const{data:b,error:j}=await ze(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:w,signature:S},!((g=e.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:qn});if(j)throw j;if(!b||!b.session||!b.user){const N=new fa;return this._returnResult({data:{user:null,session:null},error:N})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:j})}catch(b){if(Fe(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async signInWithSolana(e){var r,n,s,o,c,u,f,h,p,g,v,w;let S,b;if("message"in e)S=e.message,b=e.signature;else{const{chain:j,wallet:N,statement:E,options:k}=e;let P;if(wr())if(typeof N=="object")P=N;else{const L=window;if("solana"in L&&typeof L.solana=="object"&&("signIn"in L.solana&&typeof L.solana.signIn=="function"||"signMessage"in L.solana&&typeof L.solana.signMessage=="function"))P=L.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!k?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");P=N}const A=new URL((r=k?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in P&&P.signIn){const L=await P.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},k?.signInWithSolana),{version:"1",domain:A.host,uri:A.href}),E?{statement:E}:null));let O;if(Array.isArray(L)&&L[0]&&typeof L[0]=="object")O=L[0];else if(L&&typeof L=="object"&&"signedMessage"in L&&"signature"in L)O=L;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in O&&"signature"in O&&(typeof O.signedMessage=="string"||O.signedMessage instanceof Uint8Array)&&O.signature instanceof Uint8Array)S=typeof O.signedMessage=="string"?O.signedMessage:new TextDecoder().decode(O.signedMessage),b=O.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in P)||typeof P.signMessage!="function"||!("publicKey"in P)||typeof P!="object"||!P.publicKey||!("toBase58"in P.publicKey)||typeof P.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${A.host} wants you to sign in with your Solana account:`,P.publicKey.toBase58(),...E?["",E,""]:[""],"Version: 1",`URI: ${A.href}`,`Issued At: ${(s=(n=k?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=k?.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${k.signInWithSolana.notBefore}`]:[],...!((c=k?.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${k.signInWithSolana.expirationTime}`]:[],...!((u=k?.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${k.signInWithSolana.chainId}`]:[],...!((f=k?.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${k.signInWithSolana.nonce}`]:[],...!((h=k?.signInWithSolana)===null||h===void 0)&&h.requestId?[`Request ID: ${k.signInWithSolana.requestId}`]:[],...!((g=(p=k?.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||g===void 0)&&g.length?["Resources",...k.signInWithSolana.resources.map(O=>`- ${O}`)]:[]].join(`
`);const L=await P.signMessage(new TextEncoder().encode(S),"utf8");if(!L||!(L instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=L}}try{const{data:j,error:N}=await ze(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:po(b)},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(w=e.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:qn});if(N)throw N;if(!j||!j.session||!j.user){const E=new fa;return this._returnResult({data:{user:null,session:null},error:E})}return j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),this._returnResult({data:Object.assign({},j),error:N})}catch(j){if(Fe(j))return this._returnResult({data:{user:null,session:null},error:j});throw j}}async _exchangeCodeForSession(e){const r=await oo(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new vF;const{data:o,error:c}=await ze(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:qn});if(await vr(this.storage,`${this.storageKey}-code-verifier`),c)throw c;if(!o||!o.session||!o.user){const u=new fa;return this._returnResult({data:{user:null,session:null,redirectType:null},error:u})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:c})}catch(o){if(await vr(this.storage,`${this.storageKey}-code-verifier`),Fe(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:o,nonce:c}=e,u=await ze(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:o,nonce:c,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:qn}),{data:f,error:h}=u;if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!f||!f.session||!f.user){const p=new fa;return this._returnResult({data:{user:null,session:null},error:p})}return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),this._returnResult({data:f,error:h})}catch(r){if(Fe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,s,o,c;try{if("email"in e){const{email:u,options:f}=e;let h=null,p=null;this.flowType==="pkce"&&([h,p]=await ha(this.storage,this.storageKey));const{error:g}=await ze(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(r=f?.data)!==null&&r!==void 0?r:{},create_user:(n=f?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:h,code_challenge_method:p},redirectTo:f?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:g})}if("phone"in e){const{phone:u,options:f}=e,{data:h,error:p}=await ze(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(s=f?.data)!==null&&s!==void 0?s:{},create_user:(o=f?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},channel:(c=f?.channel)!==null&&c!==void 0?c:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:h?.message_id},error:p})}throw new _d("You must provide either an email or phone number.")}catch(u){if(await vr(this.storage,`${this.storageKey}-code-verifier`),Fe(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async verifyOtp(e){var r,n;try{let s,o;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,o=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:c,error:u}=await ze(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:qn});if(u)throw u;if(!c)throw new Error("An error occurred on token verification.");const f=c.session,h=c.user;return f?.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),this._returnResult({data:{user:h,session:f},error:null})}catch(s){if(Fe(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(e){var r,n,s,o,c;try{let u=null,f=null;this.flowType==="pkce"&&([u,f]=await ha(this.storage,this.storageKey));const h=await ze(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e?.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:f}),headers:this.headers,xform:zF});return!((o=h.data)===null||o===void 0)&&o.url&&wr()&&!(!((c=e.options)===null||c===void 0)&&c.skipBrowserRedirect)&&window.location.assign(h.data.url),this._returnResult(h)}catch(u){if(await vr(this.storage,`${this.storageKey}-code-verifier`),Fe(u))return this._returnResult({data:null,error:u});throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new dn;const{error:s}=await ze(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(e){if(Fe(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:o}=e,{error:c}=await ze(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:o?.captchaToken}},redirectTo:o?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:c})}else if("phone"in e){const{phone:n,type:s,options:o}=e,{data:c,error:u}=await ze(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:o?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:c?.message_id},error:u})}throw new _d("You must provide either an email or phone number and a type")}catch(r){if(Fe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await oo(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Sm:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const c=await oo(this.userStorage,this.storageKey+"-user");c?.user?e.user=c.user:e.user=Em()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const c={value:this.suppressGetSessionWarning};e.user=$F(e.user,c),c.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:s,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await ze(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:wi}):await this._useSession(async r=>{var n,s,o;const{data:c,error:u}=r;if(u)throw u;return!(!((n=c.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new dn}:await ze(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=c.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:wi})})}catch(r){if(Fe(r))return gF(r)&&(await this._removeSession(),await vr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:o}=n;if(o)throw o;if(!s.session)throw new dn;const c=s.session;let u=null,f=null;this.flowType==="pkce"&&e.email!=null&&([u,f]=await ha(this.storage,this.storageKey));const{data:h,error:p}=await ze(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:u,code_challenge_method:f}),jwt:c.access_token,xform:wi});if(p)throw p;return c.user=h.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),this._returnResult({data:{user:c.user},error:null})})}catch(n){if(await vr(this.storage,`${this.storageKey}-code-verifier`),Fe(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new dn;const r=Date.now()/1e3;let n=r,s=!0,o=null;const{payload:c}=km(e.access_token);if(c.exp&&(n=c.exp,s=n<=r),s){const{data:u,error:f}=await this._callRefreshToken(e.refresh_token);if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!u)return{data:{user:null,session:null},error:null};o=u}else{const{data:u,error:f}=await this._getUser(e.access_token);if(f)throw f;o={access_token:e.access_token,refresh_token:e.refresh_token,user:u.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(r){if(Fe(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:c,error:u}=r;if(u)throw u;e=(n=c.session)!==null&&n!==void 0?n:void 0}if(!e?.refresh_token)throw new dn;const{data:s,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Fe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!wr())throw new Sd("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Sd(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new P_("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Sd("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new P_("No code detected.");const{data:E,error:k}=await this._exchangeCodeForSession(e.code);if(k)throw k;const P=new URL(window.location.href);return P.searchParams.delete("code"),window.history.replaceState(window.history.state,"",P.toString()),{data:{session:E.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:o,refresh_token:c,expires_in:u,expires_at:f,token_type:h}=e;if(!o||!u||!c||!h)throw new Sd("No session defined in URL");const p=Math.round(Date.now()/1e3),g=parseInt(u);let v=p+g;f&&(v=parseInt(f));const w=v-p;w*1e3<=Sa&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${g}s`);const S=v-g;p-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,v,p):p-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,v,p);const{data:b,error:j}=await this._getUser(o);if(j)throw j;const N={provider_token:n,provider_refresh_token:s,access_token:o,expires_in:g,expires_at:v,refresh_token:c,token_type:h,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:N,redirectType:e.type},error:null})}catch(n){if(Fe(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await oo(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return this._returnResult({error:o});const c=(n=s.session)===null||n===void 0?void 0:n.access_token;if(c){const{error:u}=await this.admin.signOut(c,e);if(u&&!(mF(u)&&(u.status===404||u.status===401||u.status===403)))return this._returnResult({error:u})}return e!=="others"&&(await this._removeSession(),await vr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=kF(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:o},error:c}=r;if(c)throw c;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await ha(this.storage,this.storageKey,!0));try{return await ze(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(o){if(await vr(this.storage,`${this.storageKey}-code-verifier`),Fe(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(Fe(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:s}=await this._useSession(async o=>{var c,u,f,h,p;const{data:g,error:v}=o;if(v)throw v;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(c=e.options)===null||c===void 0?void 0:c.redirectTo,scopes:(u=e.options)===null||u===void 0?void 0:u.scopes,queryParams:(f=e.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await ze(this.fetch,"GET",w,{headers:this.headers,jwt:(p=(h=g.session)===null||h===void 0?void 0:h.access_token)!==null&&p!==void 0?p:void 0})});if(s)throw s;return wr()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n?.url),this._returnResult({data:{provider:e.provider,url:n?.url},error:null})}catch(n){if(Fe(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:o}}=r;if(s)throw s;const{options:c,provider:u,token:f,access_token:h,nonce:p}=e,g=await ze(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=o?.access_token)!==null&&n!==void 0?n:void 0,body:{provider:u,id_token:f,access_token:h,nonce:p,link_identity:!0,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:qn}),{data:v,error:w}=g;return w?this._returnResult({data:{user:null,session:null},error:w}):!v||!v.session||!v.user?this._returnResult({data:{user:null,session:null},error:new fa}):(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("USER_UPDATED",v.session)),this._returnResult({data:v,error:w}))}catch(s){if(await vr(this.storage,`${this.storageKey}-code-verifier`),Fe(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:o,error:c}=r;if(c)throw c;return await ze(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(Fe(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await TF(async s=>(s>0&&await NF(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await ze(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:qn})),(s,o)=>{const c=200*Math.pow(2,s);return o&&jm(o)&&Date.now()+c-n<Sa})}catch(n){if(this._debug(r,"error",n),Fe(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),wr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await oo(this.storage,this.storageKey);if(s&&this.userStorage){let c=await oo(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:s.user},await ja(this.userStorage,this.storageKey+"-user",c)),s.user=(e=c?.user)!==null&&e!==void 0?e:Em()}else if(s&&!s.user&&!s.user){const c=await oo(this.storage,this.storageKey+"-user");c&&c?.user?(s.user=c.user,await vr(this.storage,this.storageKey+"-user"),await ja(this.storage,this.storageKey,s)):s.user=Em()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const o=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Sm;if(this._debug(n,`session has${o?"":" not"} expired with margin of ${Sm}s`),o){if(this.autoRefreshToken&&s.refresh_token){const{error:c}=await this._callRefreshToken(s.refresh_token);c&&(console.error(c),jm(c)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:u}=await this._getUser(s.access_token);!u&&c?.user?(s.user=c.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(n,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new dn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Yf;const{data:o,error:c}=await this._refreshAccessToken(e);if(c)throw c;if(!o.session)throw new dn;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const u={data:o.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(o){if(this._debug(s,"error",o),Fe(o)){const c={data:null,error:o};return jm(o)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(c),c}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const o=[],c=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(e,r)}catch(f){o.push(f)}});if(await Promise.all(c),o.length>0){for(let u=0;u<o.length;u+=1)console.error(o[u]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await vr(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await ja(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const o=D_(s);await ja(this.storage,this.storageKey,o)}else{const s=D_(r);await ja(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await vr(this.storage,this.storageKey),await vr(this.storage,this.storageKey+"-code-verifier"),await vr(this.storage,this.storageKey+"-user"),this.userStorage&&await vr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&wr()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Sa);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/Sa);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Sa}ms, refresh threshold is ${Pg} ticks`),s<=Pg&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof vE)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!wr()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n?.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[o,c]=await ha(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(c)}`});s.push(u.toString())}if(n?.queryParams){const o=new URLSearchParams(n.queryParams);s.push(o.toString())}return n?.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;return o?this._returnResult({data:null,error:o}):await ze(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Fe(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:o,error:c}=r;if(c)return this._returnResult({data:null,error:c});const u=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:f,error:h}=await ze(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(n=o?.session)===null||n===void 0?void 0:n.access_token});return h?this._returnResult({data:null,error:h}):(e.factorType==="totp"&&f.type==="totp"&&(!((s=f?.totp)===null||s===void 0)&&s.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),this._returnResult({data:f,error:null}))})}catch(r){if(Fe(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return this._returnResult({data:null,error:o});const c=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?i$(e.webauthn.credential_response):o$(e.webauthn.credential_response)})}:{code:e.code}),{data:u,error:f}=await ze(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:c,headers:this.headers,jwt:(n=s?.session)===null||n===void 0?void 0:n.access_token});return f?this._returnResult({data:null,error:f}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),this._returnResult({data:u,error:f}))})}catch(r){if(Fe(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return this._returnResult({data:null,error:o});const c=await ze(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=s?.session)===null||n===void 0?void 0:n.access_token});if(c.error)return c;const{data:u}=c;if(u.type!=="webauthn")return{data:u,error:null};switch(u.webauthn.type){case"create":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:n$(u.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:s$(u.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Fe(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const o of(e=r?.factors)!==null&&e!==void 0?e:[])s.all.push(o),o.status==="verified"&&s[o.factor_type].push(o);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:n},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=km(n.access_token);let c=null;o.aal&&(c=o.aal);let u=c;((r=(e=n.user.factors)===null||e===void 0?void 0:e.filter(p=>p.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(u="aal2");const h=o.amr||[];return{data:{currentLevel:c,nextLevel:u,currentAuthenticationMethods:h},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await ze(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new dn})})}catch(r){if(Fe(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:o}=n;if(o)return this._returnResult({data:null,error:o});if(!s)return this._returnResult({data:null,error:new dn});const c=await ze(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:u=>({data:u,error:null})});return c.data&&c.data.redirect_url&&wr()&&!r?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(n){if(Fe(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:o}=n;if(o)return this._returnResult({data:null,error:o});if(!s)return this._returnResult({data:null,error:new dn});const c=await ze(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:u=>({data:u,error:null})});return c.data&&c.data.redirect_url&&wr()&&!r?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(n){if(Fe(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;return n?this._returnResult({data:null,error:n}):r?await ze(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new dn})})}catch(e){if(Fe(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?(await ze(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new dn})})}catch(r){if(Fe(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(u=>u.kid===e);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(u=>u.kid===e),n&&this.jwks_cached_at+hF>s)return n;const{data:o,error:c}=await ze(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=s,n=o.keys.find(u=>u.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:w,error:S}=await this.getSession();if(S||!w.session)return this._returnResult({data:null,error:S});n=w.session.access_token}const{header:s,payload:o,signature:c,raw:{header:u,payload:f}}=km(n);r?.allowExpired||DF(o.exp);const h=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!h){const{error:w}=await this.getUser(n);if(w)throw w;return{data:{claims:o,header:s,signature:c},error:null}}const p=LF(s.alg),g=await crypto.subtle.importKey("jwk",h,p,!0,["verify"]);if(!await crypto.subtle.verify(p,g,c,SF(`${u}.${f}`)))throw new Ig("Invalid JWT signature");return{data:{claims:o,header:s,signature:c},error:null}}catch(n){if(Fe(n))return this._returnResult({data:null,error:n});throw n}}}Nc.nextInstanceID={};const m$=Nc,g$="2.90.1";let ec="";typeof Deno<"u"?ec="deno":typeof document<"u"?ec="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ec="react-native":ec="node";const y$={"X-Client-Info":`supabase-js-${ec}/${g$}`},v$={headers:y$},x$={schema:"public"},w$={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},b$={};function Tc(t){"@babel/helpers - typeof";return Tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tc(t)}function _$(t,e){if(Tc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Tc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function S$(t){var e=_$(t,"string");return Tc(e)=="symbol"?e:e+""}function j$(t,e,r){return(e=S$(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function z_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Lt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?z_(Object(r),!0).forEach(function(n){j$(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):z_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const k$=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),E$=()=>Headers,C$=(t,e,r)=>{const n=k$(r),s=E$();return async(o,c)=>{var u;const f=(u=await e())!==null&&u!==void 0?u:t;let h=new s(c?.headers);return h.has("apikey")||h.set("apikey",t),h.has("Authorization")||h.set("Authorization",`Bearer ${f}`),n(o,Lt(Lt({},c),{},{headers:h}))}};function N$(t){return t.endsWith("/")?t:t+"/"}function T$(t,e){var r,n;const{db:s,auth:o,realtime:c,global:u}=t,{db:f,auth:h,realtime:p,global:g}=e,v={db:Lt(Lt({},f),s),auth:Lt(Lt({},h),o),realtime:Lt(Lt({},p),c),storage:{},global:Lt(Lt(Lt({},g),u),{},{headers:Lt(Lt({},(r=g?.headers)!==null&&r!==void 0?r:{}),(n=u?.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?v.accessToken=t.accessToken:delete v.accessToken,v}function R$(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(N$(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var P$=class extends m${constructor(t){super(t)}},A$=class{constructor(t,e,r){var n,s;this.supabaseUrl=t,this.supabaseKey=e;const o=R$(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const c=`sb-${o.hostname.split(".")[0]}-auth-token`,u={db:x$,realtime:b$,auth:Lt(Lt({},w$),{},{storageKey:c}),global:v$},f=T$(r??{},u);if(this.storageKey=(n=f.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(s=f.global.headers)!==null&&s!==void 0?s:{},f.accessToken)this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(p,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}});else{var h;this.auth=this._initSupabaseAuthClient((h=f.auth)!==null&&h!==void 0?h:{},this.headers,f.global.fetch)}this.fetch=C$(e,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Lt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.accessToken&&this.accessToken().then(p=>this.realtime.setAuth(p)).catch(p=>console.warn("Failed to set initial Realtime auth token:",p)),this.rest=new d3(new URL("rest/v1",o).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new lF(this.storageUrl.href,this.headers,this.fetch,r?.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new o3(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,r)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,r;if(t.accessToken)return await t.accessToken();const{data:n}=await t.auth.getSession();return(e=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:s,storageKey:o,flowType:c,lock:u,debug:f,throwOnError:h},p,g){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new P$({url:this.authUrl.href,headers:Lt(Lt({},v),p),storageKey:o,autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:s,flowType:c,lock:u,debug:f,throwOnError:h,fetch:g,hasCustomAuthorizationHeader:Object.keys(this.headers).some(w=>w.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new N3(this.realtimeUrl.href,Lt(Lt({},t),{},{params:Lt(Lt({},{apikey:this.supabaseKey}),t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e?.access_token)})}_handleTokenChanged(t,e,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const O$=(t,e,r)=>new A$(t,e,r);function I$(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const r=e.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}I$()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const M$="",D$="",Ye=O$(M$,D$,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),bE=y.createContext(void 0),L$=({children:t})=>{const[e,r]=y.useState(null),[n,s]=y.useState(null),[o,c]=y.useState(null),[u,f]=y.useState(!0),[h,p]=y.useState(!1),[g,v]=y.useState(!1),w=async C=>{const{data:R,error:M}=await Ye.from("users").select("*").eq("user_id",C).maybeSingle();!M&&R&&c(R)},S=async C=>{const{data:R,error:M}=await Ye.from("user_roles").select("role").eq("user_id",C);if(!M&&R){const H=R.map(V=>V.role);p(H.includes("admin")),v(H.includes("operador"))}else p(!1),v(!1)};y.useEffect(()=>{const{data:{subscription:C}}=Ye.auth.onAuthStateChange((R,M)=>{s(M),r(M?.user??null),M?.user?setTimeout(()=>{w(M.user.id),S(M.user.id)},0):(c(null),p(!1),v(!1)),f(!1)});return Ye.auth.getSession().then(({data:{session:R}})=>{s(R),r(R?.user??null),R?.user&&(w(R.user.id),S(R.user.id)),f(!1)}),()=>C.unsubscribe()},[]);const b=async(C,R,M)=>{const H=`${window.location.origin}/`,{error:V}=await Ye.auth.signUp({email:C,password:R,options:{emailRedirectTo:H,data:{full_name:M}}});return{error:V}},j=async(C,R)=>{const{error:M}=await Ye.auth.signInWithPassword({email:C,password:R});return{error:M}},N=async()=>{const{error:C}=await Ye.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/`}});return{error:C}},E=async()=>{await Ye.auth.signOut(),r(null),s(null),c(null),p(!1),v(!1)},k=async C=>{const{error:R}=await Ye.auth.resetPasswordForEmail(C,{redirectTo:`${window.location.origin}/auth?type=recovery`});return{error:R}},P=async C=>{const{error:R}=await Ye.auth.updateUser({password:C});return{error:R}},A=async()=>{if(!e)return{error:new Error("No user logged in")};try{const{data:C,error:R}=await Ye.functions.invoke("delete-user");return R?{error:new Error(R.message||"Failed to delete account")}:C?.error?{error:new Error(C.error)}:(r(null),s(null),c(null),p(!1),v(!1),{error:null})}catch(C){return{error:C}}},L=async()=>{e&&await w(e.id)},O=async C=>{if(!e)return{error:new Error("No user logged in")};const{error:R}=await Ye.from("users").update(C).eq("user_id",e.id);return R||await w(e.id),{error:R}};return a.jsx(bE.Provider,{value:{user:e,session:n,profile:o,isLoading:u,isAdmin:h,isOperador:g,signUp:b,signIn:j,signInWithGoogle:N,signOut:E,refreshProfile:L,resetPassword:k,updateUserPassword:P,deleteUserAccount:A,updateProfile:O},children:t})},sr=()=>{const t=y.useContext(bE);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},gv=y.createContext({});function yv(t){const e=y.useRef(null);return e.current===null&&(e.current=t()),e.current}const _E=typeof window<"u",SE=_E?y.useLayoutEffect:y.useEffect,Qf=y.createContext(null);function vv(t,e){t.indexOf(e)===-1&&t.push(e)}function xv(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}const Ss=(t,e,r)=>r>e?e:r<t?t:r;let wv=()=>{};const Bs={},jE=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function kE(t){return typeof t=="object"&&t!==null}const EE=t=>/^0[^.\s]+$/u.test(t);function bv(t){let e;return()=>(e===void 0&&(e=t()),e)}const Pn=t=>t,F$=(t,e)=>r=>e(t(r)),Gc=(...t)=>t.reduce(F$),Rc=(t,e,r)=>{const n=e-t;return n===0?1:(r-t)/n};class _v{constructor(){this.subscriptions=[]}add(e){return vv(this.subscriptions,e),()=>xv(this.subscriptions,e)}notify(e,r,n){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,r,n);else for(let o=0;o<s;o++){const c=this.subscriptions[o];c&&c(e,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const $s=t=>t*1e3,Tn=t=>t/1e3;function CE(t,e){return e?t*(1e3/e):0}const NE=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,$$=1e-7,V$=12;function U$(t,e,r,n,s){let o,c,u=0;do c=e+(r-e)/2,o=NE(c,n,s)-t,o>0?r=c:e=c;while(Math.abs(o)>$$&&++u<V$);return c}function Yc(t,e,r,n){if(t===e&&r===n)return Pn;const s=o=>U$(o,0,1,t,r);return o=>o===0||o===1?o:NE(s(o),e,n)}const TE=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,RE=t=>e=>1-t(1-e),PE=Yc(.33,1.53,.69,.99),Sv=RE(PE),AE=TE(Sv),OE=t=>(t*=2)<1?.5*Sv(t):.5*(2-Math.pow(2,-10*(t-1))),jv=t=>1-Math.sin(Math.acos(t)),IE=RE(jv),ME=TE(jv),B$=Yc(.42,0,1,1),z$=Yc(0,0,.58,1),DE=Yc(.42,0,.58,1),W$=t=>Array.isArray(t)&&typeof t[0]!="number",LE=t=>Array.isArray(t)&&typeof t[0]=="number",q$={linear:Pn,easeIn:B$,easeInOut:DE,easeOut:z$,circIn:jv,circInOut:ME,circOut:IE,backIn:Sv,backInOut:AE,backOut:PE,anticipate:OE},H$=t=>typeof t=="string",W_=t=>{if(LE(t)){wv(t.length===4);const[e,r,n,s]=t;return Yc(e,r,n,s)}else if(H$(t))return q$[t];return t},jd=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function K$(t,e){let r=new Set,n=new Set,s=!1,o=!1;const c=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function f(p){c.has(p)&&(h.schedule(p),t()),p(u)}const h={schedule:(p,g=!1,v=!1)=>{const S=v&&s?r:n;return g&&c.add(p),S.has(p)||S.add(p),p},cancel:p=>{n.delete(p),c.delete(p)},process:p=>{if(u=p,s){o=!0;return}s=!0,[r,n]=[n,r],r.forEach(f),r.clear(),s=!1,o&&(o=!1,h.process(p))}};return h}const G$=40;function FE(t,e){let r=!1,n=!0;const s={delta:0,timestamp:0,isProcessing:!1},o=()=>r=!0,c=jd.reduce((k,P)=>(k[P]=K$(o),k),{}),{setup:u,read:f,resolveKeyframes:h,preUpdate:p,update:g,preRender:v,render:w,postRender:S}=c,b=()=>{const k=Bs.useManualTiming?s.timestamp:performance.now();r=!1,Bs.useManualTiming||(s.delta=n?1e3/60:Math.max(Math.min(k-s.timestamp,G$),1)),s.timestamp=k,s.isProcessing=!0,u.process(s),f.process(s),h.process(s),p.process(s),g.process(s),v.process(s),w.process(s),S.process(s),s.isProcessing=!1,r&&e&&(n=!1,t(b))},j=()=>{r=!0,n=!0,s.isProcessing||t(b)};return{schedule:jd.reduce((k,P)=>{const A=c[P];return k[P]=(L,O=!1,C=!1)=>(r||j(),A.schedule(L,O,C)),k},{}),cancel:k=>{for(let P=0;P<jd.length;P++)c[jd[P]].cancel(k)},state:s,steps:c}}const{schedule:Tt,cancel:Mi,state:_r,steps:Nm}=FE(typeof requestAnimationFrame<"u"?requestAnimationFrame:Pn,!0);let Fd;function Y$(){Fd=void 0}const Vr={now:()=>(Fd===void 0&&Vr.set(_r.isProcessing||Bs.useManualTiming?_r.timestamp:performance.now()),Fd),set:t=>{Fd=t,queueMicrotask(Y$)}},$E=t=>e=>typeof e=="string"&&e.startsWith(t),VE=$E("--"),Q$=$E("var(--"),kv=t=>Q$(t)?Z$.test(t.split("/*")[0].trim()):!1,Z$=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function q_(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const sl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Pc={...sl,transform:t=>Ss(0,1,t)},kd={...sl,default:1},dc=t=>Math.round(t*1e5)/1e5,Ev=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function X$(t){return t==null}const J$=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Cv=(t,e)=>r=>!!(typeof r=="string"&&J$.test(r)&&r.startsWith(t)||e&&!X$(r)&&Object.prototype.hasOwnProperty.call(r,e)),UE=(t,e,r)=>n=>{if(typeof n!="string")return n;const[s,o,c,u]=n.match(Ev);return{[t]:parseFloat(s),[e]:parseFloat(o),[r]:parseFloat(c),alpha:u!==void 0?parseFloat(u):1}},eV=t=>Ss(0,255,t),Tm={...sl,transform:t=>Math.round(eV(t))},mo={test:Cv("rgb","red"),parse:UE("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+Tm.transform(t)+", "+Tm.transform(e)+", "+Tm.transform(r)+", "+dc(Pc.transform(n))+")"};function tV(t){let e="",r="",n="",s="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),n=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),n=t.substring(3,4),s=t.substring(4,5),e+=e,r+=r,n+=n,s+=s),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:s?parseInt(s,16)/255:1}}const Mg={test:Cv("#"),parse:tV,transform:mo.transform},Qc=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),gi=Qc("deg"),ws=Qc("%"),Te=Qc("px"),rV=Qc("vh"),nV=Qc("vw"),H_={...ws,parse:t=>ws.parse(t)/100,transform:t=>ws.transform(t*100)},Ca={test:Cv("hsl","hue"),parse:UE("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+ws.transform(dc(e))+", "+ws.transform(dc(r))+", "+dc(Pc.transform(n))+")"},Kt={test:t=>mo.test(t)||Mg.test(t)||Ca.test(t),parse:t=>mo.test(t)?mo.parse(t):Ca.test(t)?Ca.parse(t):Mg.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?mo.transform(t):Ca.transform(t),getAnimatableNone:t=>{const e=Kt.parse(t);return e.alpha=0,Kt.transform(e)}},sV=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function iV(t){return isNaN(t)&&typeof t=="string"&&(t.match(Ev)?.length||0)+(t.match(sV)?.length||0)>0}const BE="number",zE="color",oV="var",aV="var(",K_="${}",lV=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ac(t){const e=t.toString(),r=[],n={color:[],number:[],var:[]},s=[];let o=0;const u=e.replace(lV,f=>(Kt.test(f)?(n.color.push(o),s.push(zE),r.push(Kt.parse(f))):f.startsWith(aV)?(n.var.push(o),s.push(oV),r.push(f)):(n.number.push(o),s.push(BE),r.push(parseFloat(f))),++o,K_)).split(K_);return{values:r,split:u,indexes:n,types:s}}function WE(t){return Ac(t).values}function qE(t){const{split:e,types:r}=Ac(t),n=e.length;return s=>{let o="";for(let c=0;c<n;c++)if(o+=e[c],s[c]!==void 0){const u=r[c];u===BE?o+=dc(s[c]):u===zE?o+=Kt.transform(s[c]):o+=s[c]}return o}}const cV=t=>typeof t=="number"?0:Kt.test(t)?Kt.getAnimatableNone(t):t;function uV(t){const e=WE(t);return qE(t)(e.map(cV))}const Di={test:iV,parse:WE,createTransformer:qE,getAnimatableNone:uV};function Rm(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function dV({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,e/=100,r/=100;let s=0,o=0,c=0;if(!e)s=o=c=r;else{const u=r<.5?r*(1+e):r+e-r*e,f=2*r-u;s=Rm(f,u,t+1/3),o=Rm(f,u,t),c=Rm(f,u,t-1/3)}return{red:Math.round(s*255),green:Math.round(o*255),blue:Math.round(c*255),alpha:n}}function sf(t,e){return r=>r>0?e:t}const Mt=(t,e,r)=>t+(e-t)*r,Pm=(t,e,r)=>{const n=t*t,s=r*(e*e-n)+n;return s<0?0:Math.sqrt(s)},fV=[Mg,mo,Ca],hV=t=>fV.find(e=>e.test(t));function G_(t){const e=hV(t);if(!e)return!1;let r=e.parse(t);return e===Ca&&(r=dV(r)),r}const Y_=(t,e)=>{const r=G_(t),n=G_(e);if(!r||!n)return sf(t,e);const s={...r};return o=>(s.red=Pm(r.red,n.red,o),s.green=Pm(r.green,n.green,o),s.blue=Pm(r.blue,n.blue,o),s.alpha=Mt(r.alpha,n.alpha,o),mo.transform(s))},Dg=new Set(["none","hidden"]);function pV(t,e){return Dg.has(t)?r=>r<=0?t:e:r=>r>=1?e:t}function mV(t,e){return r=>Mt(t,e,r)}function Nv(t){return typeof t=="number"?mV:typeof t=="string"?kv(t)?sf:Kt.test(t)?Y_:vV:Array.isArray(t)?HE:typeof t=="object"?Kt.test(t)?Y_:gV:sf}function HE(t,e){const r=[...t],n=r.length,s=t.map((o,c)=>Nv(o)(o,e[c]));return o=>{for(let c=0;c<n;c++)r[c]=s[c](o);return r}}function gV(t,e){const r={...t,...e},n={};for(const s in r)t[s]!==void 0&&e[s]!==void 0&&(n[s]=Nv(t[s])(t[s],e[s]));return s=>{for(const o in n)r[o]=n[o](s);return r}}function yV(t,e){const r=[],n={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],c=t.indexes[o][n[o]],u=t.values[c]??0;r[s]=u,n[o]++}return r}const vV=(t,e)=>{const r=Di.createTransformer(e),n=Ac(t),s=Ac(e);return n.indexes.var.length===s.indexes.var.length&&n.indexes.color.length===s.indexes.color.length&&n.indexes.number.length>=s.indexes.number.length?Dg.has(t)&&!s.values.length||Dg.has(e)&&!n.values.length?pV(t,e):Gc(HE(yV(n,s),s.values),r):sf(t,e)};function KE(t,e,r){return typeof t=="number"&&typeof e=="number"&&typeof r=="number"?Mt(t,e,r):Nv(t)(t,e)}const xV=t=>{const e=({timestamp:r})=>t(r);return{start:(r=!0)=>Tt.update(e,r),stop:()=>Mi(e),now:()=>_r.isProcessing?_r.timestamp:Vr.now()}},GE=(t,e,r=10)=>{let n="";const s=Math.max(Math.round(e/r),2);for(let o=0;o<s;o++)n+=Math.round(t(o/(s-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},of=2e4;function Tv(t){let e=0;const r=50;let n=t.next(e);for(;!n.done&&e<of;)e+=r,n=t.next(e);return e>=of?1/0:e}function wV(t,e=100,r){const n=r({...t,keyframes:[0,e]}),s=Math.min(Tv(n),of);return{type:"keyframes",ease:o=>n.next(s*o).value/e,duration:Tn(s)}}const bV=5;function YE(t,e,r){const n=Math.max(e-bV,0);return CE(r-t(n),e-n)}const Ft={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Am=.001;function _V({duration:t=Ft.duration,bounce:e=Ft.bounce,velocity:r=Ft.velocity,mass:n=Ft.mass}){let s,o,c=1-e;c=Ss(Ft.minDamping,Ft.maxDamping,c),t=Ss(Ft.minDuration,Ft.maxDuration,Tn(t)),c<1?(s=h=>{const p=h*c,g=p*t,v=p-r,w=Lg(h,c),S=Math.exp(-g);return Am-v/w*S},o=h=>{const g=h*c*t,v=g*r+r,w=Math.pow(c,2)*Math.pow(h,2)*t,S=Math.exp(-g),b=Lg(Math.pow(h,2),c);return(-s(h)+Am>0?-1:1)*((v-w)*S)/b}):(s=h=>{const p=Math.exp(-h*t),g=(h-r)*t+1;return-Am+p*g},o=h=>{const p=Math.exp(-h*t),g=(r-h)*(t*t);return p*g});const u=5/t,f=jV(s,o,u);if(t=$s(t),isNaN(f))return{stiffness:Ft.stiffness,damping:Ft.damping,duration:t};{const h=Math.pow(f,2)*n;return{stiffness:h,damping:c*2*Math.sqrt(n*h),duration:t}}}const SV=12;function jV(t,e,r){let n=r;for(let s=1;s<SV;s++)n=n-t(n)/e(n);return n}function Lg(t,e){return t*Math.sqrt(1-e*e)}const kV=["duration","bounce"],EV=["stiffness","damping","mass"];function Q_(t,e){return e.some(r=>t[r]!==void 0)}function CV(t){let e={velocity:Ft.velocity,stiffness:Ft.stiffness,damping:Ft.damping,mass:Ft.mass,isResolvedFromDuration:!1,...t};if(!Q_(t,EV)&&Q_(t,kV))if(t.visualDuration){const r=t.visualDuration,n=2*Math.PI/(r*1.2),s=n*n,o=2*Ss(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:Ft.mass,stiffness:s,damping:o}}else{const r=_V(t);e={...e,...r,mass:Ft.mass},e.isResolvedFromDuration=!0}return e}function af(t=Ft.visualDuration,e=Ft.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:n,restDelta:s}=r;const o=r.keyframes[0],c=r.keyframes[r.keyframes.length-1],u={done:!1,value:o},{stiffness:f,damping:h,mass:p,duration:g,velocity:v,isResolvedFromDuration:w}=CV({...r,velocity:-Tn(r.velocity||0)}),S=v||0,b=h/(2*Math.sqrt(f*p)),j=c-o,N=Tn(Math.sqrt(f/p)),E=Math.abs(j)<5;n||(n=E?Ft.restSpeed.granular:Ft.restSpeed.default),s||(s=E?Ft.restDelta.granular:Ft.restDelta.default);let k;if(b<1){const A=Lg(N,b);k=L=>{const O=Math.exp(-b*N*L);return c-O*((S+b*N*j)/A*Math.sin(A*L)+j*Math.cos(A*L))}}else if(b===1)k=A=>c-Math.exp(-N*A)*(j+(S+N*j)*A);else{const A=N*Math.sqrt(b*b-1);k=L=>{const O=Math.exp(-b*N*L),C=Math.min(A*L,300);return c-O*((S+b*N*j)*Math.sinh(C)+A*j*Math.cosh(C))/A}}const P={calculatedDuration:w&&g||null,next:A=>{const L=k(A);if(w)u.done=A>=g;else{let O=A===0?S:0;b<1&&(O=A===0?$s(S):YE(k,A,L));const C=Math.abs(O)<=n,R=Math.abs(c-L)<=s;u.done=C&&R}return u.value=u.done?c:L,u},toString:()=>{const A=Math.min(Tv(P),of),L=GE(O=>P.next(A*O).value,A,30);return A+"ms "+L},toTransition:()=>{}};return P}af.applyToOptions=t=>{const e=wV(t,100,af);return t.ease=e.ease,t.duration=$s(e.duration),t.type="keyframes",t};function Fg({keyframes:t,velocity:e=0,power:r=.8,timeConstant:n=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:c,min:u,max:f,restDelta:h=.5,restSpeed:p}){const g=t[0],v={done:!1,value:g},w=C=>u!==void 0&&C<u||f!==void 0&&C>f,S=C=>u===void 0?f:f===void 0||Math.abs(u-C)<Math.abs(f-C)?u:f;let b=r*e;const j=g+b,N=c===void 0?j:c(j);N!==j&&(b=N-g);const E=C=>-b*Math.exp(-C/n),k=C=>N+E(C),P=C=>{const R=E(C),M=k(C);v.done=Math.abs(R)<=h,v.value=v.done?N:M};let A,L;const O=C=>{w(v.value)&&(A=C,L=af({keyframes:[v.value,S(v.value)],velocity:YE(k,C,v.value),damping:s,stiffness:o,restDelta:h,restSpeed:p}))};return O(0),{calculatedDuration:null,next:C=>{let R=!1;return!L&&A===void 0&&(R=!0,P(C),O(C)),A!==void 0&&C>=A?L.next(C-A):(!R&&P(C),v)}}}function NV(t,e,r){const n=[],s=r||Bs.mix||KE,o=t.length-1;for(let c=0;c<o;c++){let u=s(t[c],t[c+1]);if(e){const f=Array.isArray(e)?e[c]||Pn:e;u=Gc(f,u)}n.push(u)}return n}function TV(t,e,{clamp:r=!0,ease:n,mixer:s}={}){const o=t.length;if(wv(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const u=NV(e,n,s),f=u.length,h=p=>{if(c&&p<t[0])return e[0];let g=0;if(f>1)for(;g<t.length-2&&!(p<t[g+1]);g++);const v=Rc(t[g],t[g+1],p);return u[g](v)};return r?p=>h(Ss(t[0],t[o-1],p)):h}function RV(t,e){const r=t[t.length-1];for(let n=1;n<=e;n++){const s=Rc(0,e,n);t.push(Mt(r,1,s))}}function PV(t){const e=[0];return RV(e,t.length-1),e}function AV(t,e){return t.map(r=>r*e)}function OV(t,e){return t.map(()=>e||DE).splice(0,t.length-1)}function fc({duration:t=300,keyframes:e,times:r,ease:n="easeInOut"}){const s=W$(n)?n.map(W_):W_(n),o={done:!1,value:e[0]},c=AV(r&&r.length===e.length?r:PV(e),t),u=TV(c,e,{ease:Array.isArray(s)?s:OV(e,s)});return{calculatedDuration:t,next:f=>(o.value=u(f),o.done=f>=t,o)}}const IV=t=>t!==null;function Rv(t,{repeat:e,repeatType:r="loop"},n,s=1){const o=t.filter(IV),u=s<0||e&&r!=="loop"&&e%2===1?0:o.length-1;return!u||n===void 0?o[u]:n}const MV={decay:Fg,inertia:Fg,tween:fc,keyframes:fc,spring:af};function QE(t){typeof t.type=="string"&&(t.type=MV[t.type])}class Pv{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,r){return this.finished.then(e,r)}}const DV=t=>t/100;class Av extends Pv{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:r}=this.options;r&&r.updatedAt!==Vr.now()&&this.tick(Vr.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;QE(e);const{type:r=fc,repeat:n=0,repeatDelay:s=0,repeatType:o,velocity:c=0}=e;let{keyframes:u}=e;const f=r||fc;f!==fc&&typeof u[0]!="number"&&(this.mixKeyframes=Gc(DV,KE(u[0],u[1])),u=[0,100]);const h=f({...e,keyframes:u});o==="mirror"&&(this.mirroredGenerator=f({...e,keyframes:[...u].reverse(),velocity:-c})),h.calculatedDuration===null&&(h.calculatedDuration=Tv(h));const{calculatedDuration:p}=h;this.calculatedDuration=p,this.resolvedDuration=p+s,this.totalDuration=this.resolvedDuration*(n+1)-s,this.generator=h}updateTime(e){const r=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(e,r=!1){const{generator:n,totalDuration:s,mixKeyframes:o,mirroredGenerator:c,resolvedDuration:u,calculatedDuration:f}=this;if(this.startTime===null)return n.next(0);const{delay:h=0,keyframes:p,repeat:g,repeatType:v,repeatDelay:w,type:S,onUpdate:b,finalKeyframe:j}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),r?this.currentTime=e:this.updateTime(e);const N=this.currentTime-h*(this.playbackSpeed>=0?1:-1),E=this.playbackSpeed>=0?N<0:N>s;this.currentTime=Math.max(N,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let k=this.currentTime,P=n;if(g){const C=Math.min(this.currentTime,s)/u;let R=Math.floor(C),M=C%1;!M&&C>=1&&(M=1),M===1&&R--,R=Math.min(R,g+1),R%2&&(v==="reverse"?(M=1-M,w&&(M-=w/u)):v==="mirror"&&(P=c)),k=Ss(0,1,M)*u}const A=E?{done:!1,value:p[0]}:P.next(k);o&&(A.value=o(A.value));let{done:L}=A;!E&&f!==null&&(L=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const O=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&L);return O&&S!==Fg&&(A.value=Rv(p,this.options,j,this.speed)),b&&b(A.value),O&&this.finish(),A}then(e,r){return this.finished.then(e,r)}get duration(){return Tn(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Tn(e)}get time(){return Tn(this.currentTime)}set time(e){e=$s(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Vr.now());const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=Tn(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=xV,startTime:r}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),this.options.onPlay?.();const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Vr.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function LV(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const go=t=>t*180/Math.PI,$g=t=>{const e=go(Math.atan2(t[1],t[0]));return Vg(e)},FV={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:$g,rotateZ:$g,skewX:t=>go(Math.atan(t[1])),skewY:t=>go(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Vg=t=>(t=t%360,t<0&&(t+=360),t),Z_=$g,X_=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),J_=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),$V={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:X_,scaleY:J_,scale:t=>(X_(t)+J_(t))/2,rotateX:t=>Vg(go(Math.atan2(t[6],t[5]))),rotateY:t=>Vg(go(Math.atan2(-t[2],t[0]))),rotateZ:Z_,rotate:Z_,skewX:t=>go(Math.atan(t[4])),skewY:t=>go(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Ug(t){return t.includes("scale")?1:0}function Bg(t,e){if(!t||t==="none")return Ug(e);const r=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,s;if(r)n=$V,s=r;else{const u=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=FV,s=u}if(!s)return Ug(e);const o=n[e],c=s[1].split(",").map(UV);return typeof o=="function"?o(c):c[o]}const VV=(t,e)=>{const{transform:r="none"}=getComputedStyle(t);return Bg(r,e)};function UV(t){return parseFloat(t.trim())}const il=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ol=new Set(il),e1=t=>t===sl||t===Te,BV=new Set(["x","y","z"]),zV=il.filter(t=>!BV.has(t));function WV(t){const e=[];return zV.forEach(r=>{const n=t.getValue(r);n!==void 0&&(e.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),e}const _i={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Bg(e,"x"),y:(t,{transform:e})=>Bg(e,"y")};_i.translateX=_i.x;_i.translateY=_i.y;const vo=new Set;let zg=!1,Wg=!1,qg=!1;function ZE(){if(Wg){const t=Array.from(vo).filter(n=>n.needsMeasurement),e=new Set(t.map(n=>n.element)),r=new Map;e.forEach(n=>{const s=WV(n);s.length&&(r.set(n,s),n.render())}),t.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const s=r.get(n);s&&s.forEach(([o,c])=>{n.getValue(o)?.set(c)})}),t.forEach(n=>n.measureEndState()),t.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}Wg=!1,zg=!1,vo.forEach(t=>t.complete(qg)),vo.clear()}function XE(){vo.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Wg=!0)})}function qV(){qg=!0,XE(),ZE(),qg=!1}class Ov{constructor(e,r,n,s,o,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=n,this.motionValue=s,this.element=o,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(vo.add(this),zg||(zg=!0,Tt.read(XE),Tt.resolveKeyframes(ZE))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:n,motionValue:s}=this;if(e[0]===null){const o=s?.get(),c=e[e.length-1];if(o!==void 0)e[0]=o;else if(n&&r){const u=n.readValue(r,c);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=c),s&&o===void 0&&s.set(e[0])}LV(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),vo.delete(this)}cancel(){this.state==="scheduled"&&(vo.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const HV=t=>t.startsWith("--");function KV(t,e,r){HV(e)?t.style.setProperty(e,r):t.style[e]=r}const GV=bv(()=>window.ScrollTimeline!==void 0),YV={};function QV(t,e){const r=bv(t);return()=>YV[e]??r()}const JE=QV(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),tc=([t,e,r,n])=>`cubic-bezier(${t}, ${e}, ${r}, ${n})`,t1={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:tc([0,.65,.55,1]),circOut:tc([.55,0,1,.45]),backIn:tc([.31,.01,.66,-.59]),backOut:tc([.33,1.53,.69,.99])};function eC(t,e){if(t)return typeof t=="function"?JE()?GE(t,e):"ease-out":LE(t)?tc(t):Array.isArray(t)?t.map(r=>eC(r,e)||t1.easeOut):t1[t]}function ZV(t,e,r,{delay:n=0,duration:s=300,repeat:o=0,repeatType:c="loop",ease:u="easeOut",times:f}={},h=void 0){const p={[e]:r};f&&(p.offset=f);const g=eC(u,s);Array.isArray(g)&&(p.easing=g);const v={delay:n,duration:s,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:o+1,direction:c==="reverse"?"alternate":"normal"};return h&&(v.pseudoElement=h),t.animate(p,v)}function tC(t){return typeof t=="function"&&"applyToOptions"in t}function XV({type:t,...e}){return tC(t)&&JE()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class JV extends Pv{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:r,name:n,keyframes:s,pseudoElement:o,allowFlatten:c=!1,finalKeyframe:u,onComplete:f}=e;this.isPseudoElement=!!o,this.allowFlatten=c,this.options=e,wv(typeof e.type!="string");const h=XV(e);this.animation=ZV(r,n,s,h,o),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const p=Rv(s,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(p):KV(r,n,p),this.animation.cancel()}f?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Tn(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Tn(e)}get time(){return Tn(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=$s(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:r}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&GV()?(this.animation.timeline=e,Pn):r(this)}}const rC={anticipate:OE,backInOut:AE,circInOut:ME};function e6(t){return t in rC}function t6(t){typeof t.ease=="string"&&e6(t.ease)&&(t.ease=rC[t.ease])}const Om=10;class r6 extends JV{constructor(e){t6(e),QE(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:r,onUpdate:n,onComplete:s,element:o,...c}=this.options;if(!r)return;if(e!==void 0){r.set(e);return}const u=new Av({...c,autoplay:!1}),f=Math.max(Om,Vr.now()-this.startTime),h=Ss(0,Om,f-Om);r.setWithVelocity(u.sample(Math.max(0,f-h)).value,u.sample(f).value,h),u.stop()}}const r1=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Di.test(t)||t==="0")&&!t.startsWith("url("));function n6(t){const e=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==e)return!0}function s6(t,e,r,n){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],c=r1(s,e),u=r1(o,e);return!c||!u?!1:n6(t)||(r==="spring"||tC(r))&&n}function Hg(t){t.duration=0,t.type="keyframes"}const i6=new Set(["opacity","clipPath","filter","transform"]),o6=bv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function a6(t){const{motionValue:e,name:r,repeatDelay:n,repeatType:s,damping:o,type:c}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:h}=e.owner.getProps();return o6()&&r&&i6.has(r)&&(r!=="transform"||!h)&&!f&&!n&&s!=="mirror"&&o!==0&&c!=="inertia"}const l6=40;class c6 extends Pv{constructor({autoplay:e=!0,delay:r=0,type:n="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:c="loop",keyframes:u,name:f,motionValue:h,element:p,...g}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Vr.now();const v={autoplay:e,delay:r,type:n,repeat:s,repeatDelay:o,repeatType:c,name:f,motionValue:h,element:p,...g},w=p?.KeyframeResolver||Ov;this.keyframeResolver=new w(u,(S,b,j)=>this.onKeyframesResolved(S,b,v,!j),f,h,p),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,r,n,s){this.keyframeResolver=void 0;const{name:o,type:c,velocity:u,delay:f,isHandoff:h,onUpdate:p}=n;this.resolvedAt=Vr.now(),s6(e,o,c,u)||((Bs.instantAnimations||!f)&&p?.(Rv(e,n,r)),e[0]=e[e.length-1],Hg(n),n.repeat=0);const v={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>l6?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:e},w=!h&&a6(v)?new r6({...v,element:v.motionValue.owner.current}):new Av(v);w.finished.then(()=>this.notifyFinished()).catch(Pn),this.pendingTimeline&&(this.stopTimeline=w.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=w}get finished(){return this._animation?this.animation.finished:this._finished}then(e,r){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),qV()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const u6=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function d6(t){const e=u6.exec(t);if(!e)return[,];const[,r,n,s]=e;return[`--${r??n}`,s]}function nC(t,e,r=1){const[n,s]=d6(t);if(!n)return;const o=window.getComputedStyle(e).getPropertyValue(n);if(o){const c=o.trim();return jE(c)?parseFloat(c):c}return kv(s)?nC(s,e,r+1):s}function Iv(t,e){return t?.[e]??t?.default??t}const f6={type:"spring",stiffness:500,damping:25,restSpeed:10},h6=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),p6={type:"keyframes",duration:.8},m6={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},g6=(t,{keyframes:e})=>e.length>2?p6:ol.has(t)?t.startsWith("scale")?h6(e[1]):f6:m6;function y6({when:t,delay:e,delayChildren:r,staggerChildren:n,staggerDirection:s,repeat:o,repeatType:c,repeatDelay:u,from:f,elapsed:h,...p}){return!!Object.keys(p).length}const v6=t=>t!==null;function x6(t,{repeat:e,repeatType:r="loop"},n){const s=t.filter(v6),o=e&&r!=="loop"&&e%2===1?0:s.length-1;return s[o]}function sC(t,e,r,n=0,s=1){const o=Array.from(t).sort((h,p)=>h.sortNodePosition(p)).indexOf(e),c=t.size,u=(c-1)*n;return typeof r=="function"?r(o,c):s===1?o*n:u-o*n}const Mv=(t,e,r,n={},s,o)=>c=>{const u=Iv(n,t)||{},f=u.delay||n.delay||0;let{elapsed:h=0}=n;h=h-$s(f);const p={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-h,onUpdate:v=>{e.set(v),u.onUpdate&&u.onUpdate(v)},onComplete:()=>{c(),u.onComplete&&u.onComplete()},name:t,motionValue:e,element:o?void 0:s};y6(u)||Object.assign(p,g6(t,p)),p.duration&&(p.duration=$s(p.duration)),p.repeatDelay&&(p.repeatDelay=$s(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let g=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(Hg(p),p.delay===0&&(g=!0)),(Bs.instantAnimations||Bs.skipAnimations)&&(g=!0,Hg(p),p.delay=0),p.allowFlatten=!u.type&&!u.ease,g&&!o&&e.get()!==void 0){const v=x6(p.keyframes,u);if(v!==void 0){Tt.update(()=>{p.onUpdate(v),p.onComplete()});return}}return u.isSync?new Av(p):new c6(p)},iC=new Set(["width","height","top","left","right","bottom",...il]),n1=30,w6=t=>!isNaN(parseFloat(t));class b6{constructor(e,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{const s=Vr.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=Vr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=w6(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new _v);const n=this.events[e].add(r);return e==="change"?()=>{n(),Tt.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Vr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>n1)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,n1);return CE(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ua(t,e){return new b6(t,e)}function s1(t){const e=[{},{}];return t?.values.forEach((r,n)=>{e[0][n]=r.get(),e[1][n]=r.getVelocity()}),e}function Dv(t,e,r,n){if(typeof e=="function"){const[s,o]=s1(n);e=e(r!==void 0?r:t.custom,s,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,o]=s1(n);e=e(r!==void 0?r:t.custom,s,o)}return e}function Ia(t,e,r){const n=t.getProps();return Dv(n,e,r!==void 0?r:n.custom,t)}const Kg=t=>Array.isArray(t);function _6(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,Ua(r))}function S6(t){return Kg(t)?t[t.length-1]||0:t}function j6(t,e){const r=Ia(t,e);let{transitionEnd:n={},transition:s={},...o}=r||{};o={...o,...n};for(const c in o){const u=S6(o[c]);_6(t,c,u)}}const Pr=t=>!!(t&&t.getVelocity);function k6(t){return!!(Pr(t)&&t.add)}function Gg(t,e){const r=t.getValue("willChange");if(k6(r))return r.add(e);if(!r&&Bs.WillChange){const n=new Bs.WillChange("auto");t.addValue("willChange",n),n.add(e)}}function Lv(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const E6="framerAppearId",oC="data-"+Lv(E6);function aC(t){return t.props[oC]}function C6({protectedKeys:t,needsAnimating:e},r){const n=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,n}function lC(t,e,{delay:r=0,transitionOverride:n,type:s}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:c,...u}=e;n&&(o=n);const f=[],h=s&&t.animationState&&t.animationState.getState()[s];for(const p in u){const g=t.getValue(p,t.latestValues[p]??null),v=u[p];if(v===void 0||h&&C6(h,p))continue;const w={delay:r,...Iv(o||{},p)},S=g.get();if(S!==void 0&&!g.isAnimating&&!Array.isArray(v)&&v===S&&!w.velocity)continue;let b=!1;if(window.MotionHandoffAnimation){const N=aC(t);if(N){const E=window.MotionHandoffAnimation(N,p,Tt);E!==null&&(w.startTime=E,b=!0)}}Gg(t,p),g.start(Mv(p,g,v,t.shouldReduceMotion&&iC.has(p)?{type:!1}:w,t,b));const j=g.animation;j&&f.push(j)}return c&&Promise.all(f).then(()=>{Tt.update(()=>{c&&j6(t,c)})}),f}function Yg(t,e,r={}){const n=Ia(t,e,r.type==="exit"?t.presenceContext?.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(s=r.transitionOverride);const o=n?()=>Promise.all(lC(t,n,r)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(f=0)=>{const{delayChildren:h=0,staggerChildren:p,staggerDirection:g}=s;return N6(t,e,f,h,p,g,r)}:()=>Promise.resolve(),{when:u}=s;if(u){const[f,h]=u==="beforeChildren"?[o,c]:[c,o];return f().then(()=>h())}else return Promise.all([o(),c(r.delay)])}function N6(t,e,r=0,n=0,s=0,o=1,c){const u=[];for(const f of t.variantChildren)f.notify("AnimationStart",e),u.push(Yg(f,e,{...c,delay:r+(typeof n=="function"?0:n)+sC(t.variantChildren,f,n,s,o)}).then(()=>f.notify("AnimationComplete",e)));return Promise.all(u)}function T6(t,e,r={}){t.notify("AnimationStart",e);let n;if(Array.isArray(e)){const s=e.map(o=>Yg(t,o,r));n=Promise.all(s)}else if(typeof e=="string")n=Yg(t,e,r);else{const s=typeof e=="function"?Ia(t,e,r.custom):e;n=Promise.all(lC(t,s,r))}return n.then(()=>{t.notify("AnimationComplete",e)})}const R6={test:t=>t==="auto",parse:t=>t},cC=t=>e=>e.test(t),uC=[sl,Te,ws,gi,nV,rV,R6],i1=t=>uC.find(cC(t));function P6(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||EE(t):!0}const A6=new Set(["brightness","contrast","saturate","opacity"]);function O6(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[n]=r.match(Ev)||[];if(!n)return t;const s=r.replace(n,"");let o=A6.has(e)?1:0;return n!==r&&(o*=100),e+"("+o+s+")"}const I6=/\b([a-z-]*)\(.*?\)/gu,Qg={...Di,getAnimatableNone:t=>{const e=t.match(I6);return e?e.map(O6).join(" "):t}},o1={...sl,transform:Math.round},M6={rotate:gi,rotateX:gi,rotateY:gi,rotateZ:gi,scale:kd,scaleX:kd,scaleY:kd,scaleZ:kd,skew:gi,skewX:gi,skewY:gi,distance:Te,translateX:Te,translateY:Te,translateZ:Te,x:Te,y:Te,z:Te,perspective:Te,transformPerspective:Te,opacity:Pc,originX:H_,originY:H_,originZ:Te},Fv={borderWidth:Te,borderTopWidth:Te,borderRightWidth:Te,borderBottomWidth:Te,borderLeftWidth:Te,borderRadius:Te,radius:Te,borderTopLeftRadius:Te,borderTopRightRadius:Te,borderBottomRightRadius:Te,borderBottomLeftRadius:Te,width:Te,maxWidth:Te,height:Te,maxHeight:Te,top:Te,right:Te,bottom:Te,left:Te,inset:Te,insetBlock:Te,insetBlockStart:Te,insetBlockEnd:Te,insetInline:Te,insetInlineStart:Te,insetInlineEnd:Te,padding:Te,paddingTop:Te,paddingRight:Te,paddingBottom:Te,paddingLeft:Te,paddingBlock:Te,paddingBlockStart:Te,paddingBlockEnd:Te,paddingInline:Te,paddingInlineStart:Te,paddingInlineEnd:Te,margin:Te,marginTop:Te,marginRight:Te,marginBottom:Te,marginLeft:Te,marginBlock:Te,marginBlockStart:Te,marginBlockEnd:Te,marginInline:Te,marginInlineStart:Te,marginInlineEnd:Te,backgroundPositionX:Te,backgroundPositionY:Te,...M6,zIndex:o1,fillOpacity:Pc,strokeOpacity:Pc,numOctaves:o1},D6={...Fv,color:Kt,backgroundColor:Kt,outlineColor:Kt,fill:Kt,stroke:Kt,borderColor:Kt,borderTopColor:Kt,borderRightColor:Kt,borderBottomColor:Kt,borderLeftColor:Kt,filter:Qg,WebkitFilter:Qg},dC=t=>D6[t];function fC(t,e){let r=dC(t);return r!==Qg&&(r=Di),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const L6=new Set(["auto","none","0"]);function F6(t,e,r){let n=0,s;for(;n<t.length&&!s;){const o=t[n];typeof o=="string"&&!L6.has(o)&&Ac(o).values.length&&(s=t[n]),n++}if(s&&r)for(const o of e)t[o]=fC(r,s)}class $6 extends Ov{constructor(e,r,n,s,o){super(e,r,n,s,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let p=0;p<e.length;p++){let g=e[p];if(typeof g=="string"&&(g=g.trim(),kv(g))){const v=nC(g,r.current);v!==void 0&&(e[p]=v),p===e.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!iC.has(n)||e.length!==2)return;const[s,o]=e,c=i1(s),u=i1(o),f=q_(s),h=q_(o);if(f!==h&&_i[n]){this.needsMeasurement=!0;return}if(c!==u)if(e1(c)&&e1(u))for(let p=0;p<e.length;p++){const g=e[p];typeof g=="string"&&(e[p]=parseFloat(g))}else _i[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,n=[];for(let s=0;s<e.length;s++)(e[s]===null||P6(e[s]))&&n.push(s);n.length&&F6(e,n,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=_i[n](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const s=r[r.length-1];s!==void 0&&e.getValue(n,s).jump(s,!1)}measureEndState(){const{element:e,name:r,unresolvedKeyframes:n}=this;if(!e||!e.current)return;const s=e.getValue(r);s&&s.jump(this.measuredOrigin,!1);const o=n.length-1,c=n[o];n[o]=_i[r](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([u,f])=>{e.getValue(u).set(f)}),this.resolveNoneKeyframes()}}function V6(t,e,r){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let n=document;const s=r?.[t]??n.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const hC=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function pC(t){return kE(t)&&"offsetHeight"in t}const{schedule:$v}=FE(queueMicrotask,!1),Hn={x:!1,y:!1};function mC(){return Hn.x||Hn.y}function U6(t){return t==="x"||t==="y"?Hn[t]?null:(Hn[t]=!0,()=>{Hn[t]=!1}):Hn.x||Hn.y?null:(Hn.x=Hn.y=!0,()=>{Hn.x=Hn.y=!1})}function gC(t,e){const r=V6(t),n=new AbortController,s={passive:!0,...e,signal:n.signal};return[r,s,()=>n.abort()]}function a1(t){return!(t.pointerType==="touch"||mC())}function B6(t,e,r={}){const[n,s,o]=gC(t,r),c=u=>{if(!a1(u))return;const{target:f}=u,h=e(f,u);if(typeof h!="function"||!f)return;const p=g=>{a1(g)&&(h(g),f.removeEventListener("pointerleave",p))};f.addEventListener("pointerleave",p,s)};return n.forEach(u=>{u.addEventListener("pointerenter",c,s)}),o}const yC=(t,e)=>e?t===e?!0:yC(t,e.parentElement):!1,Vv=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,z6=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function vC(t){return z6.has(t.tagName)||t.isContentEditable===!0}const $d=new WeakSet;function l1(t){return e=>{e.key==="Enter"&&t(e)}}function Im(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const W6=(t,e)=>{const r=t.currentTarget;if(!r)return;const n=l1(()=>{if($d.has(r))return;Im(r,"down");const s=l1(()=>{Im(r,"up")}),o=()=>Im(r,"cancel");r.addEventListener("keyup",s,e),r.addEventListener("blur",o,e)});r.addEventListener("keydown",n,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),e)};function c1(t){return Vv(t)&&!mC()}function q6(t,e,r={}){const[n,s,o]=gC(t,r),c=u=>{const f=u.currentTarget;if(!c1(u))return;$d.add(f);const h=e(f,u),p=(w,S)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",v),$d.has(f)&&$d.delete(f),c1(w)&&typeof h=="function"&&h(w,{success:S})},g=w=>{p(w,f===window||f===document||r.useGlobalTarget||yC(f,w.target))},v=w=>{p(w,!1)};window.addEventListener("pointerup",g,s),window.addEventListener("pointercancel",v,s)};return n.forEach(u=>{(r.useGlobalTarget?window:u).addEventListener("pointerdown",c,s),pC(u)&&(u.addEventListener("focus",h=>W6(h,s)),!vC(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),o}function xC(t){return kE(t)&&"ownerSVGElement"in t}function H6(t){return xC(t)&&t.tagName==="svg"}const K6=[...uC,Kt,Di],G6=t=>K6.find(cC(t)),u1=()=>({translate:0,scale:1,origin:0,originPoint:0}),Na=()=>({x:u1(),y:u1()}),d1=()=>({min:0,max:0}),tr=()=>({x:d1(),y:d1()}),Zg={current:null},wC={current:!1},Y6=typeof window<"u";function Q6(){if(wC.current=!0,!!Y6)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Zg.current=t.matches;t.addEventListener("change",e),e()}else Zg.current=!1}const Z6=new WeakMap;function Zf(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Oc(t){return typeof t=="string"||Array.isArray(t)}const Uv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Bv=["initial",...Uv];function Xf(t){return Zf(t.animate)||Bv.some(e=>Oc(t[e]))}function bC(t){return!!(Xf(t)||t.variants)}function X6(t,e,r){for(const n in e){const s=e[n],o=r[n];if(Pr(s))t.addValue(n,s);else if(Pr(o))t.addValue(n,Ua(s,{owner:t}));else if(o!==s)if(t.hasValue(n)){const c=t.getValue(n);c.liveStyle===!0?c.jump(s):c.hasAnimated||c.set(s)}else{const c=t.getStaticValue(n);t.addValue(n,Ua(c!==void 0?c:s,{owner:t}))}}for(const n in r)e[n]===void 0&&t.removeValue(n);return e}const f1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let lf={};function _C(t){lf=t}function J6(){return lf}class eU{scrapeMotionValuesFromProps(e,r,n){return{}}constructor({parent:e,props:r,presenceContext:n,reducedMotionConfig:s,blockInitialAnimation:o,visualState:c},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Ov,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=Vr.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,Tt.render(this.render,!1,!0))};const{latestValues:f,renderState:h}=c;this.latestValues=f,this.baseTarget={...f},this.initialValues=r.initial?{...f}:{},this.renderState=h,this.parent=e,this.props=r,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=u,this.blockInitialAnimation=!!o,this.isControllingVariants=Xf(r),this.isVariantNode=bC(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:p,...g}=this.scrapeMotionValuesFromProps(r,{},this);for(const v in g){const w=g[v];f[v]!==void 0&&Pr(w)&&w.set(f[v])}}mount(e){this.current=e,Z6.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(wC.current||Q6(),this.shouldReduceMotion=Zg.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Mi(this.notifyUpdate),Mi(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const r=this.features[e];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=ol.has(e);n&&this.onBindTransform&&this.onBindTransform();const s=r.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&Tt.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;typeof window<"u"&&window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{s(),o&&o(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in lf){const r=lf[e];if(!r)continue;const{isEnabled:n,Feature:s}=r;if(!this.features[e]&&s&&n(this.props)&&(this.features[e]=new s(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):tr()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<f1.length;n++){const s=f1[n];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const o="on"+s,c=e[o];c&&(this.propEventSubscriptions[s]=this.on(s,c))}this.prevMotionValues=X6(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const n=this.values.get(e);r!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&r!==void 0&&(n=Ua(r===null?void 0:r,{owner:this}),this.addValue(e,n)),n}readValue(e,r){let n=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return n!=null&&(typeof n=="string"&&(jE(n)||EE(n))?n=parseFloat(n):!G6(n)&&Di.test(r)&&(n=fC(e,r)),this.setBaseTarget(e,Pr(n)?n.get():n)),Pr(n)?n.get():n}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const o=Dv(this.props,r,this.presenceContext?.custom);o&&(n=o[e])}if(r&&n!==void 0)return n;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Pr(s)?s:this.initialValues[e]!==void 0&&n===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new _v),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}scheduleRenderMicrotask(){$v.render(this.render)}}class Bi{constructor(e){this.isMounted=!1,this.node=e}update(){}}class SC extends eU{constructor(){super(...arguments),this.KeyframeResolver=$6}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){const n=e.style;return n?n[r]:void 0}removeValueFromRenderState(e,{vars:r,style:n}){delete r[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Pr(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function jC({top:t,left:e,right:r,bottom:n}){return{x:{min:e,max:r},y:{min:t,max:n}}}function tU({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function rU(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function Mm(t){return t===void 0||t===1}function Xg({scale:t,scaleX:e,scaleY:r}){return!Mm(t)||!Mm(e)||!Mm(r)}function co(t){return Xg(t)||kC(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function kC(t){return h1(t.x)||h1(t.y)}function h1(t){return t&&t!=="0%"}function cf(t,e,r){const n=t-r,s=e*n;return r+s}function p1(t,e,r,n,s){return s!==void 0&&(t=cf(t,s,n)),cf(t,r,n)+e}function Jg(t,e=0,r=1,n,s){t.min=p1(t.min,e,r,n,s),t.max=p1(t.max,e,r,n,s)}function EC(t,{x:e,y:r}){Jg(t.x,e.translate,e.scale,e.originPoint),Jg(t.y,r.translate,r.scale,r.originPoint)}const m1=.999999999999,g1=1.0000000000001;function nU(t,e,r,n=!1){const s=r.length;if(!s)return;e.x=e.y=1;let o,c;for(let u=0;u<s;u++){o=r[u],c=o.projectionDelta;const{visualElement:f}=o.options;f&&f.props.style&&f.props.style.display==="contents"||(n&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Ra(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,EC(t,c)),n&&co(o.latestValues)&&Ra(t,o.latestValues))}e.x<g1&&e.x>m1&&(e.x=1),e.y<g1&&e.y>m1&&(e.y=1)}function Ta(t,e){t.min=t.min+e,t.max=t.max+e}function y1(t,e,r,n,s=.5){const o=Mt(t.min,t.max,s);Jg(t,e,r,o,n)}function Ra(t,e){y1(t.x,e.x,e.scaleX,e.scale,e.originX),y1(t.y,e.y,e.scaleY,e.scale,e.originY)}function CC(t,e){return jC(rU(t.getBoundingClientRect(),e))}function sU(t,e,r){const n=CC(t,r),{scroll:s}=e;return s&&(Ta(n.x,s.offset.x),Ta(n.y,s.offset.y)),n}const iU={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},oU=il.length;function aU(t,e,r){let n="",s=!0;for(let o=0;o<oU;o++){const c=il[o],u=t[c];if(u===void 0)continue;let f=!0;if(typeof u=="number"?f=u===(c.startsWith("scale")?1:0):f=parseFloat(u)===0,!f||r){const h=hC(u,Fv[c]);if(!f){s=!1;const p=iU[c]||c;n+=`${p}(${h}) `}r&&(e[c]=h)}}return n=n.trim(),r?n=r(e,s?"":n):s&&(n="none"),n}function zv(t,e,r){const{style:n,vars:s,transformOrigin:o}=t;let c=!1,u=!1;for(const f in e){const h=e[f];if(ol.has(f)){c=!0;continue}else if(VE(f)){s[f]=h;continue}else{const p=hC(h,Fv[f]);f.startsWith("origin")?(u=!0,o[f]=p):n[f]=p}}if(e.transform||(c||r?n.transform=aU(e,t.transform,r):n.transform&&(n.transform="none")),u){const{originX:f="50%",originY:h="50%",originZ:p=0}=o;n.transformOrigin=`${f} ${h} ${p}`}}function NC(t,{style:e,vars:r},n,s){const o=t.style;let c;for(c in e)o[c]=e[c];s?.applyProjectionStyles(o,n);for(c in r)o.setProperty(c,r[c])}function v1(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Yl={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Te.test(t))t=parseFloat(t);else return t;const r=v1(t,e.target.x),n=v1(t,e.target.y);return`${r}% ${n}%`}},lU={correct:(t,{treeScale:e,projectionDelta:r})=>{const n=t,s=Di.parse(t);if(s.length>5)return n;const o=Di.createTransformer(t),c=typeof s[0]!="number"?1:0,u=r.x.scale*e.x,f=r.y.scale*e.y;s[0+c]/=u,s[1+c]/=f;const h=Mt(u,f,.5);return typeof s[2+c]=="number"&&(s[2+c]/=h),typeof s[3+c]=="number"&&(s[3+c]/=h),o(s)}},ey={borderRadius:{...Yl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Yl,borderTopRightRadius:Yl,borderBottomLeftRadius:Yl,borderBottomRightRadius:Yl,boxShadow:lU};function TC(t,{layout:e,layoutId:r}){return ol.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!ey[t]||t==="opacity")}function Wv(t,e,r){const n=t.style,s=e?.style,o={};if(!n)return o;for(const c in n)(Pr(n[c])||s&&Pr(s[c])||TC(c,t)||r?.getValue(c)?.liveStyle!==void 0)&&(o[c]=n[c]);return o}function cU(t){return window.getComputedStyle(t)}class uU extends SC{constructor(){super(...arguments),this.type="html",this.renderInstance=NC}readValueFromInstance(e,r){if(ol.has(r))return this.projection?.isProjecting?Ug(r):VV(e,r);{const n=cU(e),s=(VE(r)?n.getPropertyValue(r):n[r])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:r}){return CC(e,r)}build(e,r,n){zv(e,r,n.transformTemplate)}scrapeMotionValuesFromProps(e,r,n){return Wv(e,r,n)}}const dU={offset:"stroke-dashoffset",array:"stroke-dasharray"},fU={offset:"strokeDashoffset",array:"strokeDasharray"};function hU(t,e,r=1,n=0,s=!0){t.pathLength=1;const o=s?dU:fU;t[o.offset]=Te.transform(-n);const c=Te.transform(e),u=Te.transform(r);t[o.array]=`${c} ${u}`}const pU=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function RC(t,{attrX:e,attrY:r,attrScale:n,pathLength:s,pathSpacing:o=1,pathOffset:c=0,...u},f,h,p){if(zv(t,u,h),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:g,style:v}=t;g.transform&&(v.transform=g.transform,delete g.transform),(v.transform||g.transformOrigin)&&(v.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),v.transform&&(v.transformBox=p?.transformBox??"fill-box",delete g.transformBox);for(const w of pU)g[w]!==void 0&&(v[w]=g[w],delete g[w]);e!==void 0&&(g.x=e),r!==void 0&&(g.y=r),n!==void 0&&(g.scale=n),s!==void 0&&hU(g,s,o,c,!1)}const PC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),AC=t=>typeof t=="string"&&t.toLowerCase()==="svg";function mU(t,e,r,n){NC(t,e,void 0,n);for(const s in e.attrs)t.setAttribute(PC.has(s)?s:Lv(s),e.attrs[s])}function OC(t,e,r){const n=Wv(t,e,r);for(const s in t)if(Pr(t[s])||Pr(e[s])){const o=il.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;n[o]=t[s]}return n}class gU extends SC{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=tr}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(ol.has(r)){const n=dC(r);return n&&n.default||0}return r=PC.has(r)?r:Lv(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,n){return OC(e,r,n)}build(e,r,n){RC(e,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,r,n,s){mU(e,r,n,s)}mount(e){this.isSVGTag=AC(e.tagName),super.mount(e)}}const yU=Bv.length;function IC(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?IC(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const e={};for(let r=0;r<yU;r++){const n=Bv[r],s=t.props[n];(Oc(s)||s===!1)&&(e[n]=s)}return e}function MC(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}const vU=[...Uv].reverse(),xU=Uv.length;function wU(t){return e=>Promise.all(e.map(({animation:r,options:n})=>T6(t,r,n)))}function bU(t){let e=wU(t),r=x1(),n=!0;const s=f=>(h,p)=>{const g=Ia(t,p,f==="exit"?t.presenceContext?.custom:void 0);if(g){const{transition:v,transitionEnd:w,...S}=g;h={...h,...S,...w}}return h};function o(f){e=f(t)}function c(f){const{props:h}=t,p=IC(t.parent)||{},g=[],v=new Set;let w={},S=1/0;for(let j=0;j<xU;j++){const N=vU[j],E=r[N],k=h[N]!==void 0?h[N]:p[N],P=Oc(k),A=N===f?E.isActive:null;A===!1&&(S=j);let L=k===p[N]&&k!==h[N]&&P;if(L&&n&&t.manuallyAnimateOnMount&&(L=!1),E.protectedKeys={...w},!E.isActive&&A===null||!k&&!E.prevProp||Zf(k)||typeof k=="boolean")continue;const O=_U(E.prevProp,k);let C=O||N===f&&E.isActive&&!L&&P||j>S&&P,R=!1;const M=Array.isArray(k)?k:[k];let H=M.reduce(s(N),{});A===!1&&(H={});const{prevResolvedValues:V={}}=E,J={...V,...H},z=X=>{C=!0,v.has(X)&&(R=!0,v.delete(X)),E.needsAnimating[X]=!0;const U=t.getValue(X);U&&(U.liveStyle=!1)};for(const X in J){const U=H[X],F=V[X];if(w.hasOwnProperty(X))continue;let K=!1;Kg(U)&&Kg(F)?K=!MC(U,F):K=U!==F,K?U!=null?z(X):v.add(X):U!==void 0&&v.has(X)?z(X):E.protectedKeys[X]=!0}E.prevProp=k,E.prevResolvedValues=H,E.isActive&&(w={...w,...H}),n&&t.blockInitialAnimation&&(C=!1);const oe=L&&O;C&&(!oe||R)&&g.push(...M.map(X=>{const U={type:N};if(typeof X=="string"&&n&&!oe&&t.manuallyAnimateOnMount&&t.parent){const{parent:F}=t,K=Ia(F,X);if(F.enteringChildren&&K){const{delayChildren:I}=K.transition||{};U.delay=sC(F.enteringChildren,t,I)}}return{animation:X,options:U}}))}if(v.size){const j={};if(typeof h.initial!="boolean"){const N=Ia(t,Array.isArray(h.initial)?h.initial[0]:h.initial);N&&N.transition&&(j.transition=N.transition)}v.forEach(N=>{const E=t.getBaseTarget(N),k=t.getValue(N);k&&(k.liveStyle=!0),j[N]=E??null}),g.push({animation:j})}let b=!!g.length;return n&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(b=!1),n=!1,b?e(g):Promise.resolve()}function u(f,h){if(r[f].isActive===h)return Promise.resolve();t.variantChildren?.forEach(g=>g.animationState?.setActive(f,h)),r[f].isActive=h;const p=c(f);for(const g in r)r[g].protectedKeys={};return p}return{animateChanges:c,setActive:u,setAnimateFunction:o,getState:()=>r,reset:()=>{r=x1()}}}function _U(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!MC(e,t):!1}function ao(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function x1(){return{animate:ao(!0),whileInView:ao(),whileHover:ao(),whileTap:ao(),whileDrag:ao(),whileFocus:ao(),exit:ao()}}const DC=1e-4,SU=1-DC,jU=1+DC,LC=.01,kU=0-LC,EU=0+LC;function Ur(t){return t.max-t.min}function CU(t,e,r){return Math.abs(t-e)<=r}function w1(t,e,r,n=.5){t.origin=n,t.originPoint=Mt(e.min,e.max,t.origin),t.scale=Ur(r)/Ur(e),t.translate=Mt(r.min,r.max,t.origin)-t.originPoint,(t.scale>=SU&&t.scale<=jU||isNaN(t.scale))&&(t.scale=1),(t.translate>=kU&&t.translate<=EU||isNaN(t.translate))&&(t.translate=0)}function hc(t,e,r,n){w1(t.x,e.x,r.x,n?n.originX:void 0),w1(t.y,e.y,r.y,n?n.originY:void 0)}function b1(t,e,r){t.min=r.min+e.min,t.max=t.min+Ur(e)}function NU(t,e,r){b1(t.x,e.x,r.x),b1(t.y,e.y,r.y)}function _1(t,e,r){t.min=e.min-r.min,t.max=t.min+Ur(e)}function uf(t,e,r){_1(t.x,e.x,r.x),_1(t.y,e.y,r.y)}function S1(t,e,r,n,s){return t-=e,t=cf(t,1/r,n),s!==void 0&&(t=cf(t,1/s,n)),t}function TU(t,e=0,r=1,n=.5,s,o=t,c=t){if(ws.test(e)&&(e=parseFloat(e),e=Mt(c.min,c.max,e/100)-c.min),typeof e!="number")return;let u=Mt(o.min,o.max,n);t===o&&(u-=e),t.min=S1(t.min,e,r,u,s),t.max=S1(t.max,e,r,u,s)}function j1(t,e,[r,n,s],o,c){TU(t,e[r],e[n],e[s],e.scale,o,c)}const RU=["x","scaleX","originX"],PU=["y","scaleY","originY"];function k1(t,e,r,n){j1(t.x,e,RU,r?r.x:void 0,n?n.x:void 0),j1(t.y,e,PU,r?r.y:void 0,n?n.y:void 0)}function E1(t,e){t.min=e.min,t.max=e.max}function Wn(t,e){E1(t.x,e.x),E1(t.y,e.y)}function C1(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function N1(t){return t.translate===0&&t.scale===1}function FC(t){return N1(t.x)&&N1(t.y)}function T1(t,e){return t.min===e.min&&t.max===e.max}function AU(t,e){return T1(t.x,e.x)&&T1(t.y,e.y)}function R1(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function $C(t,e){return R1(t.x,e.x)&&R1(t.y,e.y)}function P1(t){return Ur(t.x)/Ur(t.y)}function A1(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function Cn(t){return[t("x"),t("y")]}function OU(t,e,r){let n="";const s=t.x.translate/e.x,o=t.y.translate/e.y,c=r?.z||0;if((s||o||c)&&(n=`translate3d(${s}px, ${o}px, ${c}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:h,rotate:p,rotateX:g,rotateY:v,skewX:w,skewY:S}=r;h&&(n=`perspective(${h}px) ${n}`),p&&(n+=`rotate(${p}deg) `),g&&(n+=`rotateX(${g}deg) `),v&&(n+=`rotateY(${v}deg) `),w&&(n+=`skewX(${w}deg) `),S&&(n+=`skewY(${S}deg) `)}const u=t.x.scale*e.x,f=t.y.scale*e.y;return(u!==1||f!==1)&&(n+=`scale(${u}, ${f})`),n||"none"}const VC=["TopLeft","TopRight","BottomLeft","BottomRight"],IU=VC.length,O1=t=>typeof t=="string"?parseFloat(t):t,I1=t=>typeof t=="number"||Te.test(t);function MU(t,e,r,n,s,o){s?(t.opacity=Mt(0,r.opacity??1,DU(n)),t.opacityExit=Mt(e.opacity??1,0,LU(n))):o&&(t.opacity=Mt(e.opacity??1,r.opacity??1,n));for(let c=0;c<IU;c++){const u=`border${VC[c]}Radius`;let f=M1(e,u),h=M1(r,u);if(f===void 0&&h===void 0)continue;f||(f=0),h||(h=0),f===0||h===0||I1(f)===I1(h)?(t[u]=Math.max(Mt(O1(f),O1(h),n),0),(ws.test(h)||ws.test(f))&&(t[u]+="%")):t[u]=h}(e.rotate||r.rotate)&&(t.rotate=Mt(e.rotate||0,r.rotate||0,n))}function M1(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const DU=UC(0,.5,IE),LU=UC(.5,.95,Pn);function UC(t,e,r){return n=>n<t?0:n>e?1:r(Rc(t,e,n))}function FU(t,e){const r=Vr.now(),n=({timestamp:s})=>{const o=s-r;o>=e&&(Mi(n),t(o-e))};return Tt.setup(n,!0),()=>Mi(n)}function Ic(t,e,r,n={passive:!0}){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r)}function Vd(t){return Pr(t)?t.get():t}function $U(t,e,r){const n=Pr(t)?t:Ua(t);return n.start(Mv("",n,e,r)),n.animation}const VU=(t,e)=>t.depth-e.depth;class UU{constructor(){this.children=[],this.isDirty=!1}add(e){vv(this.children,e),this.isDirty=!0}remove(e){xv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(VU),this.isDirty=!1,this.children.forEach(e)}}class BU{constructor(){this.members=[]}add(e){vv(this.members,e),e.scheduleRender()}remove(e){if(xv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(s=>e===s);if(r===0)return!1;let n;for(let s=r;s>=0;s--){const o=this.members[s];if(o.isPresent!==!1){n=o;break}}return n?(this.promote(n),!0):!1}promote(e,r){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,r&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:n}=e;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Ud={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Dm=["","X","Y","Z"],zU=1e3;let WU=0;function Lm(t,e,r,n){const{latestValues:s}=e;s[t]&&(r[t]=s[t],e.setStaticValue(t,0),n&&(n[t]=0))}function BC(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const r=aC(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:s,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",Tt,!(s||o))}const{parent:n}=t;n&&!n.hasCheckedOptimisedAppear&&BC(n)}function zC({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:n,resetTransform:s}){return class{constructor(c={},u=e?.()){this.id=WU++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(KU),this.nodes.forEach(ZU),this.nodes.forEach(XU),this.nodes.forEach(GU)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new UU)}addEventListener(c,u){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new _v),this.eventHandlers.get(c).add(u)}notifyListeners(c,...u){const f=this.eventHandlers.get(c);f&&f.notify(...u)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=xC(c)&&!H6(c),this.instance=c;const{layoutId:u,layout:f,visualElement:h}=this.options;if(h&&!h.current&&h.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||u)&&(this.isLayoutDirty=!0),t){let p,g=0;const v=()=>this.root.updateBlockedByResize=!1;Tt.read(()=>{g=window.innerWidth}),t(c,()=>{const w=window.innerWidth;w!==g&&(g=w,this.root.updateBlockedByResize=!0,p&&p(),p=FU(v,250),Ud.hasAnimatedSinceResize&&(Ud.hasAnimatedSinceResize=!1,this.nodes.forEach(F1)))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&h&&(u||f)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:g,hasRelativeLayoutChanged:v,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||h.getDefaultTransition()||n8,{onLayoutAnimationStart:b,onLayoutAnimationComplete:j}=h.getProps(),N=!this.targetLayout||!$C(this.targetLayout,w),E=!g&&v;if(this.options.layoutRoot||this.resumeFrom||E||g&&(N||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const k={...Iv(S,"layout"),onPlay:b,onComplete:j};(h.shouldReduceMotion||this.options.layoutRoot)&&(k.delay=0,k.type=!1),this.startAnimation(k),this.setAnimationOrigin(p,E)}else g||F1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Mi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(JU),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&BC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const g=this.path[p];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:u,layout:f}=this.options;if(u===void 0&&!f)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(D1);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(L1);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(QU),this.nodes.forEach(qU),this.nodes.forEach(HU)):this.nodes.forEach(L1),this.clearAllSnapshots();const u=Vr.now();_r.delta=Ss(0,1e3/60,u-_r.timestamp),_r.timestamp=u,_r.isProcessing=!0,Nm.update.process(_r),Nm.preRender.process(_r),Nm.render.process(_r),_r.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,$v.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(YU),this.sharedNodes.forEach(e8)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Tt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Tt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ur(this.snapshot.measuredBox.x)&&!Ur(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=tr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(u=!1),u&&this.instance){const f=n(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:f,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!s)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!FC(this.projectionDelta),f=this.getTransformTemplate(),h=f?f(this.latestValues,""):void 0,p=h!==this.prevTransformTemplateValue;c&&this.instance&&(u||co(this.latestValues)||p)&&(s(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const u=this.measurePageBox();let f=this.removeElementScroll(u);return c&&(f=this.removeTransform(f)),s8(f),{animationId:this.root.animationId,measuredBox:u,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return tr();const u=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(i8))){const{scroll:h}=this.root;h&&(Ta(u.x,h.offset.x),Ta(u.y,h.offset.y))}return u}removeElementScroll(c){const u=tr();if(Wn(u,c),this.scroll?.wasRoot)return u;for(let f=0;f<this.path.length;f++){const h=this.path[f],{scroll:p,options:g}=h;h!==this.root&&p&&g.layoutScroll&&(p.wasRoot&&Wn(u,c),Ta(u.x,p.offset.x),Ta(u.y,p.offset.y))}return u}applyTransform(c,u=!1){const f=tr();Wn(f,c);for(let h=0;h<this.path.length;h++){const p=this.path[h];!u&&p.options.layoutScroll&&p.scroll&&p!==p.root&&Ra(f,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),co(p.latestValues)&&Ra(f,p.latestValues)}return co(this.latestValues)&&Ra(f,this.latestValues),f}removeTransform(c){const u=tr();Wn(u,c);for(let f=0;f<this.path.length;f++){const h=this.path[f];if(!h.instance||!co(h.latestValues))continue;Xg(h.latestValues)&&h.updateSnapshot();const p=tr(),g=h.measurePageBox();Wn(p,g),k1(u,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,p)}return co(this.latestValues)&&k1(u,this.latestValues),u}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==_r.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==u;if(!(c||f&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:g}=this.options;if(!this.layout||!(p||g))return;this.resolvedRelativeTargetAt=_r.timestamp;const v=this.getClosestProjectingParent();v&&this.linkedParentVersion!==v.layoutVersion&&!v.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(v&&v.layout?this.createRelativeTarget(v,this.layout.layoutBox,v.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=tr(),this.targetWithTransforms=tr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),NU(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Wn(this.target,this.layout.layoutBox),EC(this.target,this.targetDelta)):Wn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?this.createRelativeTarget(v,this.target,v.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Xg(this.parent.latestValues)||kC(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,u,f){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=tr(),this.relativeTargetOrigin=tr(),uf(this.relativeTargetOrigin,u,f),Wn(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const c=this.getLead(),u=!!this.resumingFrom||this!==c;let f=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(f=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===_r.timestamp&&(f=!1),f)return;const{layout:h,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||p))return;Wn(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,v=this.treeScale.y;nU(this.layoutCorrected,this.treeScale,this.path,u),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=tr());const{target:w}=c;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(C1(this.prevProjectionDelta.x,this.projectionDelta.x),C1(this.prevProjectionDelta.y,this.projectionDelta.y)),hc(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==v||!A1(this.projectionDelta.x,this.prevProjectionDelta.x)||!A1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Na(),this.projectionDelta=Na(),this.projectionDeltaWithTransform=Na()}setAnimationOrigin(c,u=!1){const f=this.snapshot,h=f?f.latestValues:{},p={...this.latestValues},g=Na();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const v=tr(),w=f?f.source:void 0,S=this.layout?this.layout.source:void 0,b=w!==S,j=this.getStack(),N=!j||j.members.length<=1,E=!!(b&&!N&&this.options.crossfade===!0&&!this.path.some(r8));this.animationProgress=0;let k;this.mixTargetDelta=P=>{const A=P/1e3;$1(g.x,c.x,A),$1(g.y,c.y,A),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(uf(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),t8(this.relativeTarget,this.relativeTargetOrigin,v,A),k&&AU(this.relativeTarget,k)&&(this.isProjectionDirty=!1),k||(k=tr()),Wn(k,this.relativeTarget)),b&&(this.animationValues=p,MU(p,h,this.latestValues,A,E,N)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=A},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Mi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Tt.update(()=>{Ud.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ua(0)),this.currentAnimation=$U(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),c.onUpdate&&c.onUpdate(u)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(zU),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:u,target:f,layout:h,latestValues:p}=c;if(!(!u||!f||!h)){if(this!==c&&this.layout&&h&&WC(this.options.animationType,this.layout.layoutBox,h.layoutBox)){f=this.target||tr();const g=Ur(this.layout.layoutBox.x);f.x.min=c.target.x.min,f.x.max=f.x.min+g;const v=Ur(this.layout.layoutBox.y);f.y.min=c.target.y.min,f.y.max=f.y.min+v}Wn(u,f),Ra(u,p),hc(this.projectionDeltaWithTransform,this.layoutCorrected,u,p)}}registerSharedNode(c,u){this.sharedNodes.has(c)||this.sharedNodes.set(c,new BU),this.sharedNodes.get(c).add(u);const h=u.options.initialPromotionConfig;u.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(u):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:u,preserveFollowOpacity:f}={}){const h=this.getStack();h&&h.promote(this,f),c&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let u=!1;const{latestValues:f}=c;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(u=!0),!u)return;const h={};f.z&&Lm("z",c,h,this.animationValues);for(let p=0;p<Dm.length;p++)Lm(`rotate${Dm[p]}`,c,h,this.animationValues),Lm(`skew${Dm[p]}`,c,h,this.animationValues);c.render();for(const p in h)c.setStaticValue(p,h[p]),this.animationValues&&(this.animationValues[p]=h[p]);c.scheduleRender()}applyProjectionStyles(c,u){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Vd(u?.pointerEvents)||"",c.transform=f?f(this.latestValues,""):"none";return}const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Vd(u?.pointerEvents)||""),this.hasProjected&&!co(this.latestValues)&&(c.transform=f?f({},""):"none",this.hasProjected=!1);return}c.visibility="";const p=h.animationValues||h.latestValues;this.applyTransformsToTarget();let g=OU(this.projectionDeltaWithTransform,this.treeScale,p);f&&(g=f(p,g)),c.transform=g;const{x:v,y:w}=this.projectionDelta;c.transformOrigin=`${v.origin*100}% ${w.origin*100}% 0`,h.animationValues?c.opacity=h===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:c.opacity=h===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const S in ey){if(p[S]===void 0)continue;const{correct:b,applyTo:j,isCSSVariable:N}=ey[S],E=g==="none"?p[S]:b(p[S],h);if(j){const k=j.length;for(let P=0;P<k;P++)c[j[P]]=E}else N?this.options.visualElement.renderState.vars[S]=E:c[S]=E}this.options.layoutId&&(c.pointerEvents=h===this?Vd(u?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(D1),this.root.sharedNodes.clear()}}}function qU(t){t.updateLayout()}function HU(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:n}=t.layout,{animationType:s}=t.options,o=e.source!==t.layout.source;s==="size"?Cn(p=>{const g=o?e.measuredBox[p]:e.layoutBox[p],v=Ur(g);g.min=r[p].min,g.max=g.min+v}):WC(s,e.layoutBox,r)&&Cn(p=>{const g=o?e.measuredBox[p]:e.layoutBox[p],v=Ur(r[p]);g.max=g.min+v,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[p].max=t.relativeTarget[p].min+v)});const c=Na();hc(c,r,e.layoutBox);const u=Na();o?hc(u,t.applyTransform(n,!0),e.measuredBox):hc(u,r,e.layoutBox);const f=!FC(c);let h=!1;if(!t.resumeFrom){const p=t.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:g,layout:v}=p;if(g&&v){const w=tr();uf(w,e.layoutBox,g.layoutBox);const S=tr();uf(S,r,v.layoutBox),$C(w,S)||(h=!0),p.options.layoutRoot&&(t.relativeTarget=S,t.relativeTargetOrigin=w,t.relativeParent=p)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:u,layoutDelta:c,hasLayoutChanged:f,hasRelativeLayoutChanged:h})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function KU(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function GU(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function YU(t){t.clearSnapshot()}function D1(t){t.clearMeasurements()}function L1(t){t.isLayoutDirty=!1}function QU(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function F1(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function ZU(t){t.resolveTargetDelta()}function XU(t){t.calcProjection()}function JU(t){t.resetSkewAndRotation()}function e8(t){t.removeLeadSnapshot()}function $1(t,e,r){t.translate=Mt(e.translate,0,r),t.scale=Mt(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function V1(t,e,r,n){t.min=Mt(e.min,r.min,n),t.max=Mt(e.max,r.max,n)}function t8(t,e,r,n){V1(t.x,e.x,r.x,n),V1(t.y,e.y,r.y,n)}function r8(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const n8={duration:.45,ease:[.4,0,.1,1]},U1=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),B1=U1("applewebkit/")&&!U1("chrome/")?Math.round:Pn;function z1(t){t.min=B1(t.min),t.max=B1(t.max)}function s8(t){z1(t.x),z1(t.y)}function WC(t,e,r){return t==="position"||t==="preserve-aspect"&&!CU(P1(e),P1(r),.2)}function i8(t){return t!==t.root&&t.scroll?.wasRoot}const o8=zC({attachResizeListener:(t,e)=>Ic(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Fm={current:void 0},qC=zC({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Fm.current){const t=new o8({});t.mount(window),t.setOptions({layoutScroll:!0}),Fm.current=t}return Fm.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),qv=y.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function W1(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function a8(...t){return e=>{let r=!1;const n=t.map(s=>{const o=W1(s,e);return!r&&typeof o=="function"&&(r=!0),o});if(r)return()=>{for(let s=0;s<n.length;s++){const o=n[s];typeof o=="function"?o():W1(t[s],null)}}}}function l8(...t){return y.useCallback(a8(...t),t)}class c8 extends y.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const n=r.offsetParent,s=pC(n)&&n.offsetWidth||0,o=this.props.sizeRef.current;o.height=r.offsetHeight||0,o.width=r.offsetWidth||0,o.top=r.offsetTop,o.left=r.offsetLeft,o.right=s-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function u8({children:t,isPresent:e,anchorX:r,root:n}){const s=y.useId(),o=y.useRef(null),c=y.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:u}=y.useContext(qv),f=t.props?.ref??t?.ref,h=l8(o,f);return y.useInsertionEffect(()=>{const{width:p,height:g,top:v,left:w,right:S}=c.current;if(e||!o.current||!p||!g)return;const b=r==="left"?`left: ${w}`:`right: ${S}`;o.current.dataset.motionPopId=s;const j=document.createElement("style");u&&(j.nonce=u);const N=n??document.head;return N.appendChild(j),j.sheet&&j.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${g}px !important;
            ${b}px !important;
            top: ${v}px !important;
          }
        `),()=>{N.contains(j)&&N.removeChild(j)}},[e]),a.jsx(c8,{isPresent:e,childRef:o,sizeRef:c,children:y.cloneElement(t,{ref:h})})}const d8=({children:t,initial:e,isPresent:r,onExitComplete:n,custom:s,presenceAffectsLayout:o,mode:c,anchorX:u,root:f})=>{const h=yv(f8),p=y.useId();let g=!0,v=y.useMemo(()=>(g=!1,{id:p,initial:e,isPresent:r,custom:s,onExitComplete:w=>{h.set(w,!0);for(const S of h.values())if(!S)return;n&&n()},register:w=>(h.set(w,!1),()=>h.delete(w))}),[r,h,n]);return o&&g&&(v={...v}),y.useMemo(()=>{h.forEach((w,S)=>h.set(S,!1))},[r]),y.useEffect(()=>{!r&&!h.size&&n&&n()},[r]),c==="popLayout"&&(t=a.jsx(u8,{isPresent:r,anchorX:u,root:f,children:t})),a.jsx(Qf.Provider,{value:v,children:t})};function f8(){return new Map}function HC(t=!0){const e=y.useContext(Qf);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:s}=e,o=y.useId();y.useEffect(()=>{if(t)return s(o)},[t]);const c=y.useCallback(()=>t&&n&&n(o),[o,n,t]);return!r&&n?[!1,c]:[!0]}const Ed=t=>t.key||"";function q1(t){const e=[];return y.Children.forEach(t,r=>{y.isValidElement(r)&&e.push(r)}),e}const KC=({children:t,custom:e,initial:r=!0,onExitComplete:n,presenceAffectsLayout:s=!0,mode:o="sync",propagate:c=!1,anchorX:u="left",root:f})=>{const[h,p]=HC(c),g=y.useMemo(()=>q1(t),[t]),v=c&&!h?[]:g.map(Ed),w=y.useRef(!0),S=y.useRef(g),b=yv(()=>new Map),j=y.useRef(new Set),[N,E]=y.useState(g),[k,P]=y.useState(g);SE(()=>{w.current=!1,S.current=g;for(let O=0;O<k.length;O++){const C=Ed(k[O]);v.includes(C)?(b.delete(C),j.current.delete(C)):b.get(C)!==!0&&b.set(C,!1)}},[k,v.length,v.join("-")]);const A=[];if(g!==N){let O=[...g];for(let C=0;C<k.length;C++){const R=k[C],M=Ed(R);v.includes(M)||(O.splice(C,0,R),A.push(R))}return o==="wait"&&A.length&&(O=A),P(q1(O)),E(g),null}const{forceRender:L}=y.useContext(gv);return a.jsx(a.Fragment,{children:k.map(O=>{const C=Ed(O),R=c&&!h?!1:g===k||v.includes(C),M=()=>{if(j.current.has(C))return;if(j.current.add(C),b.has(C))b.set(C,!0);else return;let H=!0;b.forEach(V=>{V||(H=!1)}),H&&(L?.(),P(S.current),c&&p?.(),n&&n())};return a.jsx(d8,{isPresent:R,initial:!w.current||r?void 0:!1,custom:e,presenceAffectsLayout:s,mode:o,root:f,onExitComplete:R?void 0:M,anchorX:u,children:O},C)})})},GC=y.createContext({strict:!1}),H1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let K1=!1;function h8(){if(K1)return;const t={};for(const e in H1)t[e]={isEnabled:r=>H1[e].some(n=>!!r[n])};_C(t),K1=!0}function YC(){return h8(),J6()}function p8(t){const e=YC();for(const r in t)e[r]={...e[r],...t[r]};_C(e)}const m8=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function df(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||m8.has(t)}let QC=t=>!df(t);function g8(t){typeof t=="function"&&(QC=e=>e.startsWith("on")?!df(e):t(e))}try{g8(require("@emotion/is-prop-valid").default)}catch{}function y8(t,e,r){const n={};for(const s in t)s==="values"&&typeof t.values=="object"||(QC(s)||r===!0&&df(s)||!e&&!df(s)||t.draggable&&s.startsWith("onDrag"))&&(n[s]=t[s]);return n}const Jf=y.createContext({});function v8(t,e){if(Xf(t)){const{initial:r,animate:n}=t;return{initial:r===!1||Oc(r)?r:void 0,animate:Oc(n)?n:void 0}}return t.inherit!==!1?e:{}}function x8(t){const{initial:e,animate:r}=v8(t,y.useContext(Jf));return y.useMemo(()=>({initial:e,animate:r}),[G1(e),G1(r)])}function G1(t){return Array.isArray(t)?t.join(" "):t}const Hv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function ZC(t,e,r){for(const n in e)!Pr(e[n])&&!TC(n,r)&&(t[n]=e[n])}function w8({transformTemplate:t},e){return y.useMemo(()=>{const r=Hv();return zv(r,e,t),Object.assign({},r.vars,r.style)},[e])}function b8(t,e){const r=t.style||{},n={};return ZC(n,r,t),Object.assign(n,w8(t,e)),n}function _8(t,e){const r={},n=b8(t,e);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=n,r}const XC=()=>({...Hv(),attrs:{}});function S8(t,e,r,n){const s=y.useMemo(()=>{const o=XC();return RC(o,e,AC(n),t.transformTemplate,t.style),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};ZC(o,t.style,t),s.style={...o,...s.style}}return s}const j8=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Kv(t){return typeof t!="string"||t.includes("-")?!1:!!(j8.indexOf(t)>-1||/[A-Z]/u.test(t))}function k8(t,e,r,{latestValues:n},s,o=!1,c){const f=(c??Kv(t)?S8:_8)(e,n,s,t),h=y8(e,typeof t=="string",o),p=t!==y.Fragment?{...h,...f,ref:r}:{},{children:g}=e,v=y.useMemo(()=>Pr(g)?g.get():g,[g]);return y.createElement(t,{...p,children:v})}function E8({scrapeMotionValuesFromProps:t,createRenderState:e},r,n,s){return{latestValues:C8(r,n,s,t),renderState:e()}}function C8(t,e,r,n){const s={},o=n(t,{});for(const v in o)s[v]=Vd(o[v]);let{initial:c,animate:u}=t;const f=Xf(t),h=bC(t);e&&h&&!f&&t.inherit!==!1&&(c===void 0&&(c=e.initial),u===void 0&&(u=e.animate));let p=r?r.initial===!1:!1;p=p||c===!1;const g=p?u:c;if(g&&typeof g!="boolean"&&!Zf(g)){const v=Array.isArray(g)?g:[g];for(let w=0;w<v.length;w++){const S=Dv(t,v[w]);if(S){const{transitionEnd:b,transition:j,...N}=S;for(const E in N){let k=N[E];if(Array.isArray(k)){const P=p?k.length-1:0;k=k[P]}k!==null&&(s[E]=k)}for(const E in b)s[E]=b[E]}}}return s}const JC=t=>(e,r)=>{const n=y.useContext(Jf),s=y.useContext(Qf),o=()=>E8(t,e,n,s);return r?o():yv(o)},N8=JC({scrapeMotionValuesFromProps:Wv,createRenderState:Hv}),T8=JC({scrapeMotionValuesFromProps:OC,createRenderState:XC}),R8=Symbol.for("motionComponentSymbol");function P8(t,e,r){const n=y.useRef(r);y.useInsertionEffect(()=>{n.current=r});const s=y.useRef(null);return y.useCallback(o=>{o&&t.onMount?.(o),e&&(o?e.mount(o):e.unmount());const c=n.current;if(typeof c=="function")if(o){const u=c(o);typeof u=="function"&&(s.current=u)}else s.current?(s.current(),s.current=null):c(o);else c&&(c.current=o)},[e])}const eN=y.createContext({});function rc(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function A8(t,e,r,n,s,o){const{visualElement:c}=y.useContext(Jf),u=y.useContext(GC),f=y.useContext(Qf),h=y.useContext(qv).reducedMotion,p=y.useRef(null);n=n||u.renderer,!p.current&&n&&(p.current=n(t,{visualState:e,parent:c,props:r,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:h,isSVG:o}));const g=p.current,v=y.useContext(eN);g&&!g.projection&&s&&(g.type==="html"||g.type==="svg")&&O8(p.current,r,s,v);const w=y.useRef(!1);y.useInsertionEffect(()=>{g&&w.current&&g.update(r,f)});const S=r[oC],b=y.useRef(!!S&&!window.MotionHandoffIsComplete?.(S)&&window.MotionHasOptimisedAnimation?.(S));return SE(()=>{g&&(w.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),g.scheduleRenderMicrotask(),b.current&&g.animationState&&g.animationState.animateChanges())}),y.useEffect(()=>{g&&(!b.current&&g.animationState&&g.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(S)}),b.current=!1),g.enteringChildren=void 0)}),g}function O8(t,e,r,n){const{layoutId:s,layout:o,drag:c,dragConstraints:u,layoutScroll:f,layoutRoot:h,layoutCrossfade:p}=e;t.projection=new r(t.latestValues,e["data-framer-portal-id"]?void 0:tN(t.parent)),t.projection.setOptions({layoutId:s,layout:o,alwaysMeasureLayout:!!c||u&&rc(u),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:n,crossfade:p,layoutScroll:f,layoutRoot:h})}function tN(t){if(t)return t.options.allowProjection!==!1?t.projection:tN(t.parent)}function $m(t,{forwardMotionProps:e=!1,type:r}={},n,s){n&&p8(n);const o=r?r==="svg":Kv(t),c=o?T8:N8;function u(h,p){let g;const v={...y.useContext(qv),...h,layoutId:I8(h)},{isStatic:w}=v,S=x8(h),b=c(h,w);if(!w&&_E){M8();const j=D8(v);g=j.MeasureLayout,S.visualElement=A8(t,b,v,s,j.ProjectionNode,o)}return a.jsxs(Jf.Provider,{value:S,children:[g&&S.visualElement?a.jsx(g,{visualElement:S.visualElement,...v}):null,k8(t,h,P8(b,S.visualElement,p),b,w,e,o)]})}u.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const f=y.forwardRef(u);return f[R8]=t,f}function I8({layoutId:t}){const e=y.useContext(gv).id;return e&&t!==void 0?e+"-"+t:t}function M8(t,e){y.useContext(GC).strict}function D8(t){const e=YC(),{drag:r,layout:n}=e;if(!r&&!n)return{};const s={...r,...n};return{MeasureLayout:r?.isEnabled(t)||n?.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function L8(t,e){if(typeof Proxy>"u")return $m;const r=new Map,n=(o,c)=>$m(o,c,t,e),s=(o,c)=>n(o,c);return new Proxy(s,{get:(o,c)=>c==="create"?n:(r.has(c)||r.set(c,$m(c,void 0,t,e)),r.get(c))})}const F8=(t,e)=>e.isSVG??Kv(t)?new gU(e):new uU(e,{allowProjection:t!==y.Fragment});class $8 extends Bi{constructor(e){super(e),e.animationState||(e.animationState=bU(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Zf(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let V8=0;class U8 extends Bi{constructor(){super(...arguments),this.id=V8++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const s=this.node.animationState.setActive("exit",!e);r&&!e&&s.then(()=>{r(this.id)})}mount(){const{register:e,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const B8={animation:{Feature:$8},exit:{Feature:U8}};function Zc(t){return{point:{x:t.pageX,y:t.pageY}}}const z8=t=>e=>Vv(e)&&t(e,Zc(e));function pc(t,e,r,n){return Ic(t,e,z8(r),n)}const rN=({current:t})=>t?t.ownerDocument.defaultView:null,Y1=(t,e)=>Math.abs(t-e);function W8(t,e){const r=Y1(t.x,e.x),n=Y1(t.y,e.y);return Math.sqrt(r**2+n**2)}const Q1=new Set(["auto","scroll"]);class nN{constructor(e,r,{transformPagePoint:n,contextWindow:s=window,dragSnapToOrigin:o=!1,distanceThreshold:c=3,element:u}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=w=>{this.handleScroll(w.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=Um(this.lastMoveEventInfo,this.history),S=this.startEvent!==null,b=W8(w.offset,{x:0,y:0})>=this.distanceThreshold;if(!S&&!b)return;const{point:j}=w,{timestamp:N}=_r;this.history.push({...j,timestamp:N});const{onStart:E,onMove:k}=this.handlers;S||(E&&E(this.lastMoveEvent,w),this.startEvent=this.lastMoveEvent),k&&k(this.lastMoveEvent,w)},this.handlePointerMove=(w,S)=>{this.lastMoveEvent=w,this.lastMoveEventInfo=Vm(S,this.transformPagePoint),Tt.update(this.updatePoint,!0)},this.handlePointerUp=(w,S)=>{this.end();const{onEnd:b,onSessionEnd:j,resumeAnimation:N}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&N&&N(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=Um(w.type==="pointercancel"?this.lastMoveEventInfo:Vm(S,this.transformPagePoint),this.history);this.startEvent&&b&&b(w,E),j&&j(w,E)},!Vv(e))return;this.dragSnapToOrigin=o,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=c,this.contextWindow=s||window;const f=Zc(e),h=Vm(f,this.transformPagePoint),{point:p}=h,{timestamp:g}=_r;this.history=[{...p,timestamp:g}];const{onSessionStart:v}=r;v&&v(e,Um(h,this.history)),this.removeListeners=Gc(pc(this.contextWindow,"pointermove",this.handlePointerMove),pc(this.contextWindow,"pointerup",this.handlePointerUp),pc(this.contextWindow,"pointercancel",this.handlePointerUp)),u&&this.startScrollTracking(u)}startScrollTracking(e){let r=e.parentElement;for(;r;){const n=getComputedStyle(r);(Q1.has(n.overflowX)||Q1.has(n.overflowY))&&this.scrollPositions.set(r,{x:r.scrollLeft,y:r.scrollTop}),r=r.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const r=this.scrollPositions.get(e);if(!r)return;const n=e===window,s=n?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},o={x:s.x-r.x,y:s.y-r.y};o.x===0&&o.y===0||(n?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=o.x,this.lastMoveEventInfo.point.y+=o.y):this.history.length>0&&(this.history[0].x-=o.x,this.history[0].y-=o.y),this.scrollPositions.set(e,s),Tt.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Mi(this.updatePoint)}}function Vm(t,e){return e?{point:e(t.point)}:t}function Z1(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Um({point:t},e){return{point:t,delta:Z1(t,sN(e)),offset:Z1(t,q8(e)),velocity:H8(e,.1)}}function q8(t){return t[0]}function sN(t){return t[t.length-1]}function H8(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,n=null;const s=sN(t);for(;r>=0&&(n=t[r],!(s.timestamp-n.timestamp>$s(e)));)r--;if(!n)return{x:0,y:0};const o=Tn(s.timestamp-n.timestamp);if(o===0)return{x:0,y:0};const c={x:(s.x-n.x)/o,y:(s.y-n.y)/o};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function K8(t,{min:e,max:r},n){return e!==void 0&&t<e?t=n?Mt(e,t,n.min):Math.max(t,e):r!==void 0&&t>r&&(t=n?Mt(r,t,n.max):Math.min(t,r)),t}function X1(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function G8(t,{top:e,left:r,bottom:n,right:s}){return{x:X1(t.x,r,s),y:X1(t.y,e,n)}}function J1(t,e){let r=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,n]=[n,r]),{min:r,max:n}}function Y8(t,e){return{x:J1(t.x,e.x),y:J1(t.y,e.y)}}function Q8(t,e){let r=.5;const n=Ur(t),s=Ur(e);return s>n?r=Rc(e.min,e.max-n,t.min):n>s&&(r=Rc(t.min,t.max-s,e.min)),Ss(0,1,r)}function Z8(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const ty=.35;function X8(t=ty){return t===!1?t=0:t===!0&&(t=ty),{x:eS(t,"left","right"),y:eS(t,"top","bottom")}}function eS(t,e,r){return{min:tS(t,e),max:tS(t,r)}}function tS(t,e){return typeof t=="number"?t:t[e]||0}const J8=new WeakMap;class eB{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=tr(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const o=g=>{r?(this.stopAnimation(),this.snapToCursor(Zc(g).point)):this.pauseAnimation()},c=(g,v)=>{this.stopAnimation();const{drag:w,dragPropagation:S,onDragStart:b}=this.getProps();if(w&&!S&&(this.openDragLock&&this.openDragLock(),this.openDragLock=U6(w),!this.openDragLock))return;this.latestPointerEvent=g,this.latestPanInfo=v,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Cn(N=>{let E=this.getAxisMotionValue(N).get()||0;if(ws.test(E)){const{projection:k}=this.visualElement;if(k&&k.layout){const P=k.layout.layoutBox[N];P&&(E=Ur(P)*(parseFloat(E)/100))}}this.originPoint[N]=E}),b&&Tt.postRender(()=>b(g,v)),Gg(this.visualElement,"transform");const{animationState:j}=this.visualElement;j&&j.setActive("whileDrag",!0)},u=(g,v)=>{this.latestPointerEvent=g,this.latestPanInfo=v;const{dragPropagation:w,dragDirectionLock:S,onDirectionLock:b,onDrag:j}=this.getProps();if(!w&&!this.openDragLock)return;const{offset:N}=v;if(S&&this.currentDirection===null){this.currentDirection=tB(N),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",v.point,N),this.updateAxis("y",v.point,N),this.visualElement.render(),j&&j(g,v)},f=(g,v)=>{this.latestPointerEvent=g,this.latestPanInfo=v,this.stop(g,v),this.latestPointerEvent=null,this.latestPanInfo=null},h=()=>Cn(g=>this.getAnimationState(g)==="paused"&&this.getAxisMotionValue(g).animation?.play()),{dragSnapToOrigin:p}=this.getProps();this.panSession=new nN(e,{onSessionStart:o,onStart:c,onMove:u,onSessionEnd:f,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,distanceThreshold:n,contextWindow:rN(this.visualElement),element:this.visualElement.current})}stop(e,r){const n=e||this.latestPointerEvent,s=r||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!s||!n)return;const{velocity:c}=s;this.startAnimation(c);const{onDragEnd:u}=this.getProps();u&&Tt.postRender(()=>u(n,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,n){const{drag:s}=this.getProps();if(!n||!Cd(e,s,this.currentDirection))return;const o=this.getAxisMotionValue(e);let c=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(c=K8(c,this.constraints[e],this.elastic[e])),o.set(c)}resolveConstraints(){const{dragConstraints:e,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,s=this.constraints;e&&rc(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&n?this.constraints=G8(n.layoutBox,e):this.constraints=!1,this.elastic=X8(r),s!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Cn(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=Z8(n.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!rc(e))return!1;const n=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const o=sU(n,s.root,this.visualElement.getTransformPagePoint());let c=Y8(s.layout.layoutBox,o);if(r){const u=r(tU(c));this.hasMutatedConstraints=!!u,u&&(c=jC(u))}return c}startAnimation(e){const{drag:r,dragMomentum:n,dragElastic:s,dragTransition:o,dragSnapToOrigin:c,onDragTransitionEnd:u}=this.getProps(),f=this.constraints||{},h=Cn(p=>{if(!Cd(p,r,this.currentDirection))return;let g=f&&f[p]||{};c&&(g={min:0,max:0});const v=s?200:1e6,w=s?40:1e7,S={type:"inertia",velocity:n?e[p]:0,bounceStiffness:v,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...o,...g};return this.startAxisValueAnimation(p,S)});return Promise.all(h).then(u)}startAxisValueAnimation(e,r){const n=this.getAxisMotionValue(e);return Gg(this.visualElement,e),n.start(Mv(e,n,0,r,this.visualElement,!1))}stopAnimation(){Cn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Cn(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),s=n[r];return s||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){Cn(r=>{const{drag:n}=this.getProps();if(!Cd(r,n,this.currentDirection))return;const{projection:s}=this.visualElement,o=this.getAxisMotionValue(r);if(s&&s.layout){const{min:c,max:u}=s.layout.layoutBox[r],f=o.get()||0;o.set(e[r]-Mt(c,u,.5)+f)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!rc(r)||!n||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Cn(c=>{const u=this.getAxisMotionValue(c);if(u&&this.constraints!==!1){const f=u.get();s[c]=Q8({min:f,max:f},this.constraints[c])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Cn(c=>{if(!Cd(c,e,null))return;const u=this.getAxisMotionValue(c),{min:f,max:h}=this.constraints[c];u.set(Mt(f,h,s[c]))})}addListeners(){if(!this.visualElement.current)return;J8.set(this.visualElement,this);const e=this.visualElement.current,r=pc(e,"pointerdown",f=>{const{drag:h,dragListener:p=!0}=this.getProps();h&&p&&!vC(f.target)&&this.start(f)}),n=()=>{const{dragConstraints:f}=this.getProps();rc(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,o=s.addEventListener("measure",n);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Tt.read(n);const c=Ic(window,"resize",()=>this.scalePositionWithinConstraints()),u=s.addEventListener("didUpdate",(({delta:f,hasLayoutChanged:h})=>{this.isDragging&&h&&(Cn(p=>{const g=this.getAxisMotionValue(p);g&&(this.originPoint[p]+=f[p].translate,g.set(g.get()+f[p].translate))}),this.visualElement.render())}));return()=>{c(),r(),o(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:s=!1,dragConstraints:o=!1,dragElastic:c=ty,dragMomentum:u=!0}=e;return{...e,drag:r,dragDirectionLock:n,dragPropagation:s,dragConstraints:o,dragElastic:c,dragMomentum:u}}}function Cd(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function tB(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class rB extends Bi{constructor(e){super(e),this.removeGroupControls=Pn,this.removeListeners=Pn,this.controls=new eB(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Pn}update(){const{dragControls:e}=this.node.getProps(),{dragControls:r}=this.node.prevProps||{};e!==r&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners()}}const rS=t=>(e,r)=>{t&&Tt.postRender(()=>t(e,r))};class nB extends Bi{constructor(){super(...arguments),this.removePointerDownListener=Pn}onPointerDown(e){this.session=new nN(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:rN(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:n,onPanEnd:s}=this.node.getProps();return{onSessionStart:rS(e),onStart:rS(r),onMove:n,onEnd:(o,c)=>{delete this.session,s&&Tt.postRender(()=>s(o,c))}}}mount(){this.removePointerDownListener=pc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Bm=!1;class sB extends y.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n,layoutId:s}=this.props,{projection:o}=e;o&&(r.group&&r.group.add(o),n&&n.register&&s&&n.register(o),Bm&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Ud.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:n,drag:s,isPresent:o}=this.props,{projection:c}=n;return c&&(c.isPresent=o,Bm=!0,s||e.layoutDependency!==r||r===void 0||e.isPresent!==o?c.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?c.promote():c.relegate()||Tt.postRender(()=>{const u=c.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),$v.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:s}=e;Bm=!0,s&&(s.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(s),n&&n.deregister&&n.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function iN(t){const[e,r]=HC(),n=y.useContext(gv);return a.jsx(sB,{...t,layoutGroup:n,switchLayoutGroup:y.useContext(eN),isPresent:e,safeToRemove:r})}const iB={pan:{Feature:nB},drag:{Feature:rB,ProjectionNode:qC,MeasureLayout:iN}};function nS(t,e,r){const{props:n}=t;t.animationState&&n.whileHover&&t.animationState.setActive("whileHover",r==="Start");const s="onHover"+r,o=n[s];o&&Tt.postRender(()=>o(e,Zc(e)))}class oB extends Bi{mount(){const{current:e}=this.node;e&&(this.unmount=B6(e,(r,n)=>(nS(this.node,n,"Start"),s=>nS(this.node,s,"End"))))}unmount(){}}class aB extends Bi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Gc(Ic(this.node.current,"focus",()=>this.onFocus()),Ic(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function sS(t,e,r){const{props:n}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&n.whileTap&&t.animationState.setActive("whileTap",r==="Start");const s="onTap"+(r==="End"?"":r),o=n[s];o&&Tt.postRender(()=>o(e,Zc(e)))}class lB extends Bi{mount(){const{current:e}=this.node;e&&(this.unmount=q6(e,(r,n)=>(sS(this.node,n,"Start"),(s,{success:o})=>sS(this.node,s,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const ry=new WeakMap,zm=new WeakMap,cB=t=>{const e=ry.get(t.target);e&&e(t)},uB=t=>{t.forEach(cB)};function dB({root:t,...e}){const r=t||document;zm.has(r)||zm.set(r,{});const n=zm.get(r),s=JSON.stringify(e);return n[s]||(n[s]=new IntersectionObserver(uB,{root:t,...e})),n[s]}function fB(t,e,r){const n=dB(e);return ry.set(t,r),n.observe(t),()=>{ry.delete(t),n.unobserve(t)}}const hB={some:0,all:1};class pB extends Bi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:n,amount:s="some",once:o}=e,c={root:r?r.current:void 0,rootMargin:n,threshold:typeof s=="number"?s:hB[s]},u=f=>{const{isIntersecting:h}=f;if(this.isInView===h||(this.isInView=h,o&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:p,onViewportLeave:g}=this.node.getProps(),v=h?p:g;v&&v(f)};return fB(this.node.current,c,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(mB(e,r))&&this.startObserver()}unmount(){}}function mB({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const gB={inView:{Feature:pB},tap:{Feature:lB},focus:{Feature:aB},hover:{Feature:oB}},yB={layout:{ProjectionNode:qC,MeasureLayout:iN}},vB={...B8,...gB,...iB,...yB},fe=L8(vB,F8),Gv=Uc("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Me=y.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...s},o)=>{const c=n?cj:"button";return a.jsx(c,{className:be(Gv({variant:e,size:r,className:t})),ref:o,...s})});Me.displayName="Button";var xB=y.createContext(void 0);function Lo(t){const e=y.useContext(xB);return t||e||"ltr"}var Wm=0;function Yv(){y.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??iS()),document.body.insertAdjacentElement("beforeend",t[1]??iS()),Wm++,()=>{Wm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Wm--}},[])}function iS(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var qm="focusScope.autoFocusOnMount",Hm="focusScope.autoFocusOnUnmount",oS={bubbles:!1,cancelable:!0},wB="FocusScope",eh=y.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...c}=t,[u,f]=y.useState(null),h=tn(s),p=tn(o),g=y.useRef(null),v=Ge(e,b=>f(b)),w=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(n){let b=function(k){if(w.paused||!u)return;const P=k.target;u.contains(P)?g.current=P:yi(g.current,{select:!0})},j=function(k){if(w.paused||!u)return;const P=k.relatedTarget;P!==null&&(u.contains(P)||yi(g.current,{select:!0}))},N=function(k){if(document.activeElement===document.body)for(const A of k)A.removedNodes.length>0&&yi(u)};document.addEventListener("focusin",b),document.addEventListener("focusout",j);const E=new MutationObserver(N);return u&&E.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",j),E.disconnect()}}},[n,u,w.paused]),y.useEffect(()=>{if(u){lS.add(w);const b=document.activeElement;if(!u.contains(b)){const N=new CustomEvent(qm,oS);u.addEventListener(qm,h),u.dispatchEvent(N),N.defaultPrevented||(bB(EB(oN(u)),{select:!0}),document.activeElement===b&&yi(u))}return()=>{u.removeEventListener(qm,h),setTimeout(()=>{const N=new CustomEvent(Hm,oS);u.addEventListener(Hm,p),u.dispatchEvent(N),N.defaultPrevented||yi(b??document.body,{select:!0}),u.removeEventListener(Hm,p),lS.remove(w)},0)}}},[u,h,p,w]);const S=y.useCallback(b=>{if(!r&&!n||w.paused)return;const j=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,N=document.activeElement;if(j&&N){const E=b.currentTarget,[k,P]=_B(E);k&&P?!b.shiftKey&&N===P?(b.preventDefault(),r&&yi(k,{select:!0})):b.shiftKey&&N===k&&(b.preventDefault(),r&&yi(P,{select:!0})):N===E&&b.preventDefault()}},[r,n,w.paused]);return a.jsx(Ae.div,{tabIndex:-1,...c,ref:v,onKeyDown:S})});eh.displayName=wB;function bB(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(yi(n,{select:e}),document.activeElement!==r)return}function _B(t){const e=oN(t),r=aS(e,t),n=aS(e.reverse(),t);return[r,n]}function oN(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function aS(t,e){for(const r of t)if(!SB(r,{upTo:e}))return r}function SB(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function jB(t){return t instanceof HTMLInputElement&&"select"in t}function yi(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&jB(t)&&e&&t.select()}}var lS=kB();function kB(){let t=[];return{add(e){const r=t[0];e!==r&&r?.pause(),t=cS(t,e),t.unshift(e)},remove(e){t=cS(t,e),t[0]?.resume()}}}function cS(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function EB(t){return t.filter(e=>e.tagName!=="A")}var Km="rovingFocusGroup.onEntryFocus",CB={bubbles:!1,cancelable:!0},Xc="RovingFocusGroup",[ny,aN,NB]=Ya(Xc),[TB,al]=Sr(Xc,[NB]),[RB,PB]=TB(Xc),lN=y.forwardRef((t,e)=>a.jsx(ny.Provider,{scope:t.__scopeRovingFocusGroup,children:a.jsx(ny.Slot,{scope:t.__scopeRovingFocusGroup,children:a.jsx(AB,{...t,ref:e})})}));lN.displayName=Xc;var AB=y.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:o,currentTabStopId:c,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:f,onEntryFocus:h,preventScrollOnEntryFocus:p=!1,...g}=t,v=y.useRef(null),w=Ge(e,v),S=Lo(o),[b,j]=yn({prop:c,defaultProp:u??null,onChange:f,caller:Xc}),[N,E]=y.useState(!1),k=tn(h),P=aN(r),A=y.useRef(!1),[L,O]=y.useState(0);return y.useEffect(()=>{const C=v.current;if(C)return C.addEventListener(Km,k),()=>C.removeEventListener(Km,k)},[k]),a.jsx(RB,{scope:r,orientation:n,dir:S,loop:s,currentTabStopId:b,onItemFocus:y.useCallback(C=>j(C),[j]),onItemShiftTab:y.useCallback(()=>E(!0),[]),onFocusableItemAdd:y.useCallback(()=>O(C=>C+1),[]),onFocusableItemRemove:y.useCallback(()=>O(C=>C-1),[]),children:a.jsx(Ae.div,{tabIndex:N||L===0?-1:0,"data-orientation":n,...g,ref:w,style:{outline:"none",...t.style},onMouseDown:ge(t.onMouseDown,()=>{A.current=!0}),onFocus:ge(t.onFocus,C=>{const R=!A.current;if(C.target===C.currentTarget&&R&&!N){const M=new CustomEvent(Km,CB);if(C.currentTarget.dispatchEvent(M),!M.defaultPrevented){const H=P().filter(se=>se.focusable),V=H.find(se=>se.active),J=H.find(se=>se.id===b),oe=[V,J,...H].filter(Boolean).map(se=>se.ref.current);dN(oe,p)}}A.current=!1}),onBlur:ge(t.onBlur,()=>E(!1))})})}),cN="RovingFocusGroupItem",uN=y.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:o,children:c,...u}=t,f=Rn(),h=o||f,p=PB(cN,r),g=p.currentTabStopId===h,v=aN(r),{onFocusableItemAdd:w,onFocusableItemRemove:S,currentTabStopId:b}=p;return y.useEffect(()=>{if(n)return w(),()=>S()},[n,w,S]),a.jsx(ny.ItemSlot,{scope:r,id:h,focusable:n,active:s,children:a.jsx(Ae.span,{tabIndex:g?0:-1,"data-orientation":p.orientation,...u,ref:e,onMouseDown:ge(t.onMouseDown,j=>{n?p.onItemFocus(h):j.preventDefault()}),onFocus:ge(t.onFocus,()=>p.onItemFocus(h)),onKeyDown:ge(t.onKeyDown,j=>{if(j.key==="Tab"&&j.shiftKey){p.onItemShiftTab();return}if(j.target!==j.currentTarget)return;const N=MB(j,p.orientation,p.dir);if(N!==void 0){if(j.metaKey||j.ctrlKey||j.altKey||j.shiftKey)return;j.preventDefault();let k=v().filter(P=>P.focusable).map(P=>P.ref.current);if(N==="last")k.reverse();else if(N==="prev"||N==="next"){N==="prev"&&k.reverse();const P=k.indexOf(j.currentTarget);k=p.loop?DB(k,P+1):k.slice(P+1)}setTimeout(()=>dN(k))}}),children:typeof c=="function"?c({isCurrentTabStop:g,hasTabStop:b!=null}):c})})});uN.displayName=cN;var OB={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function IB(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function MB(t,e,r){const n=IB(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return OB[n]}function dN(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function DB(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var Qv=lN,Zv=uN,LB=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},ya=new WeakMap,Nd=new WeakMap,Td={},Gm=0,fN=function(t){return t&&(t.host||fN(t.parentNode))},FB=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=fN(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},$B=function(t,e,r,n){var s=FB(e,Array.isArray(t)?t:[t]);Td[r]||(Td[r]=new WeakMap);var o=Td[r],c=[],u=new Set,f=new Set(s),h=function(g){!g||u.has(g)||(u.add(g),h(g.parentNode))};s.forEach(h);var p=function(g){!g||f.has(g)||Array.prototype.forEach.call(g.children,function(v){if(u.has(v))p(v);else try{var w=v.getAttribute(n),S=w!==null&&w!=="false",b=(ya.get(v)||0)+1,j=(o.get(v)||0)+1;ya.set(v,b),o.set(v,j),c.push(v),b===1&&S&&Nd.set(v,!0),j===1&&v.setAttribute(r,"true"),S||v.setAttribute(n,"true")}catch(N){console.error("aria-hidden: cannot operate on ",v,N)}})};return p(e),u.clear(),Gm++,function(){c.forEach(function(g){var v=ya.get(g)-1,w=o.get(g)-1;ya.set(g,v),o.set(g,w),v||(Nd.has(g)||g.removeAttribute(n),Nd.delete(g)),w||g.removeAttribute(r)}),Gm--,Gm||(ya=new WeakMap,ya=new WeakMap,Nd=new WeakMap,Td={})}},Xv=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),s=LB(t);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live]"))),$B(n,s,r,"aria-hidden")):function(){return null}},Bd="right-scroll-bar-position",zd="width-before-scroll-bar",VB="with-scroll-bars-hidden",UB="--removed-body-scroll-bar-size";function Ym(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function BB(t,e){var r=y.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=e,r.facade}var zB=typeof window<"u"?y.useLayoutEffect:y.useEffect,uS=new WeakMap;function WB(t,e){var r=BB(null,function(n){return t.forEach(function(s){return Ym(s,n)})});return zB(function(){var n=uS.get(r);if(n){var s=new Set(n),o=new Set(t),c=r.current;s.forEach(function(u){o.has(u)||Ym(u,null)}),o.forEach(function(u){s.has(u)||Ym(u,c)})}uS.set(r,t)},[t]),r}function qB(t){return t}function HB(t,e){e===void 0&&(e=qB);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(o){var c=e(o,n);return r.push(c),function(){r=r.filter(function(u){return u!==c})}},assignSyncMedium:function(o){for(n=!0;r.length;){var c=r;r=[],c.forEach(o)}r={push:function(u){return o(u)},filter:function(){return r}}},assignMedium:function(o){n=!0;var c=[];if(r.length){var u=r;r=[],u.forEach(o),c=r}var f=function(){var p=c;c=[],p.forEach(o)},h=function(){return Promise.resolve().then(f)};h(),r={push:function(p){c.push(p),h()},filter:function(p){return c=c.filter(p),r}}}};return s}function KB(t){t===void 0&&(t={});var e=HB(null);return e.options=fs({async:!0,ssr:!1},t),e}var hN=function(t){var e=t.sideCar,r=nl(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return y.createElement(n,fs({},r))};hN.isSideCarExport=!0;function GB(t,e){return t.useMedium(e),hN}var pN=KB(),Qm=function(){},th=y.forwardRef(function(t,e){var r=y.useRef(null),n=y.useState({onScrollCapture:Qm,onWheelCapture:Qm,onTouchMoveCapture:Qm}),s=n[0],o=n[1],c=t.forwardProps,u=t.children,f=t.className,h=t.removeScrollBar,p=t.enabled,g=t.shards,v=t.sideCar,w=t.noRelative,S=t.noIsolation,b=t.inert,j=t.allowPinchZoom,N=t.as,E=N===void 0?"div":N,k=t.gapMode,P=nl(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=v,L=WB([r,e]),O=fs(fs({},P),s);return y.createElement(y.Fragment,null,p&&y.createElement(A,{sideCar:pN,removeScrollBar:h,shards:g,noRelative:w,noIsolation:S,inert:b,setCallbacks:o,allowPinchZoom:!!j,lockRef:r,gapMode:k}),c?y.cloneElement(y.Children.only(u),fs(fs({},O),{ref:L})):y.createElement(E,fs({},O,{className:f,ref:L}),u))});th.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};th.classNames={fullWidth:zd,zeroRight:Bd};var YB=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function QB(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=YB();return e&&t.setAttribute("nonce",e),t}function ZB(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function XB(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var JB=function(){var t=0,e=null;return{add:function(r){t==0&&(e=QB())&&(ZB(e,r),XB(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},ez=function(){var t=JB();return function(e,r){y.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},mN=function(){var t=ez(),e=function(r){var n=r.styles,s=r.dynamic;return t(n,s),null};return e},tz={left:0,top:0,right:0,gap:0},Zm=function(t){return parseInt(t||"",10)||0},rz=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Zm(r),Zm(n),Zm(s)]},nz=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return tz;var e=rz(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},sz=mN(),Ma="data-scroll-locked",iz=function(t,e,r,n){var s=t.left,o=t.top,c=t.right,u=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(VB,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(u,"px ").concat(n,`;
  }
  body[`).concat(Ma,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(u,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Bd,` {
    right: `).concat(u,"px ").concat(n,`;
  }
  
  .`).concat(zd,` {
    margin-right: `).concat(u,"px ").concat(n,`;
  }
  
  .`).concat(Bd," .").concat(Bd,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(zd," .").concat(zd,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Ma,`] {
    `).concat(UB,": ").concat(u,`px;
  }
`)},dS=function(){var t=parseInt(document.body.getAttribute(Ma)||"0",10);return isFinite(t)?t:0},oz=function(){y.useEffect(function(){return document.body.setAttribute(Ma,(dS()+1).toString()),function(){var t=dS()-1;t<=0?document.body.removeAttribute(Ma):document.body.setAttribute(Ma,t.toString())}},[])},az=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,s=n===void 0?"margin":n;oz();var o=y.useMemo(function(){return nz(s)},[s]);return y.createElement(sz,{styles:iz(o,!e,s,r?"":"!important")})},sy=!1;if(typeof window<"u")try{var Rd=Object.defineProperty({},"passive",{get:function(){return sy=!0,!0}});window.addEventListener("test",Rd,Rd),window.removeEventListener("test",Rd,Rd)}catch{sy=!1}var va=sy?{passive:!1}:!1,lz=function(t){return t.tagName==="TEXTAREA"},gN=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!lz(t)&&r[e]==="visible")},cz=function(t){return gN(t,"overflowY")},uz=function(t){return gN(t,"overflowX")},fS=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=yN(t,n);if(s){var o=vN(t,n),c=o[1],u=o[2];if(c>u)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},dz=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},fz=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},yN=function(t,e){return t==="v"?cz(e):uz(e)},vN=function(t,e){return t==="v"?dz(e):fz(e)},hz=function(t,e){return t==="h"&&e==="rtl"?-1:1},pz=function(t,e,r,n,s){var o=hz(t,window.getComputedStyle(e).direction),c=o*n,u=r.target,f=e.contains(u),h=!1,p=c>0,g=0,v=0;do{if(!u)break;var w=vN(t,u),S=w[0],b=w[1],j=w[2],N=b-j-o*S;(S||N)&&yN(t,u)&&(g+=N,v+=S);var E=u.parentNode;u=E&&E.nodeType===Node.DOCUMENT_FRAGMENT_NODE?E.host:E}while(!f&&u!==document.body||f&&(e.contains(u)||e===u));return(p&&Math.abs(g)<1||!p&&Math.abs(v)<1)&&(h=!0),h},Pd=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},hS=function(t){return[t.deltaX,t.deltaY]},pS=function(t){return t&&"current"in t?t.current:t},mz=function(t,e){return t[0]===e[0]&&t[1]===e[1]},gz=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},yz=0,xa=[];function vz(t){var e=y.useRef([]),r=y.useRef([0,0]),n=y.useRef(),s=y.useState(yz++)[0],o=y.useState(mN)[0],c=y.useRef(t);y.useEffect(function(){c.current=t},[t]),y.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var b=n3([t.lockRef.current],(t.shards||[]).map(pS),!0).filter(Boolean);return b.forEach(function(j){return j.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),b.forEach(function(j){return j.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var u=y.useCallback(function(b,j){if("touches"in b&&b.touches.length===2||b.type==="wheel"&&b.ctrlKey)return!c.current.allowPinchZoom;var N=Pd(b),E=r.current,k="deltaX"in b?b.deltaX:E[0]-N[0],P="deltaY"in b?b.deltaY:E[1]-N[1],A,L=b.target,O=Math.abs(k)>Math.abs(P)?"h":"v";if("touches"in b&&O==="h"&&L.type==="range")return!1;var C=fS(O,L);if(!C)return!0;if(C?A=O:(A=O==="v"?"h":"v",C=fS(O,L)),!C)return!1;if(!n.current&&"changedTouches"in b&&(k||P)&&(n.current=A),!A)return!0;var R=n.current||A;return pz(R,j,b,R==="h"?k:P)},[]),f=y.useCallback(function(b){var j=b;if(!(!xa.length||xa[xa.length-1]!==o)){var N="deltaY"in j?hS(j):Pd(j),E=e.current.filter(function(A){return A.name===j.type&&(A.target===j.target||j.target===A.shadowParent)&&mz(A.delta,N)})[0];if(E&&E.should){j.cancelable&&j.preventDefault();return}if(!E){var k=(c.current.shards||[]).map(pS).filter(Boolean).filter(function(A){return A.contains(j.target)}),P=k.length>0?u(j,k[0]):!c.current.noIsolation;P&&j.cancelable&&j.preventDefault()}}},[]),h=y.useCallback(function(b,j,N,E){var k={name:b,delta:j,target:N,should:E,shadowParent:xz(N)};e.current.push(k),setTimeout(function(){e.current=e.current.filter(function(P){return P!==k})},1)},[]),p=y.useCallback(function(b){r.current=Pd(b),n.current=void 0},[]),g=y.useCallback(function(b){h(b.type,hS(b),b.target,u(b,t.lockRef.current))},[]),v=y.useCallback(function(b){h(b.type,Pd(b),b.target,u(b,t.lockRef.current))},[]);y.useEffect(function(){return xa.push(o),t.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:v}),document.addEventListener("wheel",f,va),document.addEventListener("touchmove",f,va),document.addEventListener("touchstart",p,va),function(){xa=xa.filter(function(b){return b!==o}),document.removeEventListener("wheel",f,va),document.removeEventListener("touchmove",f,va),document.removeEventListener("touchstart",p,va)}},[]);var w=t.removeScrollBar,S=t.inert;return y.createElement(y.Fragment,null,S?y.createElement(o,{styles:gz(s)}):null,w?y.createElement(az,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function xz(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const wz=GB(pN,vz);var rh=y.forwardRef(function(t,e){return y.createElement(th,fs({},t,{ref:e,sideCar:wz}))});rh.classNames=th.classNames;var iy=["Enter"," "],bz=["ArrowDown","PageUp","Home"],xN=["ArrowUp","PageDown","End"],_z=[...bz,...xN],Sz={ltr:[...iy,"ArrowRight"],rtl:[...iy,"ArrowLeft"]},jz={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Jc="Menu",[Mc,kz,Ez]=Ya(Jc),[Fo,wN]=Sr(Jc,[Ez,el,al]),nh=el(),bN=al(),[Cz,$o]=Fo(Jc),[Nz,eu]=Fo(Jc),_N=t=>{const{__scopeMenu:e,open:r=!1,children:n,dir:s,onOpenChange:o,modal:c=!0}=t,u=nh(e),[f,h]=y.useState(null),p=y.useRef(!1),g=tn(o),v=Lo(s);return y.useEffect(()=>{const w=()=>{p.current=!0,document.addEventListener("pointerdown",S,{capture:!0,once:!0}),document.addEventListener("pointermove",S,{capture:!0,once:!0})},S=()=>p.current=!1;return document.addEventListener("keydown",w,{capture:!0}),()=>{document.removeEventListener("keydown",w,{capture:!0}),document.removeEventListener("pointerdown",S,{capture:!0}),document.removeEventListener("pointermove",S,{capture:!0})}},[]),a.jsx(Ek,{...u,children:a.jsx(Cz,{scope:e,open:r,onOpenChange:g,content:f,onContentChange:h,children:a.jsx(Nz,{scope:e,onClose:y.useCallback(()=>g(!1),[g]),isUsingKeyboardRef:p,dir:v,modal:c,children:n})})})};_N.displayName=Jc;var Tz="MenuAnchor",Jv=y.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,s=nh(r);return a.jsx(ev,{...s,...n,ref:e})});Jv.displayName=Tz;var ex="MenuPortal",[Rz,SN]=Fo(ex,{forceMount:void 0}),jN=t=>{const{__scopeMenu:e,forceMount:r,children:n,container:s}=t,o=$o(ex,e);return a.jsx(Rz,{scope:e,forceMount:r,children:a.jsx(rn,{present:r||o.open,children:a.jsx($c,{asChild:!0,container:s,children:n})})})};jN.displayName=ex;var An="MenuContent",[Pz,tx]=Fo(An),kN=y.forwardRef((t,e)=>{const r=SN(An,t.__scopeMenu),{forceMount:n=r.forceMount,...s}=t,o=$o(An,t.__scopeMenu),c=eu(An,t.__scopeMenu);return a.jsx(Mc.Provider,{scope:t.__scopeMenu,children:a.jsx(rn,{present:n||o.open,children:a.jsx(Mc.Slot,{scope:t.__scopeMenu,children:c.modal?a.jsx(Az,{...s,ref:e}):a.jsx(Oz,{...s,ref:e})})})})}),Az=y.forwardRef((t,e)=>{const r=$o(An,t.__scopeMenu),n=y.useRef(null),s=Ge(e,n);return y.useEffect(()=>{const o=n.current;if(o)return Xv(o)},[]),a.jsx(rx,{...t,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:ge(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),Oz=y.forwardRef((t,e)=>{const r=$o(An,t.__scopeMenu);return a.jsx(rx,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),Iz=wo("MenuContent.ScrollLock"),rx=y.forwardRef((t,e)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:c,disableOutsidePointerEvents:u,onEntryFocus:f,onEscapeKeyDown:h,onPointerDownOutside:p,onFocusOutside:g,onInteractOutside:v,onDismiss:w,disableOutsideScroll:S,...b}=t,j=$o(An,r),N=eu(An,r),E=nh(r),k=bN(r),P=kz(r),[A,L]=y.useState(null),O=y.useRef(null),C=Ge(e,O,j.onContentChange),R=y.useRef(0),M=y.useRef(""),H=y.useRef(0),V=y.useRef(null),J=y.useRef("right"),z=y.useRef(0),oe=S?rh:y.Fragment,se=S?{as:Iz,allowPinchZoom:!0}:void 0,X=F=>{const K=M.current+F,I=P().filter(ne=>!ne.disabled),q=document.activeElement,te=I.find(ne=>ne.ref.current===q)?.textValue,ie=I.map(ne=>ne.textValue),xe=Hz(ie,K,te),_e=I.find(ne=>ne.textValue===xe)?.ref.current;(function ne(ue){M.current=ue,window.clearTimeout(R.current),ue!==""&&(R.current=window.setTimeout(()=>ne(""),1e3))})(K),_e&&setTimeout(()=>_e.focus())};y.useEffect(()=>()=>window.clearTimeout(R.current),[]),Yv();const U=y.useCallback(F=>J.current===V.current?.side&&Gz(F,V.current?.area),[]);return a.jsx(Pz,{scope:r,searchRef:M,onItemEnter:y.useCallback(F=>{U(F)&&F.preventDefault()},[U]),onItemLeave:y.useCallback(F=>{U(F)||(O.current?.focus(),L(null))},[U]),onTriggerLeave:y.useCallback(F=>{U(F)&&F.preventDefault()},[U]),pointerGraceTimerRef:H,onPointerGraceIntentChange:y.useCallback(F=>{V.current=F},[]),children:a.jsx(oe,{...se,children:a.jsx(eh,{asChild:!0,trapped:s,onMountAutoFocus:ge(o,F=>{F.preventDefault(),O.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:c,children:a.jsx(Qa,{asChild:!0,disableOutsidePointerEvents:u,onEscapeKeyDown:h,onPointerDownOutside:p,onFocusOutside:g,onInteractOutside:v,onDismiss:w,children:a.jsx(Qv,{asChild:!0,...k,dir:N.dir,orientation:"vertical",loop:n,currentTabStopId:A,onCurrentTabStopIdChange:L,onEntryFocus:ge(f,F=>{N.isUsingKeyboardRef.current||F.preventDefault()}),preventScrollOnEntryFocus:!0,children:a.jsx(tv,{role:"menu","aria-orientation":"vertical","data-state":UN(j.open),"data-radix-menu-content":"",dir:N.dir,...E,...b,ref:C,style:{outline:"none",...b.style},onKeyDown:ge(b.onKeyDown,F=>{const I=F.target.closest("[data-radix-menu-content]")===F.currentTarget,q=F.ctrlKey||F.altKey||F.metaKey,te=F.key.length===1;I&&(F.key==="Tab"&&F.preventDefault(),!q&&te&&X(F.key));const ie=O.current;if(F.target!==ie||!_z.includes(F.key))return;F.preventDefault();const _e=P().filter(ne=>!ne.disabled).map(ne=>ne.ref.current);xN.includes(F.key)&&_e.reverse(),Wz(_e)}),onBlur:ge(t.onBlur,F=>{F.currentTarget.contains(F.target)||(window.clearTimeout(R.current),M.current="")}),onPointerMove:ge(t.onPointerMove,Dc(F=>{const K=F.target,I=z.current!==F.clientX;if(F.currentTarget.contains(K)&&I){const q=F.clientX>z.current?"right":"left";J.current=q,z.current=F.clientX}}))})})})})})})});kN.displayName=An;var Mz="MenuGroup",nx=y.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return a.jsx(Ae.div,{role:"group",...n,ref:e})});nx.displayName=Mz;var Dz="MenuLabel",EN=y.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return a.jsx(Ae.div,{...n,ref:e})});EN.displayName=Dz;var ff="MenuItem",mS="menu.itemSelect",sh=y.forwardRef((t,e)=>{const{disabled:r=!1,onSelect:n,...s}=t,o=y.useRef(null),c=eu(ff,t.__scopeMenu),u=tx(ff,t.__scopeMenu),f=Ge(e,o),h=y.useRef(!1),p=()=>{const g=o.current;if(!r&&g){const v=new CustomEvent(mS,{bubbles:!0,cancelable:!0});g.addEventListener(mS,w=>n?.(w),{once:!0}),Ty(g,v),v.defaultPrevented?h.current=!1:c.onClose()}};return a.jsx(CN,{...s,ref:f,disabled:r,onClick:ge(t.onClick,p),onPointerDown:g=>{t.onPointerDown?.(g),h.current=!0},onPointerUp:ge(t.onPointerUp,g=>{h.current||g.currentTarget?.click()}),onKeyDown:ge(t.onKeyDown,g=>{const v=u.searchRef.current!=="";r||v&&g.key===" "||iy.includes(g.key)&&(g.currentTarget.click(),g.preventDefault())})})});sh.displayName=ff;var CN=y.forwardRef((t,e)=>{const{__scopeMenu:r,disabled:n=!1,textValue:s,...o}=t,c=tx(ff,r),u=bN(r),f=y.useRef(null),h=Ge(e,f),[p,g]=y.useState(!1),[v,w]=y.useState("");return y.useEffect(()=>{const S=f.current;S&&w((S.textContent??"").trim())},[o.children]),a.jsx(Mc.ItemSlot,{scope:r,disabled:n,textValue:s??v,children:a.jsx(Zv,{asChild:!0,...u,focusable:!n,children:a.jsx(Ae.div,{role:"menuitem","data-highlighted":p?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...o,ref:h,onPointerMove:ge(t.onPointerMove,Dc(S=>{n?c.onItemLeave(S):(c.onItemEnter(S),S.defaultPrevented||S.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ge(t.onPointerLeave,Dc(S=>c.onItemLeave(S))),onFocus:ge(t.onFocus,()=>g(!0)),onBlur:ge(t.onBlur,()=>g(!1))})})})}),Lz="MenuCheckboxItem",NN=y.forwardRef((t,e)=>{const{checked:r=!1,onCheckedChange:n,...s}=t;return a.jsx(ON,{scope:t.__scopeMenu,checked:r,children:a.jsx(sh,{role:"menuitemcheckbox","aria-checked":hf(r)?"mixed":r,...s,ref:e,"data-state":ix(r),onSelect:ge(s.onSelect,()=>n?.(hf(r)?!0:!r),{checkForDefaultPrevented:!1})})})});NN.displayName=Lz;var TN="MenuRadioGroup",[Fz,$z]=Fo(TN,{value:void 0,onValueChange:()=>{}}),RN=y.forwardRef((t,e)=>{const{value:r,onValueChange:n,...s}=t,o=tn(n);return a.jsx(Fz,{scope:t.__scopeMenu,value:r,onValueChange:o,children:a.jsx(nx,{...s,ref:e})})});RN.displayName=TN;var PN="MenuRadioItem",AN=y.forwardRef((t,e)=>{const{value:r,...n}=t,s=$z(PN,t.__scopeMenu),o=r===s.value;return a.jsx(ON,{scope:t.__scopeMenu,checked:o,children:a.jsx(sh,{role:"menuitemradio","aria-checked":o,...n,ref:e,"data-state":ix(o),onSelect:ge(n.onSelect,()=>s.onValueChange?.(r),{checkForDefaultPrevented:!1})})})});AN.displayName=PN;var sx="MenuItemIndicator",[ON,Vz]=Fo(sx,{checked:!1}),IN=y.forwardRef((t,e)=>{const{__scopeMenu:r,forceMount:n,...s}=t,o=Vz(sx,r);return a.jsx(rn,{present:n||hf(o.checked)||o.checked===!0,children:a.jsx(Ae.span,{...s,ref:e,"data-state":ix(o.checked)})})});IN.displayName=sx;var Uz="MenuSeparator",MN=y.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return a.jsx(Ae.div,{role:"separator","aria-orientation":"horizontal",...n,ref:e})});MN.displayName=Uz;var Bz="MenuArrow",DN=y.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,s=nh(r);return a.jsx(rv,{...s,...n,ref:e})});DN.displayName=Bz;var zz="MenuSub",[TY,LN]=Fo(zz),nc="MenuSubTrigger",FN=y.forwardRef((t,e)=>{const r=$o(nc,t.__scopeMenu),n=eu(nc,t.__scopeMenu),s=LN(nc,t.__scopeMenu),o=tx(nc,t.__scopeMenu),c=y.useRef(null),{pointerGraceTimerRef:u,onPointerGraceIntentChange:f}=o,h={__scopeMenu:t.__scopeMenu},p=y.useCallback(()=>{c.current&&window.clearTimeout(c.current),c.current=null},[]);return y.useEffect(()=>p,[p]),y.useEffect(()=>{const g=u.current;return()=>{window.clearTimeout(g),f(null)}},[u,f]),a.jsx(Jv,{asChild:!0,...h,children:a.jsx(CN,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":UN(r.open),...t,ref:Mf(e,s.onTriggerChange),onClick:g=>{t.onClick?.(g),!(t.disabled||g.defaultPrevented)&&(g.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:ge(t.onPointerMove,Dc(g=>{o.onItemEnter(g),!g.defaultPrevented&&!t.disabled&&!r.open&&!c.current&&(o.onPointerGraceIntentChange(null),c.current=window.setTimeout(()=>{r.onOpenChange(!0),p()},100))})),onPointerLeave:ge(t.onPointerLeave,Dc(g=>{p();const v=r.content?.getBoundingClientRect();if(v){const w=r.content?.dataset.side,S=w==="right",b=S?-5:5,j=v[S?"left":"right"],N=v[S?"right":"left"];o.onPointerGraceIntentChange({area:[{x:g.clientX+b,y:g.clientY},{x:j,y:v.top},{x:N,y:v.top},{x:N,y:v.bottom},{x:j,y:v.bottom}],side:w}),window.clearTimeout(u.current),u.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(g),g.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:ge(t.onKeyDown,g=>{const v=o.searchRef.current!=="";t.disabled||v&&g.key===" "||Sz[n.dir].includes(g.key)&&(r.onOpenChange(!0),r.content?.focus(),g.preventDefault())})})})});FN.displayName=nc;var $N="MenuSubContent",VN=y.forwardRef((t,e)=>{const r=SN(An,t.__scopeMenu),{forceMount:n=r.forceMount,...s}=t,o=$o(An,t.__scopeMenu),c=eu(An,t.__scopeMenu),u=LN($N,t.__scopeMenu),f=y.useRef(null),h=Ge(e,f);return a.jsx(Mc.Provider,{scope:t.__scopeMenu,children:a.jsx(rn,{present:n||o.open,children:a.jsx(Mc.Slot,{scope:t.__scopeMenu,children:a.jsx(rx,{id:u.contentId,"aria-labelledby":u.triggerId,...s,ref:h,align:"start",side:c.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:p=>{c.isUsingKeyboardRef.current&&f.current?.focus(),p.preventDefault()},onCloseAutoFocus:p=>p.preventDefault(),onFocusOutside:ge(t.onFocusOutside,p=>{p.target!==u.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:ge(t.onEscapeKeyDown,p=>{c.onClose(),p.preventDefault()}),onKeyDown:ge(t.onKeyDown,p=>{const g=p.currentTarget.contains(p.target),v=jz[c.dir].includes(p.key);g&&v&&(o.onOpenChange(!1),u.trigger?.focus(),p.preventDefault())})})})})})});VN.displayName=$N;function UN(t){return t?"open":"closed"}function hf(t){return t==="indeterminate"}function ix(t){return hf(t)?"indeterminate":t?"checked":"unchecked"}function Wz(t){const e=document.activeElement;for(const r of t)if(r===e||(r.focus(),document.activeElement!==e))return}function qz(t,e){return t.map((r,n)=>t[(e+n)%t.length])}function Hz(t,e,r){const s=e.length>1&&Array.from(e).every(h=>h===e[0])?e[0]:e,o=r?t.indexOf(r):-1;let c=qz(t,Math.max(o,0));s.length===1&&(c=c.filter(h=>h!==r));const f=c.find(h=>h.toLowerCase().startsWith(s.toLowerCase()));return f!==r?f:void 0}function Kz(t,e){const{x:r,y:n}=t;let s=!1;for(let o=0,c=e.length-1;o<e.length;c=o++){const u=e[o],f=e[c],h=u.x,p=u.y,g=f.x,v=f.y;p>n!=v>n&&r<(g-h)*(n-p)/(v-p)+h&&(s=!s)}return s}function Gz(t,e){if(!e)return!1;const r={x:t.clientX,y:t.clientY};return Kz(r,e)}function Dc(t){return e=>e.pointerType==="mouse"?t(e):void 0}var Yz=_N,Qz=Jv,Zz=jN,Xz=kN,Jz=nx,e9=EN,t9=sh,r9=NN,n9=RN,s9=AN,i9=IN,o9=MN,a9=DN,l9=FN,c9=VN,ih="DropdownMenu",[u9]=Sr(ih,[wN]),Wr=wN(),[d9,BN]=u9(ih),zN=t=>{const{__scopeDropdownMenu:e,children:r,dir:n,open:s,defaultOpen:o,onOpenChange:c,modal:u=!0}=t,f=Wr(e),h=y.useRef(null),[p,g]=yn({prop:s,defaultProp:o??!1,onChange:c,caller:ih});return a.jsx(d9,{scope:e,triggerId:Rn(),triggerRef:h,contentId:Rn(),open:p,onOpenChange:g,onOpenToggle:y.useCallback(()=>g(v=>!v),[g]),modal:u,children:a.jsx(Yz,{...f,open:p,onOpenChange:g,dir:n,modal:u,children:r})})};zN.displayName=ih;var WN="DropdownMenuTrigger",qN=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...s}=t,o=BN(WN,r),c=Wr(r);return a.jsx(Qz,{asChild:!0,...c,children:a.jsx(Ae.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:Mf(e,o.triggerRef),onPointerDown:ge(t.onPointerDown,u=>{!n&&u.button===0&&u.ctrlKey===!1&&(o.onOpenToggle(),o.open||u.preventDefault())}),onKeyDown:ge(t.onKeyDown,u=>{n||(["Enter"," "].includes(u.key)&&o.onOpenToggle(),u.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(u.key)&&u.preventDefault())})})})});qN.displayName=WN;var f9="DropdownMenuPortal",HN=t=>{const{__scopeDropdownMenu:e,...r}=t,n=Wr(e);return a.jsx(Zz,{...n,...r})};HN.displayName=f9;var KN="DropdownMenuContent",GN=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=BN(KN,r),o=Wr(r),c=y.useRef(!1);return a.jsx(Xz,{id:s.contentId,"aria-labelledby":s.triggerId,...o,...n,ref:e,onCloseAutoFocus:ge(t.onCloseAutoFocus,u=>{c.current||s.triggerRef.current?.focus(),c.current=!1,u.preventDefault()}),onInteractOutside:ge(t.onInteractOutside,u=>{const f=u.detail.originalEvent,h=f.button===0&&f.ctrlKey===!0,p=f.button===2||h;(!s.modal||p)&&(c.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});GN.displayName=KN;var h9="DropdownMenuGroup",p9=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=Wr(r);return a.jsx(Jz,{...s,...n,ref:e})});p9.displayName=h9;var m9="DropdownMenuLabel",YN=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=Wr(r);return a.jsx(e9,{...s,...n,ref:e})});YN.displayName=m9;var g9="DropdownMenuItem",QN=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=Wr(r);return a.jsx(t9,{...s,...n,ref:e})});QN.displayName=g9;var y9="DropdownMenuCheckboxItem",ZN=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=Wr(r);return a.jsx(r9,{...s,...n,ref:e})});ZN.displayName=y9;var v9="DropdownMenuRadioGroup",x9=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=Wr(r);return a.jsx(n9,{...s,...n,ref:e})});x9.displayName=v9;var w9="DropdownMenuRadioItem",XN=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=Wr(r);return a.jsx(s9,{...s,...n,ref:e})});XN.displayName=w9;var b9="DropdownMenuItemIndicator",JN=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=Wr(r);return a.jsx(i9,{...s,...n,ref:e})});JN.displayName=b9;var _9="DropdownMenuSeparator",eT=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=Wr(r);return a.jsx(o9,{...s,...n,ref:e})});eT.displayName=_9;var S9="DropdownMenuArrow",j9=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=Wr(r);return a.jsx(a9,{...s,...n,ref:e})});j9.displayName=S9;var k9="DropdownMenuSubTrigger",tT=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=Wr(r);return a.jsx(l9,{...s,...n,ref:e})});tT.displayName=k9;var E9="DropdownMenuSubContent",rT=y.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,s=Wr(r);return a.jsx(c9,{...s,...n,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});rT.displayName=E9;var C9=zN,N9=qN,T9=HN,nT=GN,sT=YN,iT=QN,oT=ZN,aT=XN,lT=JN,cT=eT,uT=tT,dT=rT;const R9=C9,P9=N9,A9=y.forwardRef(({className:t,inset:e,children:r,...n},s)=>a.jsxs(uT,{ref:s,className:be("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",e&&"pl-8",t),...n,children:[r,a.jsx(QI,{className:"ml-auto h-4 w-4"})]}));A9.displayName=uT.displayName;const O9=y.forwardRef(({className:t,...e},r)=>a.jsx(dT,{ref:r,className:be("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));O9.displayName=dT.displayName;const fT=y.forwardRef(({className:t,sideOffset:e=4,...r},n)=>a.jsx(T9,{children:a.jsx(nT,{ref:n,sideOffset:e,className:be("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));fT.displayName=nT.displayName;const sc=y.forwardRef(({className:t,inset:e,...r},n)=>a.jsx(iT,{ref:n,className:be("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e&&"pl-8",t),...r}));sc.displayName=iT.displayName;const I9=y.forwardRef(({className:t,children:e,checked:r,...n},s)=>a.jsxs(oT,{ref:s,className:be("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),checked:r,...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(lT,{children:a.jsx(Ff,{className:"h-4 w-4"})})}),e]}));I9.displayName=oT.displayName;const M9=y.forwardRef(({className:t,children:e,...r},n)=>a.jsxs(aT,{ref:n,className:be("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(lT,{children:a.jsx(Uj,{className:"h-2 w-2 fill-current"})})}),e]}));M9.displayName=aT.displayName;const D9=y.forwardRef(({className:t,inset:e,...r},n)=>a.jsx(sT,{ref:n,className:be("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...r}));D9.displayName=sT.displayName;const hT=y.forwardRef(({className:t,...e},r)=>a.jsx(cT,{ref:r,className:be("-mx-1 my-1 h-px bg-muted",t),...e}));hT.displayName=cT.displayName;const xn=()=>{const[t,e]=y.useState(!1),{user:r,profile:n,signOut:s,isAdmin:o,isOperador:c}=sr(),u=zr(),f=async()=>{await s(),u("/")};return a.jsx(fe.nav,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.5},className:"fixed top-0 left-0 right-0 z-50 bg-background/80 backdrop-blur-md border-b border-border",children:a.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"flex items-center justify-between h-16",children:[a.jsxs(ot,{to:"/",className:"flex items-center gap-2 group",children:[a.jsx("div",{className:"p-2 rounded-xl gradient-hero group-hover:scale-105 transition-transform",children:a.jsx(Iy,{className:"h-6 w-6 text-primary-foreground"})}),a.jsx("span",{className:"text-xl font-display font-bold text-foreground",children:"Brickshare"})]}),!o&&!c&&a.jsxs("div",{className:"hidden md:flex items-center gap-8",children:[a.jsx(ot,{to:"/",className:"text-sm font-medium text-muted-foreground hover:text-foreground transition-colors",children:"Inicio"}),a.jsx(ot,{to:"/catalogo",className:"text-sm font-medium text-muted-foreground hover:text-foreground transition-colors",children:"Catlogo"}),a.jsx(ot,{to:"/como-funciona",className:"text-sm font-medium text-muted-foreground hover:text-foreground transition-colors",children:"Cmo funciona"}),a.jsx(ot,{to:"/sobre-nosotros",className:"text-sm font-medium text-muted-foreground hover:text-foreground transition-colors",children:"Sobre nosotros"}),a.jsx(ot,{to:"/contacto",className:"text-sm font-medium text-muted-foreground hover:text-foreground transition-colors",children:"Contacto"})]}),a.jsx("div",{className:"hidden md:flex items-center gap-3",children:r?a.jsxs(R9,{children:[a.jsx(P9,{asChild:!0,children:a.jsxs(Me,{variant:"ghost",size:"sm",className:"gap-2",children:[a.jsx("div",{className:"w-7 h-7 rounded-full gradient-hero flex items-center justify-center",children:a.jsx(ds,{className:"h-4 w-4 text-primary-foreground"})}),a.jsx("span",{className:"max-w-[120px] truncate",children:n?.full_name||r.email?.split("@")[0]})]})}),a.jsxs(fT,{align:"end",className:"w-48",children:[a.jsx(sc,{asChild:!0,children:a.jsxs(ot,{to:"/dashboard",className:"flex items-center gap-2",children:[a.jsx(Db,{className:"h-4 w-4"}),"Mi Panel"]})}),o&&a.jsx(sc,{asChild:!0,children:a.jsxs(ot,{to:"/admin",className:"flex items-center gap-2",children:[a.jsx(ds,{className:"h-4 w-4"}),"Administracin"]})}),(c||o)&&a.jsx(sc,{asChild:!0,children:a.jsxs(ot,{to:"/operaciones",className:"flex items-center gap-2",children:[a.jsx(bo,{className:"h-4 w-4"}),"Operaciones"]})}),a.jsx(hT,{}),a.jsxs(sc,{onClick:f,className:"text-destructive",children:[a.jsx(Lb,{className:"h-4 w-4 mr-2"}),"Cerrar sesin"]})]})]}):a.jsxs(a.Fragment,{children:[a.jsx(Me,{variant:"ghost",size:"sm",asChild:!0,children:a.jsx(ot,{to:"/auth","data-testid":"login-link",children:"Iniciar sesin"})}),a.jsx(Me,{size:"sm",className:"gradient-hero",asChild:!0,children:a.jsxs(ot,{to:"/auth","data-testid":"register-link","aria-label":"Registrarse",children:[a.jsx(ds,{className:"h-4 w-4 mr-2"}),"Suscribirse"]})})]})}),a.jsx("button",{className:"md:hidden p-2 rounded-lg hover:bg-muted transition-colors",onClick:()=>e(!t),children:t?a.jsx(Ao,{className:"h-6 w-6"}):a.jsx(aM,{className:"h-6 w-6"})})]}),t&&a.jsxs(fe.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"md:hidden py-4 border-t border-border",children:[!o&&!c&&a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsx(ot,{to:"/",className:"text-sm font-medium text-muted-foreground hover:text-foreground transition-colors",onClick:()=>e(!1),children:"Inicio"}),a.jsx(ot,{to:"/catalogo",className:"text-sm font-medium text-muted-foreground hover:text-foreground transition-colors",onClick:()=>e(!1),children:"Catlogo"}),a.jsx(ot,{to:"/como-funciona",className:"text-sm font-medium text-muted-foreground hover:text-foreground transition-colors",onClick:()=>e(!1),children:"Cmo funciona"}),a.jsx(ot,{to:"/sobre-nosotros",className:"text-sm font-medium text-muted-foreground hover:text-foreground transition-colors",onClick:()=>e(!1),children:"Sobre nosotros"}),a.jsx(ot,{to:"/contacto",className:"text-sm font-medium text-muted-foreground hover:text-foreground transition-colors",onClick:()=>e(!1),children:"Contacto"})]}),a.jsx("div",{className:"flex flex-col gap-2 pt-4 border-t border-border",children:r?a.jsxs(a.Fragment,{children:[a.jsx(Me,{variant:"outline",size:"sm",asChild:!0,children:a.jsxs(ot,{to:"/dashboard",onClick:()=>e(!1),children:[a.jsx(Db,{className:"h-4 w-4 mr-2"}),"Mi Panel"]})}),o&&a.jsx(Me,{variant:"outline",size:"sm",asChild:!0,children:a.jsxs(ot,{to:"/admin",onClick:()=>e(!1),children:[a.jsx(ds,{className:"h-4 w-4 mr-2"}),"Administracin"]})}),(c||o)&&a.jsx(Me,{variant:"outline",size:"sm",asChild:!0,children:a.jsxs(ot,{to:"/operaciones",onClick:()=>e(!1),children:[a.jsx(bo,{className:"h-4 w-4 mr-2"}),"Operaciones"]})}),a.jsxs(Me,{variant:"ghost",size:"sm",onClick:()=>{f(),e(!1)},className:"text-destructive",children:[a.jsx(Lb,{className:"h-4 w-4 mr-2"}),"Cerrar sesin"]})]}):a.jsxs(a.Fragment,{children:[a.jsx(Me,{variant:"outline",size:"sm",asChild:!0,children:a.jsx(ot,{to:"/auth","data-testid":"login-link-mobile",onClick:()=>e(!1),children:"Iniciar sesin"})}),a.jsx(Me,{size:"sm",className:"gradient-hero",asChild:!0,children:a.jsxs(ot,{to:"/auth","data-testid":"register-link-mobile",onClick:()=>e(!1),"aria-label":"Registrarse",children:[a.jsx(ds,{className:"h-4 w-4 mr-2"}),"Suscribirse"]})})]})})]})]})})},L9="/brickshare_antigravityonly/assets/hero-lego-BrQ7981F.jpg",F9=()=>a.jsxs("section",{className:"relative min-h-screen flex items-center overflow-hidden pt-16",children:[a.jsxs("div",{className:"absolute inset-0 z-0",children:[a.jsx("img",{src:L9,alt:"Bloques de construccin coloridos",className:"w-full h-full object-cover"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-background/95 via-background/80 to-background/40"})]}),a.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:a.jsxs("div",{className:"max-w-3xl",children:[a.jsxs(fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-primary/10 text-primary mb-6",children:[a.jsx(Bc,{className:"h-4 w-4"}),a.jsx("span",{className:"text-sm font-medium",children:"Economa circular + Impacto social"})]}),a.jsxs(fe.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"text-4xl sm:text-5xl lg:text-6xl font-display font-bold text-foreground leading-tight mb-6",children:["Juega con"," ",a.jsx("span",{className:"text-gradient",children:"propsito"})]}),a.jsx(fe.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"text-lg sm:text-xl text-muted-foreground leading-relaxed mb-8 max-w-2xl",children:"Suscripcin circular de sets de construccin que impulsa el desarrollo infantil y la inclusin social. Sets ilimitados, sin acumular, con propsito."}),a.jsxs(fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"flex flex-col sm:flex-row gap-4",children:[a.jsx(Me,{size:"lg",className:"gradient-hero text-lg px-8",asChild:!0,children:a.jsxs(ot,{to:"/catalogo",children:["Explorar catlogo",a.jsx(Oy,{className:"h-5 w-5 ml-2"})]})}),a.jsxs(Me,{size:"lg",variant:"outline",className:"text-lg px-8",children:[a.jsx(lM,{className:"h-5 w-5 mr-2"}),"Ver cmo funciona"]})]}),a.jsxs(fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},className:"flex flex-wrap gap-8 mt-12 pt-8 border-t border-border",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-3xl font-display font-bold text-foreground",children:"500+"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Sets disponibles"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-3xl font-display font-bold text-foreground",children:"2,000+"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Familias felices"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-3xl font-display font-bold text-foreground",children:"15,000+"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Horas de empleo generado"})]})]})]})})]}),$9=()=>a.jsxs("section",{className:"py-24 gradient-impact text-primary-foreground relative overflow-hidden",children:[a.jsxs("div",{className:"absolute inset-0 opacity-10",children:[a.jsx("div",{className:"absolute top-10 left-10 w-32 h-32 rounded-full bg-primary-foreground animate-float"}),a.jsx("div",{className:"absolute bottom-20 right-20 w-24 h-24 rounded-full bg-primary-foreground animate-float-delayed"})]}),a.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[a.jsxs("div",{className:"max-w-4xl mx-auto text-center mb-16",children:[a.jsxs(fe.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5},className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-primary-foreground/10 text-primary-foreground/90 mb-6",children:[a.jsx(Xn,{className:"h-4 w-4"}),a.jsx("span",{className:"text-sm font-medium",children:"Impacto Social"})]}),a.jsx(fe.h2,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.1},className:"text-3xl sm:text-4xl lg:text-5xl font-display font-bold mb-6",children:"Cada set que disfrutas genera empleo inclusivo"}),a.jsxs(fe.p,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.2},className:"text-lg text-primary-foreground/80 leading-relaxed",children:["Toda nuestra operativa limpieza profunda, control de piezas y preparacin de envos es realizada ntegramente por ",a.jsx("strong",{children:"personas con discapacidad"}),", aportando ocupacin digna y significativa."]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[{icon:zc,title:"Empleo Digno",description:"Colaboramos con centros especiales de empleo para ofrecer trabajos estables y significativos."},{icon:By,title:"Economa Circular",description:"Cada set se reutiliza cientos de veces, reduciendo residuos y consumo de recursos."},{icon:ag,title:"Calidad Garantizada",description:"Control de calidad exhaustivo: cada pieza verificada, cada set perfecto."}].map((t,e)=>a.jsxs(fe.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.3+e*.1},className:"bg-primary-foreground/5 backdrop-blur-sm rounded-2xl p-8 border border-primary-foreground/10",children:[a.jsx("div",{className:"w-12 h-12 rounded-xl bg-primary-foreground/10 flex items-center justify-center mb-4",children:a.jsx(t.icon,{className:"h-6 w-6"})}),a.jsx("h3",{className:"text-xl font-display font-semibold mb-3",children:t.title}),a.jsx("p",{className:"text-primary-foreground/70 leading-relaxed",children:t.description})]},t.title))})]})]}),V9=()=>{const t=[{icon:mM,title:"Desinfeccin trmica",description:"Tratamiento a alta temperatura que elimina el 99.9% de grmenes y bacterias."},{icon:Bc,title:"Limpieza ultrasnica",description:"Tecnologa que alcanza cada rincn de las piezas ms complejas."},{icon:Vj,title:"Control de calidad",description:"Revisin pieza a pieza para garantizar sets completos y en perfecto estado."},{icon:lg,title:"Sellado hermtico",description:"Empaquetado individual que mantiene la higiene hasta tu hogar."}];return a.jsx("section",{className:"py-24 bg-secondary/30",children:a.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"max-w-4xl mx-auto text-center mb-16",children:[a.jsxs(fe.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5},className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-accent/10 text-accent mb-6",children:[a.jsx(lg,{className:"h-4 w-4"}),a.jsx("span",{className:"text-sm font-medium",children:"Garanta Brickshare"})]}),a.jsx(fe.h2,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.1},className:"text-3xl sm:text-4xl lg:text-5xl font-display font-bold text-foreground mb-6",children:"Higiene de nivel hospitalario"}),a.jsx(fe.p,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.2},className:"text-lg text-muted-foreground leading-relaxed",children:"Cada set pasa por un riguroso proceso de higienizacin profesional. Tu familia juega con piezas ms limpias que si las compraras nuevas."})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:t.map((e,r)=>a.jsxs(fe.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.3+r*.1},className:"relative",children:[r<t.length-1&&a.jsx("div",{className:"hidden lg:block absolute top-8 left-full w-full h-0.5 bg-gradient-to-r from-primary/30 to-transparent z-0"}),a.jsxs("div",{className:"bg-card rounded-2xl p-6 shadow-card hover:shadow-card-hover transition-shadow relative z-10",children:[a.jsx("div",{className:"absolute -top-3 -left-3 w-8 h-8 rounded-full gradient-hero flex items-center justify-center text-sm font-bold text-primary-foreground",children:r+1}),a.jsx("div",{className:"w-14 h-14 rounded-xl bg-primary/10 flex items-center justify-center mb-4",children:a.jsx(e.icon,{className:"h-7 w-7 text-primary"})}),a.jsx("h3",{className:"text-lg font-display font-semibold text-foreground mb-2",children:e.title}),a.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:e.description})]})]},e.title))})]})})},U9=()=>{const t=[{icon:Uy,title:"Motricidad fina",description:"Manipular piezas pequeas desarrolla la coordinacin mano-ojo y la destreza manual.",color:"primary"},{icon:Fy,title:"Visin espacial",description:"Construir en 3D mejora la comprensin del espacio y las relaciones geomtricas.",color:"accent"},{icon:zj,title:"Paciencia y concentracin",description:"Proyectos largos ensean a mantener el foco y a trabajar paso a paso.",color:"primary"},{icon:Ob,title:"Pensamiento lgico",description:"Seguir instrucciones y resolver problemas fortalece el razonamiento estructurado.",color:"accent"},{icon:Wj,title:"Creatividad",description:"Libertad para crear ms all de las instrucciones, inventando mundos propios.",color:"primary"},{icon:pM,title:"Perseverancia",description:"Completar sets desafiantes ensea que el esfuerzo tiene recompensa.",color:"accent"}];return a.jsx("section",{className:"py-24 bg-background",children:a.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"max-w-4xl mx-auto text-center mb-16",children:[a.jsxs(fe.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5},className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-primary/10 text-primary mb-6",children:[a.jsx(Ob,{className:"h-4 w-4"}),a.jsx("span",{className:"text-sm font-medium",children:"Beneficios educativos"})]}),a.jsx(fe.h2,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.1},className:"text-3xl sm:text-4xl lg:text-5xl font-display font-bold text-foreground mb-6",children:"Ms que un juguete: una herramienta de desarrollo"}),a.jsx(fe.p,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.2},className:"text-lg text-muted-foreground leading-relaxed",children:"Dcadas de investigacin respaldan los beneficios cognitivos y motores del juego con construcciones. Con Brickshare, accedes a sets variados que potencian diferentes habilidades."})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map((e,r)=>a.jsxs(fe.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.3+r*.1},className:"group bg-card rounded-2xl p-6 shadow-card hover:shadow-card-hover transition-all hover:-translate-y-1",children:[a.jsx("div",{className:`w-12 h-12 rounded-xl ${e.color==="primary"?"bg-primary/10":"bg-accent/10"} flex items-center justify-center mb-4 group-hover:scale-110 transition-transform`,children:a.jsx(e.icon,{className:`h-6 w-6 ${e.color==="primary"?"text-primary":"text-accent"}`})}),a.jsx("h3",{className:"text-lg font-display font-semibold text-foreground mb-2",children:e.title}),a.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:e.description})]},e.title))})]})})};var oh="Dialog",[pT,mT]=Sr(oh),[B9,ts]=pT(oh),gT=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:s,onOpenChange:o,modal:c=!0}=t,u=y.useRef(null),f=y.useRef(null),[h,p]=yn({prop:n,defaultProp:s??!1,onChange:o,caller:oh});return a.jsx(B9,{scope:e,triggerRef:u,contentRef:f,contentId:Rn(),titleId:Rn(),descriptionId:Rn(),open:h,onOpenChange:p,onOpenToggle:y.useCallback(()=>p(g=>!g),[p]),modal:c,children:r})};gT.displayName=oh;var yT="DialogTrigger",vT=y.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=ts(yT,r),o=Ge(e,s.triggerRef);return a.jsx(Ae.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":lx(s.open),...n,ref:o,onClick:ge(t.onClick,s.onOpenToggle)})});vT.displayName=yT;var ox="DialogPortal",[z9,xT]=pT(ox,{forceMount:void 0}),wT=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:s}=t,o=ts(ox,e);return a.jsx(z9,{scope:e,forceMount:r,children:y.Children.map(n,c=>a.jsx(rn,{present:r||o.open,children:a.jsx($c,{asChild:!0,container:s,children:c})}))})};wT.displayName=ox;var pf="DialogOverlay",bT=y.forwardRef((t,e)=>{const r=xT(pf,t.__scopeDialog),{forceMount:n=r.forceMount,...s}=t,o=ts(pf,t.__scopeDialog);return o.modal?a.jsx(rn,{present:n||o.open,children:a.jsx(q9,{...s,ref:e})}):null});bT.displayName=pf;var W9=wo("DialogOverlay.RemoveScroll"),q9=y.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=ts(pf,r);return a.jsx(rh,{as:W9,allowPinchZoom:!0,shards:[s.contentRef],children:a.jsx(Ae.div,{"data-state":lx(s.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),ko="DialogContent",_T=y.forwardRef((t,e)=>{const r=xT(ko,t.__scopeDialog),{forceMount:n=r.forceMount,...s}=t,o=ts(ko,t.__scopeDialog);return a.jsx(rn,{present:n||o.open,children:o.modal?a.jsx(H9,{...s,ref:e}):a.jsx(K9,{...s,ref:e})})});_T.displayName=ko;var H9=y.forwardRef((t,e)=>{const r=ts(ko,t.__scopeDialog),n=y.useRef(null),s=Ge(e,r.contentRef,n);return y.useEffect(()=>{const o=n.current;if(o)return Xv(o)},[]),a.jsx(ST,{...t,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ge(t.onCloseAutoFocus,o=>{o.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:ge(t.onPointerDownOutside,o=>{const c=o.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0;(c.button===2||u)&&o.preventDefault()}),onFocusOutside:ge(t.onFocusOutside,o=>o.preventDefault())})}),K9=y.forwardRef((t,e)=>{const r=ts(ko,t.__scopeDialog),n=y.useRef(!1),s=y.useRef(!1);return a.jsx(ST,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{t.onCloseAutoFocus?.(o),o.defaultPrevented||(n.current||r.triggerRef.current?.focus(),o.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:o=>{t.onInteractOutside?.(o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const c=o.target;r.triggerRef.current?.contains(c)&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),ST=y.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:o,...c}=t,u=ts(ko,r),f=y.useRef(null),h=Ge(e,f);return Yv(),a.jsxs(a.Fragment,{children:[a.jsx(eh,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:o,children:a.jsx(Qa,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":lx(u.open),...c,ref:h,onDismiss:()=>u.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(Y9,{titleId:u.titleId}),a.jsx(Z9,{contentRef:f,descriptionId:u.descriptionId})]})]})}),ax="DialogTitle",jT=y.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=ts(ax,r);return a.jsx(Ae.h2,{id:s.titleId,...n,ref:e})});jT.displayName=ax;var kT="DialogDescription",ET=y.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=ts(kT,r);return a.jsx(Ae.p,{id:s.descriptionId,...n,ref:e})});ET.displayName=kT;var CT="DialogClose",NT=y.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=ts(CT,r);return a.jsx(Ae.button,{type:"button",...n,ref:e,onClick:ge(t.onClick,()=>s.onOpenChange(!1))})});NT.displayName=CT;function lx(t){return t?"open":"closed"}var TT="DialogTitleWarning",[G9,RT]=eI(TT,{contentName:ko,titleName:ax,docsSlug:"dialog"}),Y9=({titleId:t})=>{const e=RT(TT),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return y.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},Q9="DialogDescriptionWarning",Z9=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${RT(Q9).contentName}}.`;return y.useEffect(()=>{const s=t.current?.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},cx=gT,ux=vT,dx=wT,tu=bT,ru=_T,nu=jT,su=ET,ah=NT;const xo=cx,X9=ux,J9=dx,PT=y.forwardRef(({className:t,...e},r)=>a.jsx(tu,{ref:r,className:be("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));PT.displayName=tu.displayName;const Ci=y.forwardRef(({className:t,children:e,...r},n)=>a.jsxs(J9,{children:[a.jsx(PT,{}),a.jsxs(ru,{ref:n,className:be("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[e,a.jsxs(ah,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[a.jsx(Ao,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ci.displayName=ru.displayName;const Ni=({className:t,...e})=>a.jsx("div",{className:be("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Ni.displayName="DialogHeader";const AT=({className:t,...e})=>a.jsx("div",{className:be("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});AT.displayName="DialogFooter";const Ti=y.forwardRef(({className:t,...e},r)=>a.jsx(nu,{ref:r,className:be("text-lg font-semibold leading-none tracking-tight",t),...e}));Ti.displayName=nu.displayName;const Da=y.forwardRef(({className:t,...e},r)=>a.jsx(su,{ref:r,className:be("text-sm text-muted-foreground",t),...e}));Da.displayName=su.displayName;const eW=Uc("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function $r({className:t,variant:e,...r}){return a.jsx("div",{className:be(eW({variant:e}),t),...r})}const fx=({id:t,name:e,imageUrl:r,theme:n,ageRange:s,pieceCount:o,skillBoost:c,legoRef:u,description:f,isWishlisted:h=!1,onWishlistToggle:p})=>{const[g,v]=y.useState(!1),{user:w}=sr(),S=zr(),b=async j=>{if(j.stopPropagation(),!w){S("/auth");return}p&&(v(!0),await p(t),v(!1))};return a.jsxs(fe.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.4},className:"group bg-card rounded-2xl overflow-hidden shadow-card hover:shadow-card-hover transition-all hover:-translate-y-1 flex flex-col h-full",children:[a.jsxs("div",{className:"relative aspect-square bg-secondary/30 overflow-hidden shrink-0",children:[a.jsx("img",{src:r,alt:e,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}),a.jsx("button",{onClick:b,disabled:g,className:be("absolute top-3 right-3 w-10 h-10 rounded-full flex items-center justify-center transition-all z-10",h?"bg-destructive text-primary-foreground shadow-lg":"bg-background/80 backdrop-blur-sm text-muted-foreground hover:bg-background hover:text-destructive"),children:g?a.jsx(Yt,{className:"h-5 w-5 animate-spin"}):a.jsx(Xn,{className:be("h-5 w-5",h&&"fill-current")})}),a.jsx("div",{className:"absolute bottom-3 left-3",children:a.jsx("span",{className:"px-3 py-1 rounded-full text-[10px] font-bold uppercase tracking-wider bg-primary text-primary-foreground shadow-sm",children:n})})]}),a.jsxs("div",{className:"p-4 flex flex-col flex-grow",children:[a.jsx("div",{className:"mb-2",children:a.jsxs("h3",{className:"font-display font-bold text-foreground leading-tight line-clamp-2 min-h-[2.5rem]",children:[a.jsx("span",{className:"text-primary/70 text-xs mr-1",children:n}),e,u&&a.jsxs("span",{className:"text-muted-foreground ml-2 text-xs font-mono",children:["#",u]})]})}),a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsxs("span",{className:"text-[11px] font-medium text-muted-foreground flex items-center gap-1",children:[a.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500"}),s]}),a.jsxs("span",{className:"text-[11px] font-medium text-muted-foreground flex items-center gap-1",children:[a.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-blue-500"}),o," piezas"]})]}),a.jsx("div",{className:"flex-grow",children:f?a.jsx("p",{className:"text-[10px] text-muted-foreground line-clamp-2 leading-relaxed italic mb-4",children:f}):a.jsx("p",{className:"text-[10px] text-muted-foreground/50 italic mb-4",children:"Sin descripcin... "})}),a.jsx("div",{className:"mt-auto pt-2 border-t border-border/50 flex justify-between items-center",children:a.jsxs(xo,{children:[a.jsx(X9,{asChild:!0,children:a.jsxs(Me,{variant:"ghost",size:"sm",className:"h-8 px-2 text-[10px] text-primary hover:text-primary hover:bg-primary/5",children:[a.jsx($y,{className:"h-3 w-3 mr-1"}),"Ver ficha tcnica"]})}),a.jsxs(Ci,{className:"sm:max-w-[500px] rounded-3xl",children:[a.jsxs(Ni,{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx($r,{variant:"outline",className:"text-primary border-primary/20 bg-primary/5 uppercase text-[10px] tracking-widest",children:n}),u&&a.jsxs("span",{className:"text-xs font-mono text-muted-foreground",children:["REF: ",u]})]}),a.jsx(Ti,{className:"text-2xl font-display font-bold leading-tight",children:e}),a.jsx(Da,{className:"pt-4 text-sm leading-relaxed text-foreground/80",children:f||"Este set de LEGO promete horas de diversin y creatividad. Ideal para constructores entusiastas."})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-6",children:[a.jsxs("div",{className:"bg-muted/50 p-4 rounded-2xl border border-border/50",children:[a.jsx("p",{className:"text-[10px] uppercase tracking-wider text-muted-foreground font-semibold mb-1",children:"Edad Recomendada"}),a.jsx("p",{className:"text-lg font-bold text-foreground",children:s})]}),a.jsxs("div",{className:"bg-muted/50 p-4 rounded-2xl border border-border/50",children:[a.jsx("p",{className:"text-[10px] uppercase tracking-wider text-muted-foreground font-semibold mb-1",children:"Total Piezas"}),a.jsx("p",{className:"text-lg font-bold text-foreground",children:o})]}),c&&a.jsxs("div",{className:"bg-primary/5 p-4 rounded-2xl border border-primary/10 col-span-2",children:[a.jsx("p",{className:"text-[10px] uppercase tracking-wider text-primary font-semibold mb-1",children:"Habilidades que potencia"}),a.jsx("p",{className:"text-sm font-medium text-foreground",children:c})]})]}),a.jsx("div",{className:"mt-6",children:a.jsx(Me,{className:"w-full gradient-hero rounded-xl h-12",onClick:b,children:h?"Quitar de mi Wishlist":"Aadir a mi Wishlist"})})]})]})})]})]})},tW=[{id:"1",name:"City - Estacin de Bomberos",imageUrl:"https://images.unsplash.com/photo-1587654780291-39c9404d746b?w=400&h=400&fit=crop",theme:"City",ageRange:"6-12 aos",pieceCount:509,skillBoost:"Motricidad fina, trabajo en equipo"},{id:"2",name:"LEGO Technic Excavadora",imageUrl:"https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=400&h=400&fit=crop",theme:"Technic",ageRange:"9-16 aos",pieceCount:834,skillBoost:"Lgica, mecnica"},{id:"3",name:"Creator - Casa Familiar",imageUrl:"https://images.unsplash.com/photo-1596461404969-9ae70f2830c1?w=400&h=400&fit=crop",theme:"Creator",ageRange:"8-12 aos",pieceCount:728,skillBoost:"Creatividad, visin espacial"},{id:"4",name:"Friends - Centro Comercial",imageUrl:"https://images.unsplash.com/photo-1599623560574-39d485900c95?w=400&h=400&fit=crop",theme:"Friends",ageRange:"7-12 aos",pieceCount:446,skillBoost:"Imaginacin, juego social"}],rW=()=>a.jsx("section",{className:"py-24 bg-background",children:a.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-12",children:[a.jsxs("div",{children:[a.jsx(fe.h2,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5},className:"text-3xl sm:text-4xl font-display font-bold text-foreground mb-2",children:"Sets destacados"}),a.jsx(fe.p,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.1},className:"text-muted-foreground",children:"Explora algunos de nuestros sets ms populares"})]}),a.jsx(fe.div,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.5},children:a.jsx(Me,{variant:"outline",asChild:!0,children:a.jsxs(ot,{to:"/catalogo",children:["Ver catlogo completo",a.jsx(Oy,{className:"h-4 w-4 ml-2"})]})})})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:tW.map(t=>a.jsx(fx,{...t},t.id))})]})}),nW=()=>{const t=["Sets ilimitados cada mes","Envo y devolucin gratis","Higiene garantizada","Cancelacin flexible"];return a.jsx("section",{className:"py-24 bg-secondary/30",children:a.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:a.jsx("div",{className:"max-w-4xl mx-auto",children:a.jsxs(fe.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5},className:"bg-card rounded-3xl p-8 sm:p-12 shadow-xl relative overflow-hidden",children:[a.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 gradient-hero opacity-10 rounded-full blur-3xl"}),a.jsx("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-accent opacity-10 rounded-full blur-3xl"}),a.jsxs("div",{className:"relative z-10 text-center",children:[a.jsx(fe.h2,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.1},className:"text-3xl sm:text-4xl lg:text-5xl font-display font-bold text-foreground mb-4",children:"Listo para jugar con propsito?"}),a.jsx(fe.p,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.2},className:"text-lg text-muted-foreground mb-8 max-w-2xl mx-auto",children:"nete a miles de familias que ya disfrutan de sets de construccin sin acumular, mientras generan impacto social positivo."}),a.jsx(fe.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.3},className:"flex flex-wrap justify-center gap-4 mb-8",children:t.map(e=>a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx("div",{className:"w-5 h-5 rounded-full gradient-hero flex items-center justify-center",children:a.jsx(Ff,{className:"h-3 w-3 text-primary-foreground"})}),a.jsx("span",{className:"text-foreground",children:e})]},e))}),a.jsxs(fe.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.4},className:"flex flex-col sm:flex-row gap-4 justify-center",children:[a.jsx(Me,{size:"lg",className:"gradient-hero text-lg px-8",asChild:!0,children:a.jsxs(ot,{to:"/auth","data-testid":"cta-register-link",children:["Comenzar ahora",a.jsx(Oy,{className:"h-5 w-5 ml-2"})]})}),a.jsx(Me,{size:"lg",variant:"outline",className:"text-lg px-8",asChild:!0,children:a.jsx(ot,{to:"/planes",children:"Ver planes y precios"})})]}),a.jsx(fe.p,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{duration:.5,delay:.5},className:"mt-6 text-sm text-muted-foreground",children:"Desde 19,90/mes  Sin permanencia  Satisfaccin garantizada"})]})]})})})})},wn=()=>a.jsx("footer",{className:"bg-foreground text-primary-foreground",children:a.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-16",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-12",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"p-2 rounded-xl gradient-hero",children:a.jsx(Iy,{className:"h-6 w-6 text-primary-foreground"})}),a.jsx("span",{className:"text-xl font-display font-bold",children:"Brickshare"})]}),a.jsx("p",{className:"text-sm text-primary-foreground/70 leading-relaxed",children:"Suscripcin circular de sets de construccin que impulsa el desarrollo infantil y genera empleo inclusivo."}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("a",{href:"#",className:"p-2 rounded-full bg-primary-foreground/10 hover:bg-primary-foreground/20 transition-colors",children:a.jsx(rM,{className:"h-4 w-4"})}),a.jsx("a",{href:"#",className:"p-2 rounded-full bg-primary-foreground/10 hover:bg-primary-foreground/20 transition-colors",children:a.jsx(sM,{className:"h-4 w-4"})}),a.jsx("a",{href:"#",className:"p-2 rounded-full bg-primary-foreground/10 hover:bg-primary-foreground/20 transition-colors",children:a.jsx(yM,{className:"h-4 w-4"})})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"text-sm font-semibold uppercase tracking-wider",children:"Navegacin"}),a.jsxs("ul",{className:"space-y-3",children:[a.jsx("li",{children:a.jsx(ot,{to:"/catalogo",className:"text-sm text-primary-foreground/70 hover:text-primary-foreground transition-colors",children:"Catlogo"})}),a.jsx("li",{children:a.jsx(ot,{to:"/como-funciona",className:"text-sm text-primary-foreground/70 hover:text-primary-foreground transition-colors",children:"Cmo funciona"})}),a.jsx("li",{children:a.jsx(ot,{to:"/como-funciona#planes",className:"text-sm text-primary-foreground/70 hover:text-primary-foreground transition-colors",children:"Planes y precios"})}),a.jsx("li",{children:a.jsx(ot,{to:"/faq",className:"text-sm text-primary-foreground/70 hover:text-primary-foreground transition-colors",children:"Preguntas frecuentes"})}),a.jsx("li",{children:a.jsx(ot,{to:"/contacto",className:"text-sm text-primary-foreground/70 hover:text-primary-foreground transition-colors",children:"Contacto"})})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"text-sm font-semibold uppercase tracking-wider",children:"Sobre Nosotros"}),a.jsxs("ul",{className:"space-y-3",children:[a.jsx("li",{children:a.jsx(ot,{to:"/sobre-nosotros",className:"text-sm text-primary-foreground/70 hover:text-primary-foreground transition-colors",children:"Quines somos"})}),a.jsx("li",{children:a.jsx(ot,{to:"/blog",className:"text-sm text-primary-foreground/70 hover:text-primary-foreground transition-colors",children:"Blog"})}),a.jsx("li",{children:a.jsx(ot,{to:"/donaciones",className:"text-sm text-primary-foreground/70 hover:text-primary-foreground transition-colors",children:"Donaciones"})})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"text-sm font-semibold uppercase tracking-wider",children:"Contacto"}),a.jsxs("ul",{className:"space-y-3",children:[a.jsxs("li",{className:"flex items-center gap-3 text-sm text-primary-foreground/70",children:[a.jsx($f,{className:"h-4 w-4"}),a.jsx(ot,{to:"/contacto",className:"hover:text-primary-foreground transition-colors",children:"hola@brickshare.es"})]}),a.jsxs("li",{className:"flex items-center gap-3 text-sm text-primary-foreground/70",children:[a.jsx(Vf,{className:"h-4 w-4"}),"+34 900 123 456"]}),a.jsxs("li",{className:"flex items-start gap-3 text-sm text-primary-foreground/70",children:[a.jsx(ms,{className:"h-4 w-4 mt-0.5"}),a.jsxs("span",{children:["Calle de la Innovacin, 42",a.jsx("br",{}),"28001 Madrid, Espaa"]})]})]})]})]}),a.jsxs("div",{className:"mt-12 pt-8 border-t border-primary-foreground/10",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[a.jsx("p",{className:"text-sm text-primary-foreground/50",children:" 2024 Brickshare. Todos los derechos reservados."}),a.jsxs("div",{className:"flex gap-6",children:[a.jsx(ot,{to:"/privacidad",className:"text-sm text-primary-foreground/50 hover:text-primary-foreground/70 transition-colors",children:"Poltica de privacidad"}),a.jsx(ot,{to:"/terminos",className:"text-sm text-primary-foreground/50 hover:text-primary-foreground/70 transition-colors",children:"Trminos de uso"}),a.jsx(ot,{to:"/aviso-legal",className:"text-sm text-primary-foreground/50 hover:text-primary-foreground/70 transition-colors",children:"Aviso legal"})]})]}),a.jsx("p",{className:"text-xs text-primary-foreground/40 mt-4 text-center",children:"LEGO es una marca registrada de The LEGO Group. Brickshare no est patrocinado, autorizado ni respaldado por The LEGO Group. Este servicio utiliza exclusivamente productos LEGO originales adquiridos legalmente."})]})]})}),sW=()=>{const{isAdmin:t,isOperador:e,isLoading:r}=sr(),n=zr();return y.useEffect(()=>{r||(t?n("/admin"):e&&n("/operaciones"))},[t,e,r,n]),r||t||e?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx(xn,{}),a.jsxs("main",{children:[a.jsx(F9,{}),a.jsx($9,{}),a.jsx(V9,{}),a.jsx(U9,{}),a.jsx(rW,{}),a.jsx(nW,{})]}),a.jsx(wn,{})]})},ut=y.forwardRef(({className:t,type:e,...r},n)=>a.jsx("input",{type:e,className:be("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...r}));ut.displayName="Input";function lh(t){const e=y.useRef({value:t,previous:t});return y.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var ch="Checkbox",[iW]=Sr(ch),[oW,hx]=iW(ch);function aW(t){const{__scopeCheckbox:e,checked:r,children:n,defaultChecked:s,disabled:o,form:c,name:u,onCheckedChange:f,required:h,value:p="on",internal_do_not_use_render:g}=t,[v,w]=yn({prop:r,defaultProp:s??!1,onChange:f,caller:ch}),[S,b]=y.useState(null),[j,N]=y.useState(null),E=y.useRef(!1),k=S?!!c||!!S.closest("form"):!0,P={checked:v,disabled:o,setChecked:w,control:S,setControl:b,name:u,form:c,value:p,hasConsumerStoppedPropagationRef:E,required:h,defaultChecked:Ri(s)?!1:s,isFormControl:k,bubbleInput:j,setBubbleInput:N};return a.jsx(oW,{scope:e,...P,children:lW(g)?g(P):n})}var OT="CheckboxTrigger",IT=y.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:r,...n},s)=>{const{control:o,value:c,disabled:u,checked:f,required:h,setControl:p,setChecked:g,hasConsumerStoppedPropagationRef:v,isFormControl:w,bubbleInput:S}=hx(OT,t),b=Ge(s,p),j=y.useRef(f);return y.useEffect(()=>{const N=o?.form;if(N){const E=()=>g(j.current);return N.addEventListener("reset",E),()=>N.removeEventListener("reset",E)}},[o,g]),a.jsx(Ae.button,{type:"button",role:"checkbox","aria-checked":Ri(f)?"mixed":f,"aria-required":h,"data-state":$T(f),"data-disabled":u?"":void 0,disabled:u,value:c,...n,ref:b,onKeyDown:ge(e,N=>{N.key==="Enter"&&N.preventDefault()}),onClick:ge(r,N=>{g(E=>Ri(E)?!0:!E),S&&w&&(v.current=N.isPropagationStopped(),v.current||N.stopPropagation())})})});IT.displayName=OT;var px=y.forwardRef((t,e)=>{const{__scopeCheckbox:r,name:n,checked:s,defaultChecked:o,required:c,disabled:u,value:f,onCheckedChange:h,form:p,...g}=t;return a.jsx(aW,{__scopeCheckbox:r,checked:s,defaultChecked:o,disabled:u,required:c,onCheckedChange:h,name:n,form:p,value:f,internal_do_not_use_render:({isFormControl:v})=>a.jsxs(a.Fragment,{children:[a.jsx(IT,{...g,ref:e,__scopeCheckbox:r}),v&&a.jsx(FT,{__scopeCheckbox:r})]})})});px.displayName=ch;var MT="CheckboxIndicator",DT=y.forwardRef((t,e)=>{const{__scopeCheckbox:r,forceMount:n,...s}=t,o=hx(MT,r);return a.jsx(rn,{present:n||Ri(o.checked)||o.checked===!0,children:a.jsx(Ae.span,{"data-state":$T(o.checked),"data-disabled":o.disabled?"":void 0,...s,ref:e,style:{pointerEvents:"none",...t.style}})})});DT.displayName=MT;var LT="CheckboxBubbleInput",FT=y.forwardRef(({__scopeCheckbox:t,...e},r)=>{const{control:n,hasConsumerStoppedPropagationRef:s,checked:o,defaultChecked:c,required:u,disabled:f,name:h,value:p,form:g,bubbleInput:v,setBubbleInput:w}=hx(LT,t),S=Ge(r,w),b=lh(o),j=Wf(n);y.useEffect(()=>{const E=v;if(!E)return;const k=window.HTMLInputElement.prototype,A=Object.getOwnPropertyDescriptor(k,"checked").set,L=!s.current;if(b!==o&&A){const O=new Event("click",{bubbles:L});E.indeterminate=Ri(o),A.call(E,Ri(o)?!1:o),E.dispatchEvent(O)}},[v,b,o,s]);const N=y.useRef(Ri(o)?!1:o);return a.jsx(Ae.input,{type:"checkbox","aria-hidden":!0,defaultChecked:c??N.current,required:u,disabled:f,name:h,value:p,form:g,...e,tabIndex:-1,ref:S,style:{...e.style,...j,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});FT.displayName=LT;function lW(t){return typeof t=="function"}function Ri(t){return t==="indeterminate"}function $T(t){return Ri(t)?"indeterminate":t?"checked":"unchecked"}const mc=y.forwardRef(({className:t,...e},r)=>a.jsx(px,{ref:r,className:be("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:a.jsx(DT,{className:be("flex items-center justify-center text-current"),children:a.jsx(Ff,{className:"h-4 w-4"})})}));mc.displayName=px.displayName;const cW=cx,uW=ux,dW=dx,VT=y.forwardRef(({className:t,...e},r)=>a.jsx(tu,{className:be("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));VT.displayName=tu.displayName;const fW=Uc("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),UT=y.forwardRef(({side:t="right",className:e,children:r,...n},s)=>a.jsxs(dW,{children:[a.jsx(VT,{}),a.jsxs(ru,{ref:s,className:be(fW({side:t}),e),...n,children:[r,a.jsxs(ah,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[a.jsx(Ao,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));UT.displayName=ru.displayName;const BT=({className:t,...e})=>a.jsx("div",{className:be("flex flex-col space-y-2 text-center sm:text-left",t),...e});BT.displayName="SheetHeader";const zT=y.forwardRef(({className:t,...e},r)=>a.jsx(nu,{ref:r,className:be("text-lg font-semibold text-foreground",t),...e}));zT.displayName=nu.displayName;const hW=y.forwardRef(({className:t,...e},r)=>a.jsx(su,{ref:r,className:be("text-sm text-muted-foreground",t),...e}));hW.displayName=su.displayName;const WT=(t=20,e=0)=>Io({queryKey:["sets",t,e],queryFn:async()=>{const{data:r,error:n}=await Ye.from("sets").select("id, set_name, set_description, set_image_url, set_theme, set_age_range, set_piece_count, skill_boost, created_at, year_released, set_weight, catalogue_visibility, set_ref").eq("catalogue_visibility",!0).order("created_at",{ascending:!1}).range(e,e+t-1);if(n)throw n;return r},staleTime:1e3*60*5}),qT=()=>{const{user:t,profile:e}=sr(),{toast:r}=js(),n=zr(),[s,o]=y.useState([]),[c,u]=y.useState(!1),f=y.useCallback(async()=>{if(!t){o([]);return}u(!0);const{data:g,error:v}=await Ye.from("wishlist").select("set_id").eq("user_id",t.id);!v&&g&&o(g.map(w=>w.set_id)),u(!1)},[t]);return y.useEffect(()=>{f()},[f]),{wishlistIds:s,isLoading:c,toggleWishlist:async g=>{if(!t)return r({title:"Inicia sesin",description:"Debes iniciar sesin para aadir sets a tu wishlist",variant:"destructive"}),!1;if(!s.includes(g)&&(!e?.subscription_status||e.subscription_status!=="active"))return r({title:"Suscripcin Inactiva",description:"Necesitas una suscripcin activa para aadir sets a tu wishlist.",variant:"destructive"}),n("/como-funciona"),!1;const v=s.includes(g);if(o(v?w=>w.filter(S=>S!==g):w=>[...w,g]),v){const{error:w}=await Ye.from("wishlist").delete().eq("user_id",t.id).eq("set_id",g);if(w)return o(S=>[...S,g]),r({title:"Error",description:"No se pudo eliminar de la wishlist",variant:"destructive"}),!1;r({title:"Eliminado",description:"Set eliminado de tu wishlist"})}else{const{error:w}=await Ye.from("wishlist").insert({user_id:t.id,set_id:g});if(w)return o(S=>S.filter(b=>b!==g)),r({title:"Error",description:"No se pudo aadir a la wishlist",variant:"destructive"}),!1;r({title:"Aadido",description:"Set aadido a tu wishlist"})}return!0},isWishlisted:g=>s.includes(g),refreshWishlist:f}},pW=[{id:"sample-1",set_name:"Estacin de Bomberos",set_ref:"60320",set_image_url:"https://images.unsplash.com/photo-1587654780291-39c9404d746b?w=400&h=400&fit=crop",set_theme:"City",set_age_range:"6+ aos",set_piece_count:509,skill_boost:["Motricidad fina","trabajo en equipo"],set_description:"Una moderna estacin de bomberos con camin, helicptero y personajes icnicos para misiones de rescate.",created_at:"",year_released:2023,catalogue_visibility:!0},{id:"sample-2",set_name:"Excavadora Pesada",set_ref:"42121",set_image_url:"https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=400&h=400&fit=crop",set_theme:"Technic",set_age_range:"9+ aos",set_piece_count:834,skill_boost:["Lgica","mecnica"],set_description:"2 modelos en 1: construye una excavadora o una retroexcavadora para aprender sobre ingeniera real.",created_at:"",year_released:2022,catalogue_visibility:!0},{id:"sample-3",set_name:"Casa Familiar Moderna",set_ref:"31139",set_image_url:"https://images.unsplash.com/photo-1596461404969-9ae70f2830c1?w=400&h=400&fit=crop",set_theme:"Creator",set_age_range:"8+ aos",set_piece_count:728,skill_boost:["Creatividad","visin espacial"],set_description:"Reconstruye esta acogedora casa en una vivienda junto al canal o una pintoresca casa de playa.",created_at:"",year_released:2023,catalogue_visibility:!0},{id:"sample-4",set_name:"Centro Comercial",set_ref:"41450",set_image_url:"https://images.unsplash.com/photo-1599623560574-39d485900c95?w=400&h=400&fit=crop",set_theme:"Friends",set_age_range:"8+ aos",set_piece_count:446,skill_boost:["Imaginacin","juego social"],set_description:"Descubre el mundo de Friends con este centro comercial lleno de tiendas y accesorios divertidos.",created_at:"",year_released:2021,catalogue_visibility:!0},{id:"sample-5",set_name:"Nave Estelar",set_ref:"75301",set_image_url:"https://images.unsplash.com/photo-1518946222227-364f22132616?w=400&h=400&fit=crop",set_theme:"Star Wars",set_age_range:"9+ aos",set_piece_count:1353,skill_boost:["Paciencia","concentracin"],set_description:"nete a la Rebelin con esta mtica nave. Incluye mini figuras de Luke Skywalker y R2-D2.",created_at:"",year_released:2023,catalogue_visibility:!0},{id:"sample-6",set_name:"Comisara de Polica",set_ref:"60316",set_image_url:"https://images.unsplash.com/photo-1560961911-ba7ef651a56c?w=400&h=400&fit=crop",set_theme:"City",set_age_range:"6+ aos",set_piece_count:668,skill_boost:["Narrativa","juego de roles"],set_description:"Protege la ciudad con esta completa comisara. Incluye calabozo, patrulla y dron de vigilancia.",created_at:"",year_released:2022,catalogue_visibility:!0}],mW=["City","Technic","Creator","Friends","Star Wars","Architecture"],gW=["5-7 aos","6-12 aos","7-12 aos","8-12 aos","8-14 aos","9-16 aos","10-16 aos"],yW=[{label:"Menos de 300",min:0,max:299},{label:"300-500",min:300,max:500},{label:"500-800",min:500,max:800},{label:"Ms de 800",min:800,max:1e4}],vW=()=>{const{isAdmin:t,isOperador:e,isLoading:r}=sr(),n=zr(),{data:s=[],isLoading:o}=WT(100),{isWishlisted:c,toggleWishlist:u}=qT();if(y.useEffect(()=>{r||(t?n("/admin"):e&&n("/operaciones"))},[t,e,r,n]),r||t||e)return a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx(Yt,{className:"h-8 w-8 animate-spin text-primary"})});const[f,h]=y.useState(""),[p,g]=y.useState([]),[v,w]=y.useState([]),[S,b]=y.useState([]),j=s.length>0?s:pW,N=C=>{g(R=>R.includes(C)?R.filter(M=>M!==C):[...R,C])},E=C=>{w(R=>R.includes(C)?R.filter(M=>M!==C):[...R,C])},k=C=>{b(R=>R.some(M=>M.label===C.label)?R.filter(M=>M.label!==C.label):[...R,C])},P=()=>{g([]),w([]),b([]),h("")},A=j.filter(C=>{const R=(C.set_name||"").toLowerCase().includes(f.toLowerCase()),M=p.length===0||p.includes(C.set_theme),H=v.length===0||v.includes(C.set_age_range),V=S.length===0||S.some(J=>(C.set_piece_count||0)>=J.min&&(C.set_piece_count||0)<=J.max);return R&&M&&H&&V}),L=p.length>0||v.length>0||S.length>0,O=()=>a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-semibold text-foreground mb-4",children:"Tema"}),a.jsx("div",{className:"space-y-3",children:mW.map(C=>a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[a.jsx(mc,{checked:p.includes(C),onCheckedChange:()=>N(C)}),a.jsx("span",{className:"text-sm text-muted-foreground group-hover:text-foreground transition-colors",children:C})]},C))})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-semibold text-foreground mb-4",children:"Edad recomendada"}),a.jsx("div",{className:"space-y-3",children:gW.map(C=>a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[a.jsx(mc,{checked:v.includes(C),onCheckedChange:()=>E(C)}),a.jsx("span",{className:"text-sm text-muted-foreground group-hover:text-foreground transition-colors",children:C})]},C))})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-semibold text-foreground mb-4",children:"Nmero de piezas"}),a.jsx("div",{className:"space-y-3",children:yW.map(C=>a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[a.jsx(mc,{checked:S.some(R=>R.label===C.label),onCheckedChange:()=>k(C)}),a.jsx("span",{className:"text-sm text-muted-foreground group-hover:text-foreground transition-colors",children:C.label})]},C.label))})]}),L&&a.jsxs(Me,{variant:"ghost",onClick:P,className:"w-full",children:[a.jsx(Ao,{className:"h-4 w-4 mr-2"}),"Limpiar filtros"]})]});return a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx(xn,{}),a.jsx("main",{className:"pt-24 pb-16",children:a.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs(fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-8",children:[a.jsx("h1",{className:"text-3xl sm:text-4xl font-display font-bold text-foreground mb-2",children:"Catlogo de Sets"}),a.jsx("p",{className:"text-muted-foreground",children:"Explora nuestra coleccin y aade tus favoritos a la wishlist"})]}),a.jsxs(fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"flex gap-4 mb-8",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(qj,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),a.jsx(ut,{type:"text",placeholder:"Buscar sets...",value:f,onChange:C=>h(C.target.value),className:"pl-10"})]}),a.jsxs(cW,{children:[a.jsx(uW,{asChild:!0,children:a.jsxs(Me,{variant:"outline",className:"lg:hidden",children:[a.jsx(nM,{className:"h-4 w-4 mr-2"}),"Filtros",L&&a.jsx("span",{className:"ml-2 w-5 h-5 rounded-full gradient-hero text-xs flex items-center justify-center text-primary-foreground",children:p.length+v.length+S.length})]})}),a.jsxs(UT,{side:"left",children:[a.jsx(BT,{children:a.jsx(zT,{children:"Filtros"})}),a.jsx("div",{className:"mt-6",children:a.jsx(O,{})})]})]})]}),a.jsxs("div",{className:"flex gap-8",children:[a.jsx(fe.aside,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},className:"hidden lg:block w-64 shrink-0",children:a.jsxs("div",{className:"sticky top-24 bg-card rounded-2xl p-6 shadow-card",children:[a.jsx("h2",{className:"text-lg font-display font-semibold text-foreground mb-6",children:"Filtros"}),a.jsx(O,{})]})}),a.jsx("div",{className:"flex-1",children:o?a.jsx("div",{className:"flex items-center justify-center py-16",children:a.jsx(Yt,{className:"h-8 w-8 animate-spin text-primary"})}):A.length>0?a.jsxs(a.Fragment,{children:[a.jsxs("p",{className:"text-sm text-muted-foreground mb-6",children:[A.length," ",A.length===1?"set encontrado":"sets encontrados"]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:A.map(C=>a.jsx(fx,{id:C.id,name:C.set_name,imageUrl:C.set_image_url||"/placeholder.svg",theme:C.set_theme,ageRange:C.set_age_range,pieceCount:C.set_piece_count,skillBoost:Array.isArray(C.skill_boost)?C.skill_boost.join(", "):"",legoRef:C.set_ref,description:C.set_description,isWishlisted:c(C.id),onWishlistToggle:u},C.id))})]}):a.jsxs(fe.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-16",children:[a.jsx("p",{className:"text-lg text-muted-foreground mb-4",children:"No se encontraron sets con los filtros seleccionados"}),a.jsx(Me,{variant:"outline",onClick:P,children:"Limpiar filtros"})]})})]})]})}),a.jsx(wn,{})]})};var uh="Collapsible",[xW,HT]=Sr(uh),[wW,mx]=xW(uh),KT=y.forwardRef((t,e)=>{const{__scopeCollapsible:r,open:n,defaultOpen:s,disabled:o,onOpenChange:c,...u}=t,[f,h]=yn({prop:n,defaultProp:s??!1,onChange:c,caller:uh});return a.jsx(wW,{scope:r,disabled:o,contentId:Rn(),open:f,onOpenToggle:y.useCallback(()=>h(p=>!p),[h]),children:a.jsx(Ae.div,{"data-state":yx(f),"data-disabled":o?"":void 0,...u,ref:e})})});KT.displayName=uh;var GT="CollapsibleTrigger",YT=y.forwardRef((t,e)=>{const{__scopeCollapsible:r,...n}=t,s=mx(GT,r);return a.jsx(Ae.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":yx(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...n,ref:e,onClick:ge(t.onClick,s.onOpenToggle)})});YT.displayName=GT;var gx="CollapsibleContent",QT=y.forwardRef((t,e)=>{const{forceMount:r,...n}=t,s=mx(gx,t.__scopeCollapsible);return a.jsx(rn,{present:r||s.open,children:({present:o})=>a.jsx(bW,{...n,ref:e,present:o})})});QT.displayName=gx;var bW=y.forwardRef((t,e)=>{const{__scopeCollapsible:r,present:n,children:s,...o}=t,c=mx(gx,r),[u,f]=y.useState(n),h=y.useRef(null),p=Ge(e,h),g=y.useRef(0),v=g.current,w=y.useRef(0),S=w.current,b=c.open||u,j=y.useRef(b),N=y.useRef(void 0);return y.useEffect(()=>{const E=requestAnimationFrame(()=>j.current=!1);return()=>cancelAnimationFrame(E)},[]),hr(()=>{const E=h.current;if(E){N.current=N.current||{transitionDuration:E.style.transitionDuration,animationName:E.style.animationName},E.style.transitionDuration="0s",E.style.animationName="none";const k=E.getBoundingClientRect();g.current=k.height,w.current=k.width,j.current||(E.style.transitionDuration=N.current.transitionDuration,E.style.animationName=N.current.animationName),f(n)}},[c.open,n]),a.jsx(Ae.div,{"data-state":yx(c.open),"data-disabled":c.disabled?"":void 0,id:c.contentId,hidden:!b,...o,ref:p,style:{"--radix-collapsible-content-height":v?`${v}px`:void 0,"--radix-collapsible-content-width":S?`${S}px`:void 0,...t.style},children:b&&s})});function yx(t){return t?"open":"closed"}var _W=KT,SW=YT,jW=QT,rs="Accordion",kW=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[vx,EW,CW]=Ya(rs),[dh]=Sr(rs,[CW,HT]),xx=HT(),ZT=Q.forwardRef((t,e)=>{const{type:r,...n}=t,s=n,o=n;return a.jsx(vx.Provider,{scope:t.__scopeAccordion,children:r==="multiple"?a.jsx(PW,{...o,ref:e}):a.jsx(RW,{...s,ref:e})})});ZT.displayName=rs;var[XT,NW]=dh(rs),[JT,TW]=dh(rs,{collapsible:!1}),RW=Q.forwardRef((t,e)=>{const{value:r,defaultValue:n,onValueChange:s=()=>{},collapsible:o=!1,...c}=t,[u,f]=yn({prop:r,defaultProp:n??"",onChange:s,caller:rs});return a.jsx(XT,{scope:t.__scopeAccordion,value:Q.useMemo(()=>u?[u]:[],[u]),onItemOpen:f,onItemClose:Q.useCallback(()=>o&&f(""),[o,f]),children:a.jsx(JT,{scope:t.__scopeAccordion,collapsible:o,children:a.jsx(e2,{...c,ref:e})})})}),PW=Q.forwardRef((t,e)=>{const{value:r,defaultValue:n,onValueChange:s=()=>{},...o}=t,[c,u]=yn({prop:r,defaultProp:n??[],onChange:s,caller:rs}),f=Q.useCallback(p=>u((g=[])=>[...g,p]),[u]),h=Q.useCallback(p=>u((g=[])=>g.filter(v=>v!==p)),[u]);return a.jsx(XT,{scope:t.__scopeAccordion,value:c,onItemOpen:f,onItemClose:h,children:a.jsx(JT,{scope:t.__scopeAccordion,collapsible:!0,children:a.jsx(e2,{...o,ref:e})})})}),[AW,fh]=dh(rs),e2=Q.forwardRef((t,e)=>{const{__scopeAccordion:r,disabled:n,dir:s,orientation:o="vertical",...c}=t,u=Q.useRef(null),f=Ge(u,e),h=EW(r),g=Lo(s)==="ltr",v=ge(t.onKeyDown,w=>{if(!kW.includes(w.key))return;const S=w.target,b=h().filter(C=>!C.ref.current?.disabled),j=b.findIndex(C=>C.ref.current===S),N=b.length;if(j===-1)return;w.preventDefault();let E=j;const k=0,P=N-1,A=()=>{E=j+1,E>P&&(E=k)},L=()=>{E=j-1,E<k&&(E=P)};switch(w.key){case"Home":E=k;break;case"End":E=P;break;case"ArrowRight":o==="horizontal"&&(g?A():L());break;case"ArrowDown":o==="vertical"&&A();break;case"ArrowLeft":o==="horizontal"&&(g?L():A());break;case"ArrowUp":o==="vertical"&&L();break}const O=E%N;b[O].ref.current?.focus()});return a.jsx(AW,{scope:r,disabled:n,direction:s,orientation:o,children:a.jsx(vx.Slot,{scope:r,children:a.jsx(Ae.div,{...c,"data-orientation":o,ref:f,onKeyDown:n?void 0:v})})})}),mf="AccordionItem",[OW,wx]=dh(mf),t2=Q.forwardRef((t,e)=>{const{__scopeAccordion:r,value:n,...s}=t,o=fh(mf,r),c=NW(mf,r),u=xx(r),f=Rn(),h=n&&c.value.includes(n)||!1,p=o.disabled||t.disabled;return a.jsx(OW,{scope:r,open:h,disabled:p,triggerId:f,children:a.jsx(_W,{"data-orientation":o.orientation,"data-state":a2(h),...u,...s,ref:e,disabled:p,open:h,onOpenChange:g=>{g?c.onItemOpen(n):c.onItemClose(n)}})})});t2.displayName=mf;var r2="AccordionHeader",n2=Q.forwardRef((t,e)=>{const{__scopeAccordion:r,...n}=t,s=fh(rs,r),o=wx(r2,r);return a.jsx(Ae.h3,{"data-orientation":s.orientation,"data-state":a2(o.open),"data-disabled":o.disabled?"":void 0,...n,ref:e})});n2.displayName=r2;var oy="AccordionTrigger",s2=Q.forwardRef((t,e)=>{const{__scopeAccordion:r,...n}=t,s=fh(rs,r),o=wx(oy,r),c=TW(oy,r),u=xx(r);return a.jsx(vx.ItemSlot,{scope:r,children:a.jsx(SW,{"aria-disabled":o.open&&!c.collapsible||void 0,"data-orientation":s.orientation,id:o.triggerId,...u,...n,ref:e})})});s2.displayName=oy;var i2="AccordionContent",o2=Q.forwardRef((t,e)=>{const{__scopeAccordion:r,...n}=t,s=fh(rs,r),o=wx(i2,r),c=xx(r);return a.jsx(jW,{role:"region","aria-labelledby":o.triggerId,"data-orientation":s.orientation,...c,...n,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}})});o2.displayName=i2;function a2(t){return t?"open":"closed"}var IW=ZT,MW=t2,DW=n2,l2=s2,c2=o2;const u2=IW,bx=y.forwardRef(({className:t,...e},r)=>a.jsx(MW,{ref:r,className:be("border-b",t),...e}));bx.displayName="AccordionItem";const _x=y.forwardRef(({className:t,children:e,...r},n)=>a.jsx(DW,{className:"flex",children:a.jsxs(l2,{ref:n,className:be("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",t),...r,children:[e,a.jsx(My,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));_x.displayName=l2.displayName;const Sx=y.forwardRef(({className:t,children:e,...r},n)=>a.jsx(c2,{ref:n,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:a.jsx("div",{className:be("pb-4 pt-0",t),children:e})}));Sx.displayName=c2.displayName;const Rr=y.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,className:be("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Rr.displayName="Card";const ll=y.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,className:be("flex flex-col space-y-1.5 p-6",t),...e}));ll.displayName="CardHeader";const cl=y.forwardRef(({className:t,...e},r)=>a.jsx("h3",{ref:r,className:be("text-2xl font-semibold leading-none tracking-tight",t),...e}));cl.displayName="CardTitle";const d2=y.forwardRef(({className:t,...e},r)=>a.jsx("p",{ref:r,className:be("text-sm text-muted-foreground",t),...e}));d2.displayName="CardDescription";const Fr=y.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,className:be("p-6 pt-0",t),...e}));Fr.displayName="CardContent";const LW=y.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,className:be("flex items-center p-6 pt-0",t),...e}));LW.displayName="CardFooter";const FW=()=>{const[t,e]=y.useState(!1),{user:r}=sr(),{toast:n}=js();return{startSubscription:async(o,c)=>{if(!r)return n({title:"Error",description:"Debes iniciar sesin para suscribirte",variant:"destructive"}),null;e(!0);try{const{data:u,error:f}=await Ye.functions.invoke("create-subscription-intent",{body:{plan:o,userId:r.id,priceId:c}});if(f){let h="No se pudo iniciar el proceso de pago";try{f instanceof Error&&(h=f.message),console.error("Supabase Function Error:",f),h=f.message||h}catch(p){console.error("Error parsing error:",p)}throw new Error(h)}if(u?.error)throw new Error(u.error);return{clientSecret:u.clientSecret,subscriptionId:u.subscriptionId}}catch(u){if(console.error("FULL ERROR OBJECT:",u),u&&typeof u.json=="function")try{const f=await u.json();console.error("Error Body:",f)}catch{console.log("Could not parse error body JSON")}return n({title:"Error de configuracin",description:(u.message||"Error desconocido")+". Revisa la consola (F12) para ms detalles.",variant:"destructive"}),null}finally{e(!1)}},isLoading:t}};var Xm={exports:{}},Jm,gS;function $W(){if(gS)return Jm;gS=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Jm=t,Jm}var eg,yS;function VW(){if(yS)return eg;yS=1;var t=$W();function e(){}function r(){}return r.resetWarningCache=e,eg=function(){function n(c,u,f,h,p,g){if(g!==t){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}n.isRequired=n;function s(){return n}var o={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:s,element:n,elementType:n,instanceOf:s,node:n,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:r,resetWarningCache:e};return o.PropTypes=o,o},eg}var vS;function UW(){return vS||(vS=1,Xm.exports=VW()()),Xm.exports}var BW=UW();const _t=If(BW);function xS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function wS(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xS(Object(r),!0).forEach(function(n){f2(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Wd(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Wd=function(e){return typeof e}:Wd=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wd(t)}function f2(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zW(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,o;for(o=0;o<n.length;o++)s=n[o],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function WW(t,e){if(t==null)return{};var r=zW(t,e),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)n=o[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function h2(t,e){return qW(t)||HW(t,e)||KW(t,e)||GW()}function qW(t){if(Array.isArray(t))return t}function HW(t,e){var r=t&&(typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"]);if(r!=null){var n=[],s=!0,o=!1,c,u;try{for(r=r.call(t);!(s=(c=r.next()).done)&&(n.push(c.value),!(e&&n.length===e));s=!0);}catch(f){o=!0,u=f}finally{try{!s&&r.return!=null&&r.return()}finally{if(o)throw u}}return n}}function KW(t,e){if(t){if(typeof t=="string")return bS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bS(t,e)}}function bS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function GW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Mr=function(e,r,n){var s=!!n,o=Q.useRef(n);Q.useEffect(function(){o.current=n},[n]),Q.useEffect(function(){if(!s||!e)return function(){};var c=function(){o.current&&o.current.apply(o,arguments)};return e.on(r,c),function(){e.off(r,c)}},[s,r,e,o])},ay=function(e){var r=Q.useRef(e);return Q.useEffect(function(){r.current=e},[e]),r.current},Ba=function(e){return e!==null&&Wd(e)==="object"},YW=function(e){return Ba(e)&&typeof e.then=="function"},QW=function(e){return Ba(e)&&typeof e.elements=="function"&&typeof e.createToken=="function"&&typeof e.createPaymentMethod=="function"&&typeof e.confirmCardPayment=="function"},_S="[object Object]",ZW=function t(e,r){if(!Ba(e)||!Ba(r))return e===r;var n=Array.isArray(e),s=Array.isArray(r);if(n!==s)return!1;var o=Object.prototype.toString.call(e)===_S,c=Object.prototype.toString.call(r)===_S;if(o!==c)return!1;if(!o&&!n)return e===r;var u=Object.keys(e),f=Object.keys(r);if(u.length!==f.length)return!1;for(var h={},p=0;p<u.length;p+=1)h[u[p]]=!0;for(var g=0;g<f.length;g+=1)h[f[g]]=!0;var v=Object.keys(h);if(v.length!==u.length)return!1;var w=e,S=r,b=function(N){return t(w[N],S[N])};return v.every(b)},p2=function(e,r,n){return Ba(e)?Object.keys(e).reduce(function(s,o){var c=!Ba(r)||!ZW(e[o],r[o]);return n.includes(o)?(c&&console.warn("Unsupported prop change: options.".concat(o," is not a mutable property.")),s):c?wS(wS({},s||{}),{},f2({},o,e[o])):s},null):null},m2="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",SS=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:m2;if(e===null||QW(e))return e;throw new Error(r)},XW=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:m2;if(YW(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(s){return SS(s,r)})};var n=SS(e,r);return n===null?{tag:"empty"}:{tag:"sync",stripe:n}},JW=function(e){!e||!e._registerWrapper||!e.registerAppInfo||(e._registerWrapper({name:"react-stripe-js",version:"5.6.0"}),e.registerAppInfo({name:"react-stripe-js",version:"5.6.0",url:"https://stripe.com/docs/stripe-js/react"}))},hh=Q.createContext(null);hh.displayName="ElementsContext";var g2=function(e,r){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(r," in an <Elements> provider."));return e},y2=function(e){var r=e.stripe,n=e.options,s=e.children,o=Q.useMemo(function(){return XW(r)},[r]),c=Q.useState(function(){return{stripe:o.tag==="sync"?o.stripe:null,elements:o.tag==="sync"?o.stripe.elements(n):null}}),u=h2(c,2),f=u[0],h=u[1];Q.useEffect(function(){var v=!0,w=function(b){h(function(j){return j.stripe?j:{stripe:b,elements:b.elements(n)}})};return o.tag==="async"&&!f.stripe?o.stripePromise.then(function(S){S&&v&&w(S)}):o.tag==="sync"&&!f.stripe&&w(o.stripe),function(){v=!1}},[o,f,n]);var p=ay(r);Q.useEffect(function(){p!==null&&p!==r&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[p,r]);var g=ay(n);return Q.useEffect(function(){if(f.elements){var v=p2(n,g,["clientSecret","fonts"]);v&&f.elements.update(v)}},[n,g,f.elements]),Q.useEffect(function(){JW(f.stripe)},[f.stripe]),Q.createElement(hh.Provider,{value:f},s)};y2.propTypes={stripe:_t.any,options:_t.object};var e7=function(e){var r=Q.useContext(hh);return g2(r,e)},t7=function(){var e=e7("calls useElements()"),r=e.elements;return r};_t.func.isRequired;var v2=Q.createContext(null);v2.displayName="CheckoutContext";_t.any,_t.shape({clientSecret:_t.oneOfType([_t.string,_t.instanceOf(Promise)]).isRequired,elementsOptions:_t.object}).isRequired;var ly=function(e){var r=Q.useContext(v2),n=Q.useContext(hh);if(r){if(n)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CheckoutProvider> and <Elements> providers."));return r}else return g2(n,e)},r7=["mode"],n7=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},nn=function(e,r){var n="".concat(n7(e),"Element"),s=function(f){var h=f.id,p=f.className,g=f.options,v=g===void 0?{}:g,w=f.onBlur,S=f.onFocus,b=f.onReady,j=f.onChange,N=f.onEscape,E=f.onClick,k=f.onLoadError,P=f.onLoaderStart,A=f.onNetworksChange,L=f.onConfirm,O=f.onCancel,C=f.onShippingAddressChange,R=f.onShippingRateChange,M=f.onSavedPaymentMethodRemove,H=f.onSavedPaymentMethodUpdate,V=ly("mounts <".concat(n,">")),J="elements"in V?V.elements:null,z="checkoutState"in V?V.checkoutState:null,oe=z?.type==="success"||z?.type==="loading"?z.sdk:null,se=Q.useState(null),X=h2(se,2),U=X[0],F=X[1],K=Q.useRef(null),I=Q.useRef(null);Mr(U,"blur",w),Mr(U,"focus",S),Mr(U,"escape",N),Mr(U,"click",E),Mr(U,"loaderror",k),Mr(U,"loaderstart",P),Mr(U,"networkschange",A),Mr(U,"confirm",L),Mr(U,"cancel",O),Mr(U,"shippingaddresschange",C),Mr(U,"shippingratechange",R),Mr(U,"savedpaymentmethodremove",M),Mr(U,"savedpaymentmethodupdate",H),Mr(U,"change",j);var q;b&&(e==="expressCheckout"?q=b:q=function(){b(U)}),Mr(U,"ready",q),Q.useLayoutEffect(function(){if(K.current===null&&I.current!==null&&(J||oe)){var ie=null;if(oe)switch(e){case"paymentForm":ie=oe.createPaymentFormElement(v);break;case"payment":ie=oe.createPaymentElement(v);break;case"address":if("mode"in v){var xe=v.mode,_e=WW(v,r7);if(xe==="shipping")ie=oe.createShippingAddressElement(_e);else if(xe==="billing")ie=oe.createBillingAddressElement(_e);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":ie=oe.createExpressCheckoutElement(v);break;case"currencySelector":ie=oe.createCurrencySelectorElement();break;case"taxId":ie=oe.createTaxIdElement(v);break;default:throw new Error("Invalid Element type ".concat(n,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else J&&(ie=J.create(e,v));K.current=ie,F(ie),ie&&ie.mount(I.current)}},[J,oe,v]);var te=ay(v);return Q.useEffect(function(){if(K.current){var ie=p2(v,te,["paymentRequest"]);ie&&"update"in K.current&&K.current.update(ie)}},[v,te]),Q.useLayoutEffect(function(){return function(){if(K.current&&typeof K.current.destroy=="function")try{K.current.destroy(),K.current=null}catch{}}},[]),Q.createElement("div",{id:h,className:p,ref:I})},o=function(f){ly("mounts <".concat(n,">"));var h=f.id,p=f.className;return Q.createElement("div",{id:h,className:p})},c=r?o:s;return c.propTypes={id:_t.string,className:_t.string,onChange:_t.func,onBlur:_t.func,onFocus:_t.func,onReady:_t.func,onEscape:_t.func,onClick:_t.func,onLoadError:_t.func,onLoaderStart:_t.func,onNetworksChange:_t.func,onConfirm:_t.func,onCancel:_t.func,onShippingAddressChange:_t.func,onShippingRateChange:_t.func,onSavedPaymentMethodRemove:_t.func,onSavedPaymentMethodUpdate:_t.func,options:_t.object},c.displayName=n,c.__elementType=e,c},sn=typeof window>"u",s7=Q.createContext(null);s7.displayName="EmbeddedCheckoutProviderContext";var i7=function(){var e=ly("calls useStripe()"),r=e.stripe;return r};nn("auBankAccount",sn);nn("card",sn);nn("cardNumber",sn);nn("cardExpiry",sn);nn("cardCvc",sn);nn("iban",sn);var o7=nn("payment",sn);nn("expressCheckout",sn);nn("paymentRequestButton",sn);nn("linkAuthentication",sn);nn("address",sn);nn("shippingAddress",sn);nn("paymentMethodMessaging",sn);nn("taxId",sn);function qd(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?qd=function(e){return typeof e}:qd=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qd(t)}var x2="clover",a7=function(e){return e===3?"v3":e},w2="https://js.stripe.com",l7="".concat(w2,"/").concat(x2,"/stripe.js"),c7=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,u7=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var d7=function(e){return c7.test(e)||u7.test(e)},f7=function(){for(var e=document.querySelectorAll('script[src^="'.concat(w2,'"]')),r=0;r<e.length;r++){var n=e[r];if(d7(n.src))return n}return null},jS=function(e){var r="",n=document.createElement("script");n.src="".concat(l7).concat(r);var s=document.head||document.body;if(!s)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return s.appendChild(n),n},h7=function(e,r){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"8.7.0",startTime:r})},Ql=null,Ad=null,Od=null,p7=function(e){return function(r){e(new Error("Failed to load Stripe.js",{cause:r}))}},m7=function(e,r){return function(){window.Stripe?e(window.Stripe):r(new Error("Stripe.js not available"))}},g7=function(e){return Ql!==null?Ql:(Ql=new Promise(function(r,n){if(typeof window>"u"||typeof document>"u"){r(null);return}if(window.Stripe){r(window.Stripe);return}try{var s=f7();if(!(s&&e)){if(!s)s=jS(e);else if(s&&Od!==null&&Ad!==null){var o;s.removeEventListener("load",Od),s.removeEventListener("error",Ad),(o=s.parentNode)===null||o===void 0||o.removeChild(s),s=jS(e)}}Od=m7(r,n),Ad=p7(n),s.addEventListener("load",Od),s.addEventListener("error",Ad)}catch(c){n(c);return}}),Ql.catch(function(r){return Ql=null,Promise.reject(r)}))},y7=function(e,r,n){if(e===null)return null;var s=r[0];if(typeof s!="string")throw new Error("Expected publishable key to be of type string, got type ".concat(qd(s)," instead."));var o=s.match(/^pk_test/),c=a7(e.version),u=x2;o&&c!==u&&console.warn("Stripe.js@".concat(c," was loaded on the page, but @stripe/stripe-js@").concat("8.7.0"," expected Stripe.js@").concat(u,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var f=e.apply(void 0,r);return h7(f,n),f},Zl,b2=!1,_2=function(){return Zl||(Zl=g7(null).catch(function(e){return Zl=null,Promise.reject(e)}),Zl)};Promise.resolve().then(function(){return _2()}).catch(function(t){b2||console.warn(t)});var v7=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];b2=!0;var s=Date.now();return _2().then(function(o){return y7(o,r,s)})};const x7=v7(""),w7=({onSuccess:t,onError:e,onCancel:r,planName:n})=>{const s=i7(),o=t7(),[c,u]=y.useState(!1),{toast:f}=js(),{updateProfile:h}=sr(),p=async g=>{if(g.preventDefault(),!s||!o)return;u(!0);const{error:v,paymentIntent:w}=await s.confirmPayment({elements:o,confirmParams:{return_url:`${window.location.origin}/dashboard`},redirect:"if_required"});v?(e(v.message??"Ocurri un error inesperado."),f({title:"Error en el pago",description:v.message,variant:"destructive"})):w&&w.status==="succeeded"&&(await h({subscription_status:"active",subscription_type:n}),t()),u(!1)};return a.jsxs("form",{onSubmit:p,className:"space-y-6",children:[a.jsx(o7,{}),a.jsxs("div",{className:"flex gap-3 justify-end",children:[a.jsx(Me,{variant:"outline",type:"button",onClick:r,disabled:c,children:"Cancelar"}),a.jsx(Me,{type:"submit",disabled:!s||c,className:"bg-primary",children:c?a.jsxs(a.Fragment,{children:[a.jsx(Yt,{className:"mr-2 h-4 w-4 animate-spin"}),"Procesando..."]}):"Pasarela Pago"})]})]})},b7=({isOpen:t,onClose:e,clientSecret:r,planName:n})=>{const[s,o]=y.useState(!1),[c,u]=y.useState(null),f=zr();return y.useEffect(()=>{t||(o(!1),u(null))},[t]),s?a.jsx(xo,{open:t,onOpenChange:e,children:a.jsxs(Ci,{className:"sm:max-w-md text-center",children:[a.jsxs(Ni,{children:[a.jsx("div",{className:"mx-auto w-12 h-12 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mb-4",children:a.jsx(Vj,{className:"h-6 w-6 text-green-600"})}),a.jsx(Ti,{className:"text-2xl font-bold",children:"Enhorabuena!"}),a.jsxs(Da,{className:"text-lg mt-2",children:["Suscripcin activada para el plan ",a.jsx("strong",{children:n}),".",a.jsx("br",{}),"Selecciona tus primeros sets del catlogo."]})]}),a.jsx("div",{className:"mt-6",children:a.jsx(Me,{onClick:()=>{e(),f("/catalogo")},className:"w-full",children:"Ir al Catlogo"})})]})}):c?a.jsx(xo,{open:t,onOpenChange:e,children:a.jsxs(Ci,{className:"sm:max-w-md text-center",children:[a.jsxs(Ni,{children:[a.jsx("div",{className:"mx-auto w-12 h-12 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mb-4",children:a.jsx(Dy,{className:"h-6 w-6 text-red-600"})}),a.jsx(Ti,{className:"text-2xl font-bold",children:"Error en el pago"}),a.jsx(Da,{className:"text-lg mt-2",children:c})]}),a.jsx("div",{className:"mt-6",children:a.jsx(Me,{onClick:e,variant:"destructive",className:"w-full",children:"Volver a elegir plan"})})]})}):a.jsx(xo,{open:t,onOpenChange:e,children:a.jsxs(Ci,{className:"sm:max-w-md",children:[a.jsxs(Ni,{children:[a.jsx(Ti,{children:"Finalizar Suscripcin"}),a.jsxs(Da,{children:["Ests contratando el plan ",a.jsx("strong",{children:n}),". Introduce tus datos de pago de forma segura."]})]}),r&&a.jsx(y2,{stripe:x7,options:{clientSecret:r},children:a.jsx(w7,{onSuccess:()=>o(!0),onError:h=>u(h),onCancel:e,planName:n})})]})})},_7=[{name:"Brick Starter",price:"19,90",priceId:"price_1StxtY7Pc5FKirdFJ7ypGgR3",icon:Kj,color:"from-emerald-500 to-teal-500",bgColor:"bg-emerald-50 dark:bg-emerald-950/30",borderColor:"border-emerald-200 dark:border-emerald-800",ageRange:"5 a 7 aos",pieceRange:"100 a 300 piezas",description:"Perfecto para los ms pequeos que comienzan su aventura con bloques de construccin."},{name:"Brick Pro",price:"29,90",priceId:"price_1Stxtv7Pc5FKirdFdsMnrRa7",icon:wM,color:"from-blue-500 to-indigo-500",bgColor:"bg-blue-50 dark:bg-blue-950/30",borderColor:"border-blue-200 dark:border-blue-800",ageRange:"8 a 11 aos",pieceRange:"300 a 550 piezas",popular:!0,description:"Para constructores con experiencia que buscan retos ms complejos."},{name:"Brick Master",price:"39,90",priceId:"price_1StxuC7Pc5FKirdFHE7OoIas",icon:eM,color:"from-purple-500 to-pink-500",bgColor:"bg-purple-50 dark:bg-purple-950/30",borderColor:"border-purple-200 dark:border-purple-800",ageRange:"12 a 15 aos",pieceRange:"550 a 800 piezas",description:"Diseado para expertos y nios muy avanzados (10+ aos) que dominan construcciones complejas."}],S7=[{icon:Ai,text:"1 set por mes"},{icon:zj,text:"Tiempo de uso ilimitado"},{icon:Hj,text:"Prdida de 5-6 piezas pequeas cubierta (95% de casos)"},{icon:bo,text:"Envo y devolucin gratuitos"}],kS=[{icon:Xn,title:"Elige tus sets favoritos",description:"Explora nuestro catlogo y aade a tu wishlist los sets que ms te gusten. Tu lista de deseos nos ayuda a saber qu enviarte."},{icon:bo,title:"Recibe en 2-3 das",description:"Te enviamos uno de los sets de tu wishlist directamente a tu domicilio. Listo para jugar!"},{icon:dM,title:"Devulvelo cuando quieras",description:"Cuando ya no quieras jugar ms, solicita la devolucin desde la web. Nosotros nos encargamos de todo."},{icon:Bc,title:"Higienizacin completa",description:"Una vez recibido, el set se revisa, completa, higieniza y retorna al pool de sets disponibles."}],j7=[{question:"Cmo funciona la suscripcin?",answer:"Dependiendo del tipo de suscripcin tienes acceso a un catlogo de sets ms amplio y a un nmero de envos por mes determinado. Solo puedes tener 1 set a la vez por suscripcin.",icon:JI},{question:"Qu pasa si pierdo alguna pieza pequea?",answer:"No te preocupes! Es completamente normal. Nosotros reponemos las piezas pequeas sin ningn coste adicional para ti.",icon:Uy},{question:"Y si pierdo una pieza grande o una figurilla?",answer:"En ese caso, nosotros completamos el set, pero te pediremos que abones el importe de la pieza o figurilla perdida.",icon:Dy},{question:"Puedo darme de baja cuando quiera?",answer:"Por supuesto! Puedes darte de alta y de baja en cualquier momento. La suscripcin tiene un periodo vlido mnimo de 1 mes.",icon:$j},{question:"Cuntos sets puedo tener a la vez?",answer:"Con cada suscripcin solo puedes tener 1 set a la vez. Cuando lo devuelvas, podrs solicitar el siguiente de tu wishlist.",icon:Ai},{question:"Qu incluye cada tipo de suscripcin?",answer:"Cada plan ofrece acceso a diferentes niveles de catlogo y nmero de envos mensuales. Los planes superiores incluyen sets ms exclusivos y mayor frecuencia de intercambio.",icon:Ly}],k7=()=>{const{startSubscription:t,isLoading:e}=FW(),{isAdmin:r,isOperador:n,isLoading:s,user:o,profile:c,refreshProfile:u}=sr(),f=zr(),{toast:h}=js(),[p,g]=y.useState(null),[v,w]=y.useState(!1),[S,b]=y.useState(null),[j,N]=y.useState(null);y.useEffect(()=>{s||(r?f("/admin"):n&&f("/operaciones"))},[r,n,s,f]);const E=async k=>{if(!o){f("/auth");return}g(k.name);try{if(c?.subscription_status==="active"){if(c.subscription_type===k.name){h({title:"Plan Actual",description:"Ya tienes este plan activo.",variant:"default"}),g(null);return}console.log("Switching subscription for user:",o.id);const{data:P,error:A}=await Ye.functions.invoke("change-subscription",{body:{userId:o.id,newPriceId:k.priceId,newPlanName:k.name}});if(A)throw A;P.action==="upgrade"?(b(P.clientSecret),N(k),w(!0)):(await u(),h({title:"Suscripcin Actualizada",description:P.action==="downgrade"?"Tu plan ha sido actualizado y hemos procesado la devolucin de la diferencia.":"Tu plan ha sido actualizado correctamente.",className:"bg-green-100 border-green-200 dark:bg-green-900/30 dark:border-green-800"}),f("/catalogo"))}else{const P=await t(k.name,k.priceId);P&&P.clientSecret&&(b(P.clientSecret),N(k),w(!0))}}catch(P){console.error("Error subscribing:",P),h({title:"Error",description:P.message||"No se pudo procesar la solicitud.",variant:"destructive"})}finally{g(null)}};return s||r||n?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx(Yt,{className:"h-8 w-8 animate-spin text-primary"})}):a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx(xn,{}),a.jsxs("main",{children:[a.jsxs("section",{className:"relative py-20 bg-gradient-to-br from-primary/10 via-background to-secondary/10 overflow-hidden",children:[a.jsxs("div",{className:"absolute inset-0 opacity-5",children:[a.jsx("div",{className:"absolute top-10 left-10 w-32 h-32 bg-primary rounded-full blur-3xl"}),a.jsx("div",{className:"absolute bottom-10 right-10 w-40 h-40 bg-secondary rounded-full blur-3xl"})]}),a.jsx("div",{className:"container mx-auto px-4 relative z-10",children:a.jsxs(fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center max-w-3xl mx-auto",children:[a.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-foreground mb-6",children:"Cmo Funciona?"}),a.jsx("p",{className:"text-lg text-muted-foreground",children:"Alquilar sets de construccin nunca fue tan fcil. Descubre cmo funciona nuestro servicio de suscripcin y empieza a construir sin lmites."})]})})]}),a.jsx("section",{className:"py-20",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsx(fe.h2,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-3xl font-bold text-center text-foreground mb-16",children:"El proceso paso a paso"}),a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:kS.map((k,P)=>a.jsxs(fe.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:P*.1},className:"relative",children:[a.jsxs("div",{className:"bg-card border border-border rounded-2xl p-6 h-full hover:shadow-lg transition-shadow",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[a.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-xl flex items-center justify-center",children:a.jsx(k.icon,{className:"w-6 h-6 text-primary"})}),a.jsx("span",{className:"text-4xl font-bold text-primary/20",children:P+1})]}),a.jsx("h3",{className:"text-xl font-semibold text-foreground mb-2",children:k.title}),a.jsx("p",{className:"text-muted-foreground",children:k.description})]}),P<kS.length-1&&a.jsx("div",{className:"hidden lg:block absolute top-1/2 -right-4 w-8 h-0.5 bg-border"})]},P))})]})}),a.jsx("section",{className:"py-20 bg-gradient-to-br from-secondary/5 via-background to-primary/5",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsxs(fe.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-12",children:[a.jsx("h2",{className:"text-3xl font-bold text-foreground mb-4",children:"Nuestros Planes de Suscripcin"}),a.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Elige el plan perfecto segn la edad y experiencia de tu pequeo constructor"})]}),a.jsxs(fe.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"bg-card border border-border rounded-2xl p-6 mb-12 max-w-4xl mx-auto",children:[a.jsx("h3",{className:"text-xl font-semibold text-center text-foreground mb-6",children:"Incluido en todos los planes"}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:S7.map((k,P)=>a.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-primary/5",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:a.jsx(k.icon,{className:"w-5 h-5 text-primary"})}),a.jsx("span",{className:"text-sm font-medium text-foreground",children:k.text})]},P))})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-5xl mx-auto",children:_7.map((k,P)=>a.jsxs(fe.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:P*.1},className:"relative",children:[k.popular&&a.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 z-10",children:a.jsx($r,{className:"bg-gradient-to-r from-blue-500 to-indigo-500 text-white border-0 px-4 py-1",children:"Ms popular"})}),a.jsxs(Rr,{className:`h-full ${k.bgColor} ${k.borderColor} border-2 hover:shadow-xl transition-all duration-300 ${k.popular?"ring-2 ring-blue-500 ring-offset-2 ring-offset-background":""}`,children:[a.jsxs(ll,{className:"text-center pb-4",children:[a.jsx("div",{className:`w-16 h-16 mx-auto mb-4 rounded-full bg-gradient-to-br ${k.color} flex items-center justify-center`,children:a.jsx(k.icon,{className:"w-8 h-8 text-white"})}),a.jsx(cl,{className:"text-2xl",children:k.name}),a.jsxs("div",{className:"mt-2",children:[a.jsx("span",{className:"text-4xl font-bold text-foreground",children:k.price}),a.jsx("span",{className:"text-muted-foreground",children:" /mes"})]}),a.jsx(d2,{className:"mt-2",children:k.description})]}),a.jsxs(Fr,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-3 p-3 bg-background/50 rounded-lg",children:[a.jsx(Uy,{className:"w-5 h-5 text-primary flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-foreground",children:"Rango de piezas"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:k.pieceRange})]})]}),a.jsxs("div",{className:"flex items-center gap-3 p-3 bg-background/50 rounded-lg",children:[a.jsx(Kj,{className:"w-5 h-5 text-primary flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-foreground",children:"Edad sugerida"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:k.ageRange})]})]})]}),a.jsxs(Me,{className:`w-full bg-gradient-to-r ${k.color} hover:opacity-90 text-white border-0`,onClick:()=>E(k),disabled:e,children:[p===k.name?a.jsx(Yt,{className:"h-4 w-4 animate-spin mr-2"}):null,"Elegir plan"]})]})]})]},P))})]})}),a.jsx("section",{className:"py-20 bg-muted/30",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsxs(fe.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-16",children:[a.jsx("h2",{className:"text-3xl font-bold text-foreground mb-4",children:"Preguntas Frecuentes"}),a.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Todo lo que necesitas saber sobre nuestro servicio de alquiler de sets de construccin"})]}),a.jsx(fe.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"max-w-3xl mx-auto",children:a.jsx(u2,{type:"single",collapsible:!0,className:"space-y-4",children:j7.map((k,P)=>a.jsxs(bx,{value:`item-${P}`,className:"bg-card border border-border rounded-xl px-6 data-[state=open]:shadow-md transition-shadow",children:[a.jsx(_x,{className:"hover:no-underline py-5",children:a.jsxs("div",{className:"flex items-center gap-4 text-left",children:[a.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center shrink-0",children:a.jsx(k.icon,{className:"w-5 h-5 text-primary"})}),a.jsx("span",{className:"font-semibold text-foreground",children:k.question})]})}),a.jsx(Sx,{className:"text-muted-foreground pl-14 pb-5",children:k.answer})]},P))})})]})}),a.jsx("section",{className:"py-20",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsxs(fe.div,{initial:{opacity:0,scale:.95},whileInView:{opacity:1,scale:1},viewport:{once:!0},className:"bg-gradient-to-r from-primary to-primary/80 rounded-3xl p-10 text-center text-primary-foreground",children:[a.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Listo para empezar?"}),a.jsx("p",{className:"text-primary-foreground/80 mb-8 max-w-xl mx-auto",children:"Explora nuestro catlogo y crea tu wishlist. Tu prxima aventura de construccin te espera!"}),a.jsx("a",{href:"/catalogo",className:"inline-flex items-center gap-2 bg-background text-foreground px-8 py-3 rounded-full font-semibold hover:bg-background/90 transition-colors",children:"Ver Catlogo"})]})})})]}),a.jsx(wn,{}),a.jsx(b7,{isOpen:v,onClose:()=>w(!1),clientSecret:S,planName:j?.name||""})]})},E7="/brickshare_antigravityonly/assets/family-playing-lego-DPbRdCy6.jpg",C7="/brickshare_antigravityonly/assets/circular-economy-DfuZT5Z1.jpg",N7="/brickshare_antigravityonly/assets/children-learning-BZMdp7cs.jpg",T7=[{icon:By,title:"Economa Circular",description:"Maximizamos el uso de cada juguete, reduciendo el impacto ambiental y promoviendo un consumo ms responsable."},{icon:zc,title:"Impacto Social",description:"Colaboramos con entidades del tercer sector, generando empleo inclusivo y oportunidades para todos."},{icon:lg,title:"Seguridad Garantizada",description:"Cada set pasa por rigurosos procesos de higienizacin y control de calidad antes de llegar a tu hogar."},{icon:Wj,title:"Desarrollo Cognitivo",description:"Fomentamos la imaginacin, la creatividad y las capacidades cognitivas de los ms pequeos."}],R7=()=>{const{isAdmin:t,isOperador:e,isLoading:r}=sr(),n=zr();return y.useEffect(()=>{r||(t?n("/admin"):e&&n("/operaciones"))},[t,e,r,n]),r||t||e?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx(Yt,{className:"h-8 w-8 animate-spin text-primary"})}):a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx(xn,{}),a.jsxs("main",{children:[a.jsx("section",{className:"relative py-20 bg-gradient-to-br from-primary/10 via-background to-secondary/10 overflow-hidden",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsxs(fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center max-w-3xl mx-auto",children:[a.jsx("span",{className:"inline-block px-4 py-1.5 bg-primary/10 text-primary rounded-full text-sm font-medium mb-6",children:"Nuestra Historia"}),a.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-foreground mb-6",children:"Sobre Nosotros"}),a.jsx("p",{className:"text-lg text-muted-foreground",children:"Una iniciativa de impacto social basada en los principios de la economa circular"})]})})}),a.jsx("section",{className:"py-20",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[a.jsxs(fe.div,{initial:{opacity:0,x:-30},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6},children:[a.jsx("h2",{className:"text-3xl font-bold text-foreground mb-6",children:"Todo empez con una pregunta"}),a.jsxs("div",{className:"space-y-4 text-muted-foreground",children:[a.jsxs("p",{children:[a.jsx("span",{className:"text-foreground font-medium",children:"Cuntas veces montan realmente mis hijos un set de construccin?"})," Esta pregunta fue el punto de partida de todo. Como padre, observ cmo los juguetes de construccin se montaban con ilusin... y luego quedaban guardados en una estantera, acumulando polvo."]}),a.jsxs("p",{children:["Busqu una solucin que permitiera a mis hijos disfrutar de la experiencia de construir sin tener que comprar cada set, sin ocupar espacio infinito en casa, y sin generar un gasto desproporcionado. ",a.jsx("span",{className:"text-foreground font-medium",children:"No la encontr. As que decid crearla."})]}),a.jsx("p",{children:"As naci Brickshare: un servicio de alquiler de sets de construccin que permite a las familias acceder a una variedad infinita de sets, rotando constantemente, sin los inconvenientes de la compra tradicional."})]})]}),a.jsxs(fe.div,{initial:{opacity:0,x:30},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6,delay:.2},className:"relative",children:[a.jsxs("div",{className:"relative rounded-2xl overflow-hidden shadow-2xl",children:[a.jsx("img",{src:E7,alt:"Familia jugando con bloques de construccin",className:"w-full h-auto"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/30 to-transparent"})]}),a.jsx("div",{className:"absolute -bottom-6 -left-6 bg-primary text-primary-foreground p-4 rounded-xl shadow-lg",children:a.jsx(Xn,{className:"w-8 h-8"})})]})]})})}),a.jsx("section",{className:"py-20 bg-muted/30",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[a.jsx(fe.div,{initial:{opacity:0,x:-30},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6},className:"order-2 lg:order-1",children:a.jsx("div",{className:"relative rounded-2xl overflow-hidden shadow-2xl",children:a.jsx("img",{src:C7,alt:"Economa circular",className:"w-full h-auto"})})}),a.jsxs(fe.div,{initial:{opacity:0,x:30},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6,delay:.2},className:"order-1 lg:order-2",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"w-12 h-12 bg-green-500/10 rounded-xl flex items-center justify-center",children:a.jsx(By,{className:"w-6 h-6 text-green-600"})}),a.jsx("span",{className:"text-green-600 font-semibold",children:"Economa Circular"})]}),a.jsx("h2",{className:"text-3xl font-bold text-foreground mb-6",children:"Reutilizar es el nuevo comprar"}),a.jsxs("div",{className:"space-y-4 text-muted-foreground",children:[a.jsxs("p",{children:["Nuestro modelo se basa en los principios de la ",a.jsx("span",{className:"text-foreground font-medium",children:"economa circular"}),": cada set que entra en nuestro sistema se utiliza muchas ms veces de lo que lo hara en un hogar individual."]}),a.jsxs("p",{children:["Esto significa menos produccin innecesaria, menos residuos, y un uso ms inteligente de los recursos. Todo ello manteniendo unas condiciones de uso",a.jsx("span",{className:"text-foreground font-medium",children:" ptimas y completamente seguras"})," para los nios."]}),a.jsx("p",{children:"Cada set pasa por un riguroso proceso de higienizacin, revisin y reposicin de piezas antes de llegar a la siguiente familia."})]})]})]})})}),a.jsx("section",{className:"py-20",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[a.jsxs(fe.div,{initial:{opacity:0,x:-30},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6},children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-xl flex items-center justify-center",children:a.jsx(zc,{className:"w-6 h-6 text-primary"})}),a.jsx("span",{className:"text-primary font-semibold",children:"Impacto Social"})]}),a.jsx("h2",{className:"text-3xl font-bold text-foreground mb-6",children:"Ms que un servicio, un propsito"}),a.jsxs("div",{className:"space-y-4 text-muted-foreground",children:[a.jsxs("p",{children:["Brickshare no es solo un negocio: es una ",a.jsx("span",{className:"text-foreground font-medium",children:"iniciativa de impacto social"}),". Colaboramos activamente con entidades del tercer sector, generando oportunidades de empleo para personas con diversidad funcional."]}),a.jsx("p",{children:"Nuestro equipo de higienizacin y preparacin de sets est formado por personas que, gracias a este proyecto, encuentran un trabajo digno y una va de integracin laboral."}),a.jsx("p",{children:"Cuando eliges Brickshare, no solo ests ahorrando dinero y espacio: ests contribuyendo a un mundo ms justo e inclusivo."})]})]}),a.jsxs(fe.div,{initial:{opacity:0,x:30},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6,delay:.2},className:"relative",children:[a.jsxs("div",{className:"relative rounded-2xl overflow-hidden shadow-2xl",children:[a.jsx("img",{src:N7,alt:"Nios aprendiendo con bloques de construccin",className:"w-full h-auto"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/30 to-transparent"})]}),a.jsx("div",{className:"absolute -bottom-6 -right-6 bg-secondary text-secondary-foreground p-4 rounded-xl shadow-lg",children:a.jsx(Bc,{className:"w-8 h-8"})})]})]})})}),a.jsx("section",{className:"py-20 bg-muted/30",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsxs(fe.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-16",children:[a.jsx("h2",{className:"text-3xl font-bold text-foreground mb-4",children:"Nuestros Valores"}),a.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Los principios que guan cada decisin que tomamos"})]}),a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:T7.map((s,o)=>a.jsxs(fe.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:o*.1},className:"bg-card border border-border rounded-2xl p-6 hover:shadow-lg transition-shadow",children:[a.jsx("div",{className:"w-14 h-14 bg-primary/10 rounded-xl flex items-center justify-center mb-4",children:a.jsx(s.icon,{className:"w-7 h-7 text-primary"})}),a.jsx("h3",{className:"text-xl font-semibold text-foreground mb-2",children:s.title}),a.jsx("p",{className:"text-muted-foreground text-sm",children:s.description})]},o))})]})}),a.jsx("section",{className:"py-20",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsx(fe.div,{initial:{opacity:0,scale:.95},whileInView:{opacity:1,scale:1},viewport:{once:!0},className:"bg-gradient-to-br from-primary/5 via-background to-secondary/5 border border-border rounded-3xl p-10",children:a.jsxs("div",{className:"text-center max-w-3xl mx-auto",children:[a.jsx("h2",{className:"text-3xl font-bold text-foreground mb-6",children:"Por qu elegir Brickshare?"}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-8 mt-10",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-4xl font-bold text-primary mb-2",children:""}),a.jsx("p",{className:"text-muted-foreground",children:"Sets para explorar sin lmites"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-4xl font-bold text-primary mb-2",children:"0"}),a.jsx("p",{className:"text-muted-foreground",children:"Espacio ocupado en casa"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-4xl font-bold text-primary mb-2",children:"100%"}),a.jsx("p",{className:"text-muted-foreground",children:"Impacto social positivo"})]})]})]})})})}),a.jsx("section",{className:"py-20 bg-muted/30",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsxs(fe.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"bg-gradient-to-r from-primary to-primary/80 rounded-3xl p-10 text-center text-primary-foreground",children:[a.jsx("h2",{className:"text-3xl font-bold mb-4",children:"nete a la revolucin del juego consciente"}),a.jsx("p",{className:"text-primary-foreground/80 mb-8 max-w-xl mx-auto",children:"Descubre cmo puedes disfrutar de infinitas posibilidades de construccin mientras contribuyes a un mundo mejor."}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[a.jsx("a",{href:"/catalogo",className:"inline-flex items-center justify-center gap-2 bg-background text-foreground px-8 py-3 rounded-full font-semibold hover:bg-background/90 transition-colors",children:"Ver Catlogo"}),a.jsx("a",{href:"/como-funciona",className:"inline-flex items-center justify-center gap-2 bg-transparent border-2 border-primary-foreground text-primary-foreground px-8 py-3 rounded-full font-semibold hover:bg-primary-foreground/10 transition-colors",children:"Cmo Funciona"})]})]})})})]}),a.jsx(wn,{})]})},P7="/brickshare_antigravityonly/assets/blog-family-experience-BIvNb0D5.jpg",A7="/brickshare_antigravityonly/assets/blog-child-achievement-WX6k8Orl.jpg",O7="/brickshare_antigravityonly/assets/blog-organized-space-DjgRLa35.jpg",I7=[{name:"Mara Gonzlez",location:"Madrid",quote:"Mis hijos esperan cada mes con ilusin el nuevo set. Es como tener una tienda de juguetes en casa sin el desorden ni el gasto. Una idea brillante!",image:P7,rating:5,date:"Enero 2024"},{name:"Carlos Fernndez",location:"Barcelona",quote:"Como padre, ver la cara de orgullo de mi hijo cuando termina una construccin no tiene precio. Y saber que estamos siendo responsables con el planeta lo hace an mejor.",image:A7,rating:5,date:"Diciembre 2023"},{name:"Ana Martnez",location:"Valencia",quote:"Por fin puedo tener una casa ordenada. Los sets vienen, se disfrutan y se devuelven. Mis hijos desarrollan su creatividad sin que yo pierda espacio en casa.",image:O7,rating:5,date:"Noviembre 2023"}],M7=[{title:"5 beneficios cognitivos de los bloques de construccin",excerpt:"Descubre cmo jugar con sets de construccin puede mejorar las habilidades espaciales, la resolucin de problemas y la creatividad de tus hijos.",date:"15 Enero 2024",category:"Desarrollo Infantil",readTime:"5 min"},{title:"Economa circular: por qu compartir es el futuro",excerpt:"El modelo de suscripcin circular no solo ahorra dinero, sino que contribuye a un planeta ms sostenible para las prximas generaciones.",date:"8 Enero 2024",category:"Sostenibilidad",readTime:"4 min"},{title:"Cmo fomentar el juego en familia",excerpt:"Consejos prcticos para convertir el tiempo de construccin en momentos de calidad familiar que todos disfrutarn.",date:"2 Enero 2024",category:"Familia",readTime:"6 min"}],D7=()=>a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx(xn,{}),a.jsx("section",{className:"pt-32 pb-16 bg-gradient-to-br from-primary/5 via-background to-secondary/5",children:a.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs(fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center max-w-3xl mx-auto",children:[a.jsxs($r,{className:"mb-4 bg-primary/10 text-primary hover:bg-primary/20",children:[a.jsx(Bc,{className:"h-3 w-3 mr-1"}),"Blog & Experiencias"]}),a.jsx("h1",{className:"text-4xl md:text-5xl font-display font-bold text-foreground mb-6",children:"Historias de familias felices"}),a.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:"Descubre las experiencias reales de familias que han transformado la forma en que sus hijos juegan y aprenden con Brickshare."})]})})}),a.jsx("section",{className:"py-20",children:a.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs(fe.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-16",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-display font-bold text-foreground mb-4",children:"Lo que dicen nuestras familias"}),a.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Testimonios reales de padres y madres que confan en Brickshare para el desarrollo y diversin de sus hijos."})]}),a.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:I7.map((t,e)=>a.jsx(fe.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:e*.1},children:a.jsxs(Rr,{className:"h-full overflow-hidden hover:shadow-xl transition-shadow duration-300",children:[a.jsx("div",{className:"aspect-video overflow-hidden",children:a.jsx("img",{src:t.image,alt:`Experiencia de ${t.name} con bloques de construccin`,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-500"})}),a.jsxs(Fr,{className:"p-6",children:[a.jsxs("div",{className:"flex items-start gap-2 mb-4",children:[a.jsx($b,{className:"h-8 w-8 text-primary/30 flex-shrink-0"}),a.jsxs("p",{className:"text-foreground/80 italic leading-relaxed",children:['"',t.quote,'"']})]}),a.jsxs("div",{className:"flex items-center justify-between mt-6 pt-4 border-t border-border",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-foreground",children:t.name}),a.jsx("p",{className:"text-sm text-muted-foreground",children:t.location})]}),a.jsx("div",{className:"flex gap-1",children:[...Array(t.rating)].map((r,n)=>a.jsx(Xn,{className:"h-4 w-4 fill-primary text-primary"},n))})]}),a.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:t.date})]})]})},e))})]})}),a.jsx("section",{className:"py-16 bg-primary/5",children:a.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:[{number:"2,500+",label:"Familias felices"},{number:"15,000+",label:"Sets compartidos"},{number:"4.9/5",label:"Valoracin media"},{number:"98%",label:"Recomendaran"}].map((t,e)=>a.jsxs(fe.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{duration:.4,delay:e*.1},className:"text-center",children:[a.jsx("p",{className:"text-3xl md:text-4xl font-display font-bold text-primary mb-2",children:t.number}),a.jsx("p",{className:"text-muted-foreground",children:t.label})]},e))})})}),a.jsx("section",{className:"py-20",children:a.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsx(fe.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-16",children:a.jsx("h2",{className:"text-3xl md:text-4xl font-display font-bold text-foreground mb-4",children:"Ms opiniones de la comunidad"})}),a.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:[{quote:"El servicio de atencin es excepcional. Cuando tuvimos un problema con una pieza, lo solucionaron en 24 horas.",name:"Laura Snchez",location:"Sevilla"},{quote:"Mis hijos aprenden paciencia, seguir instrucciones y trabajan su motricidad fina. Todo mientras se divierten.",name:"Pedro Ruiz",location:"Bilbao"},{quote:"Antes comprbamos sets que se montaban una vez y acababan en una caja. Ahora rotan y siempre hay novedad.",name:"Elena Garca",location:"Mlaga"},{quote:"Me encanta saber que apoyo empleo inclusivo mientras mis hijos juegan. Es un valor aadido increble.",name:"Javier Lpez",location:"Zaragoza"}].map((t,e)=>a.jsx(fe.div,{initial:{opacity:0,x:e%2===0?-20:20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.5,delay:e*.1},children:a.jsx(Rr,{className:"p-6 h-full bg-gradient-to-br from-background to-secondary/5 hover:shadow-lg transition-shadow",children:a.jsxs("div",{className:"flex gap-4",children:[a.jsx($b,{className:"h-6 w-6 text-primary/40 flex-shrink-0 mt-1"}),a.jsxs("div",{children:[a.jsxs("p",{className:"text-foreground/80 italic mb-4",children:['"',t.quote,'"']}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(zc,{className:"h-4 w-4 text-primary"}),a.jsx("span",{className:"font-medium text-foreground",children:t.name}),a.jsxs("span",{className:"text-muted-foreground",children:[" ",t.location]})]})]})]})})},e))})]})}),a.jsx("section",{className:"py-20 bg-muted/30",children:a.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs(fe.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-16",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-display font-bold text-foreground mb-4",children:"ltimas publicaciones"}),a.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Artculos, consejos y recursos para sacar el mximo partido a la experiencia Brickshare."})]}),a.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:M7.map((t,e)=>a.jsx(fe.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:e*.1},children:a.jsx(Rr,{className:"h-full hover:shadow-lg transition-all duration-300 cursor-pointer group",children:a.jsxs(Fr,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx($r,{variant:"secondary",className:"text-xs",children:t.category}),a.jsxs("span",{className:"text-xs text-muted-foreground",children:[t.readTime," lectura"]})]}),a.jsx("h3",{className:"text-xl font-semibold text-foreground mb-3 group-hover:text-primary transition-colors",children:t.title}),a.jsx("p",{className:"text-muted-foreground mb-4 line-clamp-3",children:t.excerpt}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[a.jsx($j,{className:"h-4 w-4"}),t.date]})]})})},e))})]})}),a.jsx("section",{className:"py-20",children:a.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs(fe.div,{initial:{opacity:0,scale:.95},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{duration:.6},className:"text-center max-w-2xl mx-auto",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-display font-bold text-foreground mb-6",children:"Quieres ser parte de nuestra historia?"}),a.jsx("p",{className:"text-lg text-muted-foreground mb-8",children:"nete a miles de familias que ya disfrutan de Brickshare y comparte tu experiencia con nosotros."}),a.jsx("a",{href:"/catalogo",className:"inline-flex items-center justify-center px-8 py-4 rounded-full bg-primary text-primary-foreground font-semibold hover:bg-primary/90 transition-colors",children:"Empieza tu aventura"})]})})}),a.jsx(wn,{})]});var L7="Label",S2=y.forwardRef((t,e)=>a.jsx(Ae.label,{...t,ref:e,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(t.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));S2.displayName=L7;var j2=S2;const F7=Uc("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),kt=y.forwardRef(({className:t,...e},r)=>a.jsx(j2,{ref:r,className:be(F7(),t),...e}));kt.displayName=j2.displayName;var mt;(function(t){t.assertEqual=s=>{};function e(s){}t.assertIs=e;function r(s){throw new Error}t.assertNever=r,t.arrayToEnum=s=>{const o={};for(const c of s)o[c]=c;return o},t.getValidEnumValues=s=>{const o=t.objectKeys(s).filter(u=>typeof s[s[u]]!="number"),c={};for(const u of o)c[u]=s[u];return t.objectValues(c)},t.objectValues=s=>t.objectKeys(s).map(function(o){return s[o]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const o=[];for(const c in s)Object.prototype.hasOwnProperty.call(s,c)&&o.push(c);return o},t.find=(s,o)=>{for(const c of s)if(o(c))return c},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function n(s,o=" | "){return s.map(c=>typeof c=="string"?`'${c}'`:c).join(o)}t.joinValues=n,t.jsonStringifyReplacer=(s,o)=>typeof o=="bigint"?o.toString():o})(mt||(mt={}));var ES;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(ES||(ES={}));const Ie=mt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),xi=t=>{switch(typeof t){case"undefined":return Ie.undefined;case"string":return Ie.string;case"number":return Number.isNaN(t)?Ie.nan:Ie.number;case"boolean":return Ie.boolean;case"function":return Ie.function;case"bigint":return Ie.bigint;case"symbol":return Ie.symbol;case"object":return Array.isArray(t)?Ie.array:t===null?Ie.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Ie.promise:typeof Map<"u"&&t instanceof Map?Ie.map:typeof Set<"u"&&t instanceof Set?Ie.set:typeof Date<"u"&&t instanceof Date?Ie.date:Ie.object;default:return Ie.unknown}},ye=mt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class zs extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(o){return o.message},n={_errors:[]},s=o=>{for(const c of o.issues)if(c.code==="invalid_union")c.unionErrors.map(s);else if(c.code==="invalid_return_type")s(c.returnTypeError);else if(c.code==="invalid_arguments")s(c.argumentsError);else if(c.path.length===0)n._errors.push(r(c));else{let u=n,f=0;for(;f<c.path.length;){const h=c.path[f];f===c.path.length-1?(u[h]=u[h]||{_errors:[]},u[h]._errors.push(r(c))):u[h]=u[h]||{_errors:[]},u=u[h],f++}}};return s(this),n}static assert(e){if(!(e instanceof zs))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,mt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const s of this.issues)if(s.path.length>0){const o=s.path[0];r[o]=r[o]||[],r[o].push(e(s))}else n.push(e(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}zs.create=t=>new zs(t);const cy=(t,e)=>{let r;switch(t.code){case ye.invalid_type:t.received===Ie.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case ye.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,mt.jsonStringifyReplacer)}`;break;case ye.unrecognized_keys:r=`Unrecognized key(s) in object: ${mt.joinValues(t.keys,", ")}`;break;case ye.invalid_union:r="Invalid input";break;case ye.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${mt.joinValues(t.options)}`;break;case ye.invalid_enum_value:r=`Invalid enum value. Expected ${mt.joinValues(t.options)}, received '${t.received}'`;break;case ye.invalid_arguments:r="Invalid function arguments";break;case ye.invalid_return_type:r="Invalid function return type";break;case ye.invalid_date:r="Invalid date";break;case ye.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:mt.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case ye.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case ye.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case ye.custom:r="Invalid input";break;case ye.invalid_intersection_types:r="Intersection results could not be merged";break;case ye.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case ye.not_finite:r="Number must be finite";break;default:r=e.defaultError,mt.assertNever(t)}return{message:r}};let $7=cy;function V7(){return $7}const U7=t=>{const{data:e,path:r,errorMaps:n,issueData:s}=t,o=[...r,...s.path||[]],c={...s,path:o};if(s.message!==void 0)return{...s,path:o,message:s.message};let u="";const f=n.filter(h=>!!h).slice().reverse();for(const h of f)u=h(c,{data:e,defaultError:u}).message;return{...s,path:o,message:u}};function Ne(t,e){const r=V7(),n=U7({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===cy?void 0:cy].filter(s=>!!s)});t.common.issues.push(n)}class vn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const s of r){if(s.status==="aborted")return Qe;s.status==="dirty"&&e.dirty(),n.push(s.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const s of r){const o=await s.key,c=await s.value;n.push({key:o,value:c})}return vn.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const s of r){const{key:o,value:c}=s;if(o.status==="aborted"||c.status==="aborted")return Qe;o.status==="dirty"&&e.dirty(),c.status==="dirty"&&e.dirty(),o.value!=="__proto__"&&(typeof c.value<"u"||s.alwaysSet)&&(n[o.value]=c.value)}return{status:e.value,value:n}}}const Qe=Object.freeze({status:"aborted"}),ic=t=>({status:"dirty",value:t}),On=t=>({status:"valid",value:t}),CS=t=>t.status==="aborted",NS=t=>t.status==="dirty",za=t=>t.status==="valid",gf=t=>typeof Promise<"u"&&t instanceof Promise;var Le;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(Le||(Le={}));class Li{constructor(e,r,n,s){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const TS=(t,e)=>{if(za(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new zs(t.common.issues);return this._error=r,this._error}}};function ct(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:s}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(c,u)=>{const{message:f}=t;return c.code==="invalid_enum_value"?{message:f??u.defaultError}:typeof u.data>"u"?{message:f??n??u.defaultError}:c.code!=="invalid_type"?{message:u.defaultError}:{message:f??r??u.defaultError}},description:s}}class ht{get description(){return this._def.description}_getType(e){return xi(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:xi(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new vn,ctx:{common:e.parent.common,data:e.data,parsedType:xi(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(gf(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){const n={common:{issues:[],async:r?.async??!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:xi(e)},s=this._parseSync({data:e,path:n.path,parent:n});return TS(n,s)}"~validate"(e){const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:xi(e)};if(!this["~standard"].async)try{const n=this._parseSync({data:e,path:[],parent:r});return za(n)?{value:n.value}:{issues:r.common.issues}}catch(n){n?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then(n=>za(n)?{value:n.value}:{issues:r.common.issues})}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:xi(e)},s=this._parse({data:e,path:n.path,parent:n}),o=await(gf(s)?s:Promise.resolve(s));return TS(n,o)}refine(e,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,o)=>{const c=e(s),u=()=>o.addIssue({code:ye.custom,...n(s)});return typeof Promise<"u"&&c instanceof Promise?c.then(f=>f?!0:(u(),!1)):c?!0:(u(),!1)})}refinement(e,r){return this._refinement((n,s)=>e(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(e){return new Ha({schema:this,typeName:Ze.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Pi.create(this,this._def)}nullable(){return Ka.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return bs.create(this)}promise(){return wf.create(this,this._def)}or(e){return vf.create([this,e],this._def)}and(e){return xf.create(this,e,this._def)}transform(e){return new Ha({...ct(this._def),schema:this,typeName:Ze.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new fy({...ct(this._def),innerType:this,defaultValue:r,typeName:Ze.ZodDefault})}brand(){return new uq({typeName:Ze.ZodBranded,type:this,...ct(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new hy({...ct(this._def),innerType:this,catchValue:r,typeName:Ze.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return jx.create(this,e)}readonly(){return py.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const B7=/^c[^\s-]{8,}$/i,z7=/^[0-9a-z]+$/,W7=/^[0-9A-HJKMNP-TV-Z]{26}$/i,q7=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,H7=/^[a-z0-9_-]{21}$/i,K7=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,G7=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Y7=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Q7="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let tg;const Z7=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,X7=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,J7=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,eq=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,tq=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,rq=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,k2="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",nq=new RegExp(`^${k2}$`);function E2(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const r=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${r}`}function sq(t){return new RegExp(`^${E2(t)}$`)}function iq(t){let e=`${k2}T${E2(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function oq(t,e){return!!((e==="v4"||!e)&&Z7.test(t)||(e==="v6"||!e)&&J7.test(t))}function aq(t,e){if(!K7.test(t))return!1;try{const[r]=t.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),s=JSON.parse(atob(n));return!(typeof s!="object"||s===null||"typ"in s&&s?.typ!=="JWT"||!s.alg||e&&s.alg!==e)}catch{return!1}}function lq(t,e){return!!((e==="v4"||!e)&&X7.test(t)||(e==="v6"||!e)&&eq.test(t))}class Fs extends ht{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Ie.string){const o=this._getOrReturnCtx(e);return Ne(o,{code:ye.invalid_type,expected:Ie.string,received:o.parsedType}),Qe}const n=new vn;let s;for(const o of this._def.checks)if(o.kind==="min")e.data.length<o.value&&(s=this._getOrReturnCtx(e,s),Ne(s,{code:ye.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),n.dirty());else if(o.kind==="max")e.data.length>o.value&&(s=this._getOrReturnCtx(e,s),Ne(s,{code:ye.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),n.dirty());else if(o.kind==="length"){const c=e.data.length>o.value,u=e.data.length<o.value;(c||u)&&(s=this._getOrReturnCtx(e,s),c?Ne(s,{code:ye.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):u&&Ne(s,{code:ye.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),n.dirty())}else if(o.kind==="email")Y7.test(e.data)||(s=this._getOrReturnCtx(e,s),Ne(s,{validation:"email",code:ye.invalid_string,message:o.message}),n.dirty());else if(o.kind==="emoji")tg||(tg=new RegExp(Q7,"u")),tg.test(e.data)||(s=this._getOrReturnCtx(e,s),Ne(s,{validation:"emoji",code:ye.invalid_string,message:o.message}),n.dirty());else if(o.kind==="uuid")q7.test(e.data)||(s=this._getOrReturnCtx(e,s),Ne(s,{validation:"uuid",code:ye.invalid_string,message:o.message}),n.dirty());else if(o.kind==="nanoid")H7.test(e.data)||(s=this._getOrReturnCtx(e,s),Ne(s,{validation:"nanoid",code:ye.invalid_string,message:o.message}),n.dirty());else if(o.kind==="cuid")B7.test(e.data)||(s=this._getOrReturnCtx(e,s),Ne(s,{validation:"cuid",code:ye.invalid_string,message:o.message}),n.dirty());else if(o.kind==="cuid2")z7.test(e.data)||(s=this._getOrReturnCtx(e,s),Ne(s,{validation:"cuid2",code:ye.invalid_string,message:o.message}),n.dirty());else if(o.kind==="ulid")W7.test(e.data)||(s=this._getOrReturnCtx(e,s),Ne(s,{validation:"ulid",code:ye.invalid_string,message:o.message}),n.dirty());else if(o.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),Ne(s,{validation:"url",code:ye.invalid_string,message:o.message}),n.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),Ne(s,{validation:"regex",code:ye.invalid_string,message:o.message}),n.dirty())):o.kind==="trim"?e.data=e.data.trim():o.kind==="includes"?e.data.includes(o.value,o.position)||(s=this._getOrReturnCtx(e,s),Ne(s,{code:ye.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),n.dirty()):o.kind==="toLowerCase"?e.data=e.data.toLowerCase():o.kind==="toUpperCase"?e.data=e.data.toUpperCase():o.kind==="startsWith"?e.data.startsWith(o.value)||(s=this._getOrReturnCtx(e,s),Ne(s,{code:ye.invalid_string,validation:{startsWith:o.value},message:o.message}),n.dirty()):o.kind==="endsWith"?e.data.endsWith(o.value)||(s=this._getOrReturnCtx(e,s),Ne(s,{code:ye.invalid_string,validation:{endsWith:o.value},message:o.message}),n.dirty()):o.kind==="datetime"?iq(o).test(e.data)||(s=this._getOrReturnCtx(e,s),Ne(s,{code:ye.invalid_string,validation:"datetime",message:o.message}),n.dirty()):o.kind==="date"?nq.test(e.data)||(s=this._getOrReturnCtx(e,s),Ne(s,{code:ye.invalid_string,validation:"date",message:o.message}),n.dirty()):o.kind==="time"?sq(o).test(e.data)||(s=this._getOrReturnCtx(e,s),Ne(s,{code:ye.invalid_string,validation:"time",message:o.message}),n.dirty()):o.kind==="duration"?G7.test(e.data)||(s=this._getOrReturnCtx(e,s),Ne(s,{validation:"duration",code:ye.invalid_string,message:o.message}),n.dirty()):o.kind==="ip"?oq(e.data,o.version)||(s=this._getOrReturnCtx(e,s),Ne(s,{validation:"ip",code:ye.invalid_string,message:o.message}),n.dirty()):o.kind==="jwt"?aq(e.data,o.alg)||(s=this._getOrReturnCtx(e,s),Ne(s,{validation:"jwt",code:ye.invalid_string,message:o.message}),n.dirty()):o.kind==="cidr"?lq(e.data,o.version)||(s=this._getOrReturnCtx(e,s),Ne(s,{validation:"cidr",code:ye.invalid_string,message:o.message}),n.dirty()):o.kind==="base64"?tq.test(e.data)||(s=this._getOrReturnCtx(e,s),Ne(s,{validation:"base64",code:ye.invalid_string,message:o.message}),n.dirty()):o.kind==="base64url"?rq.test(e.data)||(s=this._getOrReturnCtx(e,s),Ne(s,{validation:"base64url",code:ye.invalid_string,message:o.message}),n.dirty()):mt.assertNever(o);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(s=>e.test(s),{validation:r,code:ye.invalid_string,...Le.errToObj(n)})}_addCheck(e){return new Fs({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Le.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Le.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Le.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Le.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Le.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Le.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Le.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Le.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Le.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Le.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Le.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Le.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Le.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...Le.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...Le.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...Le.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...Le.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r?.position,...Le.errToObj(r?.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...Le.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...Le.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...Le.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...Le.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...Le.errToObj(r)})}nonempty(e){return this.min(1,Le.errToObj(e))}trim(){return new Fs({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Fs({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Fs({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Fs.create=t=>new Fs({checks:[],typeName:Ze.ZodString,coerce:t?.coerce??!1,...ct(t)});function cq(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,s=r>n?r:n,o=Number.parseInt(t.toFixed(s).replace(".","")),c=Number.parseInt(e.toFixed(s).replace(".",""));return o%c/10**s}class Eo extends ht{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Ie.number){const o=this._getOrReturnCtx(e);return Ne(o,{code:ye.invalid_type,expected:Ie.number,received:o.parsedType}),Qe}let n;const s=new vn;for(const o of this._def.checks)o.kind==="int"?mt.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),Ne(n,{code:ye.invalid_type,expected:"integer",received:"float",message:o.message}),s.dirty()):o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(n=this._getOrReturnCtx(e,n),Ne(n,{code:ye.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),s.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(n=this._getOrReturnCtx(e,n),Ne(n,{code:ye.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),s.dirty()):o.kind==="multipleOf"?cq(e.data,o.value)!==0&&(n=this._getOrReturnCtx(e,n),Ne(n,{code:ye.not_multiple_of,multipleOf:o.value,message:o.message}),s.dirty()):o.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),Ne(n,{code:ye.not_finite,message:o.message}),s.dirty()):mt.assertNever(o);return{status:s.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,Le.toString(r))}gt(e,r){return this.setLimit("min",e,!1,Le.toString(r))}lte(e,r){return this.setLimit("max",e,!0,Le.toString(r))}lt(e,r){return this.setLimit("max",e,!1,Le.toString(r))}setLimit(e,r,n,s){return new Eo({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:Le.toString(s)}]})}_addCheck(e){return new Eo({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Le.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Le.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Le.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Le.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Le.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:Le.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:Le.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Le.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Le.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&mt.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}Eo.create=t=>new Eo({checks:[],typeName:Ze.ZodNumber,coerce:t?.coerce||!1,...ct(t)});class Co extends ht{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Ie.bigint)return this._getInvalidInput(e);let n;const s=new vn;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(n=this._getOrReturnCtx(e,n),Ne(n,{code:ye.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),s.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(n=this._getOrReturnCtx(e,n),Ne(n,{code:ye.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),s.dirty()):o.kind==="multipleOf"?e.data%o.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),Ne(n,{code:ye.not_multiple_of,multipleOf:o.value,message:o.message}),s.dirty()):mt.assertNever(o);return{status:s.value,value:e.data}}_getInvalidInput(e){const r=this._getOrReturnCtx(e);return Ne(r,{code:ye.invalid_type,expected:Ie.bigint,received:r.parsedType}),Qe}gte(e,r){return this.setLimit("min",e,!0,Le.toString(r))}gt(e,r){return this.setLimit("min",e,!1,Le.toString(r))}lte(e,r){return this.setLimit("max",e,!0,Le.toString(r))}lt(e,r){return this.setLimit("max",e,!1,Le.toString(r))}setLimit(e,r,n,s){return new Co({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:Le.toString(s)}]})}_addCheck(e){return new Co({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Le.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Le.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Le.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Le.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:Le.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Co.create=t=>new Co({checks:[],typeName:Ze.ZodBigInt,coerce:t?.coerce??!1,...ct(t)});class yf extends ht{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Ie.boolean){const n=this._getOrReturnCtx(e);return Ne(n,{code:ye.invalid_type,expected:Ie.boolean,received:n.parsedType}),Qe}return On(e.data)}}yf.create=t=>new yf({typeName:Ze.ZodBoolean,coerce:t?.coerce||!1,...ct(t)});class Wa extends ht{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Ie.date){const o=this._getOrReturnCtx(e);return Ne(o,{code:ye.invalid_type,expected:Ie.date,received:o.parsedType}),Qe}if(Number.isNaN(e.data.getTime())){const o=this._getOrReturnCtx(e);return Ne(o,{code:ye.invalid_date}),Qe}const n=new vn;let s;for(const o of this._def.checks)o.kind==="min"?e.data.getTime()<o.value&&(s=this._getOrReturnCtx(e,s),Ne(s,{code:ye.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),n.dirty()):o.kind==="max"?e.data.getTime()>o.value&&(s=this._getOrReturnCtx(e,s),Ne(s,{code:ye.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),n.dirty()):mt.assertNever(o);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Wa({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:Le.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:Le.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}Wa.create=t=>new Wa({checks:[],coerce:t?.coerce||!1,typeName:Ze.ZodDate,...ct(t)});class RS extends ht{_parse(e){if(this._getType(e)!==Ie.symbol){const n=this._getOrReturnCtx(e);return Ne(n,{code:ye.invalid_type,expected:Ie.symbol,received:n.parsedType}),Qe}return On(e.data)}}RS.create=t=>new RS({typeName:Ze.ZodSymbol,...ct(t)});class PS extends ht{_parse(e){if(this._getType(e)!==Ie.undefined){const n=this._getOrReturnCtx(e);return Ne(n,{code:ye.invalid_type,expected:Ie.undefined,received:n.parsedType}),Qe}return On(e.data)}}PS.create=t=>new PS({typeName:Ze.ZodUndefined,...ct(t)});class AS extends ht{_parse(e){if(this._getType(e)!==Ie.null){const n=this._getOrReturnCtx(e);return Ne(n,{code:ye.invalid_type,expected:Ie.null,received:n.parsedType}),Qe}return On(e.data)}}AS.create=t=>new AS({typeName:Ze.ZodNull,...ct(t)});class OS extends ht{constructor(){super(...arguments),this._any=!0}_parse(e){return On(e.data)}}OS.create=t=>new OS({typeName:Ze.ZodAny,...ct(t)});class IS extends ht{constructor(){super(...arguments),this._unknown=!0}_parse(e){return On(e.data)}}IS.create=t=>new IS({typeName:Ze.ZodUnknown,...ct(t)});class Fi extends ht{_parse(e){const r=this._getOrReturnCtx(e);return Ne(r,{code:ye.invalid_type,expected:Ie.never,received:r.parsedType}),Qe}}Fi.create=t=>new Fi({typeName:Ze.ZodNever,...ct(t)});class MS extends ht{_parse(e){if(this._getType(e)!==Ie.undefined){const n=this._getOrReturnCtx(e);return Ne(n,{code:ye.invalid_type,expected:Ie.void,received:n.parsedType}),Qe}return On(e.data)}}MS.create=t=>new MS({typeName:Ze.ZodVoid,...ct(t)});class bs extends ht{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),s=this._def;if(r.parsedType!==Ie.array)return Ne(r,{code:ye.invalid_type,expected:Ie.array,received:r.parsedType}),Qe;if(s.exactLength!==null){const c=r.data.length>s.exactLength.value,u=r.data.length<s.exactLength.value;(c||u)&&(Ne(r,{code:c?ye.too_big:ye.too_small,minimum:u?s.exactLength.value:void 0,maximum:c?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(Ne(r,{code:ye.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(Ne(r,{code:ye.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((c,u)=>s.type._parseAsync(new Li(r,c,r.path,u)))).then(c=>vn.mergeArray(n,c));const o=[...r.data].map((c,u)=>s.type._parseSync(new Li(r,c,r.path,u)));return vn.mergeArray(n,o)}get element(){return this._def.type}min(e,r){return new bs({...this._def,minLength:{value:e,message:Le.toString(r)}})}max(e,r){return new bs({...this._def,maxLength:{value:e,message:Le.toString(r)}})}length(e,r){return new bs({...this._def,exactLength:{value:e,message:Le.toString(r)}})}nonempty(e){return this.min(1,e)}}bs.create=(t,e)=>new bs({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Ze.ZodArray,...ct(e)});function ka(t){if(t instanceof Gt){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=Pi.create(ka(n))}return new Gt({...t._def,shape:()=>e})}else return t instanceof bs?new bs({...t._def,type:ka(t.element)}):t instanceof Pi?Pi.create(ka(t.unwrap())):t instanceof Ka?Ka.create(ka(t.unwrap())):t instanceof No?No.create(t.items.map(e=>ka(e))):t}class Gt extends ht{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=mt.objectKeys(e);return this._cached={shape:e,keys:r},this._cached}_parse(e){if(this._getType(e)!==Ie.object){const h=this._getOrReturnCtx(e);return Ne(h,{code:ye.invalid_type,expected:Ie.object,received:h.parsedType}),Qe}const{status:n,ctx:s}=this._processInputParams(e),{shape:o,keys:c}=this._getCached(),u=[];if(!(this._def.catchall instanceof Fi&&this._def.unknownKeys==="strip"))for(const h in s.data)c.includes(h)||u.push(h);const f=[];for(const h of c){const p=o[h],g=s.data[h];f.push({key:{status:"valid",value:h},value:p._parse(new Li(s,g,s.path,h)),alwaysSet:h in s.data})}if(this._def.catchall instanceof Fi){const h=this._def.unknownKeys;if(h==="passthrough")for(const p of u)f.push({key:{status:"valid",value:p},value:{status:"valid",value:s.data[p]}});else if(h==="strict")u.length>0&&(Ne(s,{code:ye.unrecognized_keys,keys:u}),n.dirty());else if(h!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const h=this._def.catchall;for(const p of u){const g=s.data[p];f.push({key:{status:"valid",value:p},value:h._parse(new Li(s,g,s.path,p)),alwaysSet:p in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const h=[];for(const p of f){const g=await p.key,v=await p.value;h.push({key:g,value:v,alwaysSet:p.alwaysSet})}return h}).then(h=>vn.mergeObjectSync(n,h)):vn.mergeObjectSync(n,f)}get shape(){return this._def.shape()}strict(e){return Le.errToObj,new Gt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{const s=this._def.errorMap?.(r,n).message??n.defaultError;return r.code==="unrecognized_keys"?{message:Le.errToObj(e).message??s}:{message:s}}}:{}})}strip(){return new Gt({...this._def,unknownKeys:"strip"})}passthrough(){return new Gt({...this._def,unknownKeys:"passthrough"})}extend(e){return new Gt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Gt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Ze.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new Gt({...this._def,catchall:e})}pick(e){const r={};for(const n of mt.objectKeys(e))e[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new Gt({...this._def,shape:()=>r})}omit(e){const r={};for(const n of mt.objectKeys(this.shape))e[n]||(r[n]=this.shape[n]);return new Gt({...this._def,shape:()=>r})}deepPartial(){return ka(this)}partial(e){const r={};for(const n of mt.objectKeys(this.shape)){const s=this.shape[n];e&&!e[n]?r[n]=s:r[n]=s.optional()}return new Gt({...this._def,shape:()=>r})}required(e){const r={};for(const n of mt.objectKeys(this.shape))if(e&&!e[n])r[n]=this.shape[n];else{let o=this.shape[n];for(;o instanceof Pi;)o=o._def.innerType;r[n]=o}return new Gt({...this._def,shape:()=>r})}keyof(){return C2(mt.objectKeys(this.shape))}}Gt.create=(t,e)=>new Gt({shape:()=>t,unknownKeys:"strip",catchall:Fi.create(),typeName:Ze.ZodObject,...ct(e)});Gt.strictCreate=(t,e)=>new Gt({shape:()=>t,unknownKeys:"strict",catchall:Fi.create(),typeName:Ze.ZodObject,...ct(e)});Gt.lazycreate=(t,e)=>new Gt({shape:t,unknownKeys:"strip",catchall:Fi.create(),typeName:Ze.ZodObject,...ct(e)});class vf extends ht{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function s(o){for(const u of o)if(u.result.status==="valid")return u.result;for(const u of o)if(u.result.status==="dirty")return r.common.issues.push(...u.ctx.common.issues),u.result;const c=o.map(u=>new zs(u.ctx.common.issues));return Ne(r,{code:ye.invalid_union,unionErrors:c}),Qe}if(r.common.async)return Promise.all(n.map(async o=>{const c={...r,common:{...r.common,issues:[]},parent:null};return{result:await o._parseAsync({data:r.data,path:r.path,parent:c}),ctx:c}})).then(s);{let o;const c=[];for(const f of n){const h={...r,common:{...r.common,issues:[]},parent:null},p=f._parseSync({data:r.data,path:r.path,parent:h});if(p.status==="valid")return p;p.status==="dirty"&&!o&&(o={result:p,ctx:h}),h.common.issues.length&&c.push(h.common.issues)}if(o)return r.common.issues.push(...o.ctx.common.issues),o.result;const u=c.map(f=>new zs(f));return Ne(r,{code:ye.invalid_union,unionErrors:u}),Qe}}get options(){return this._def.options}}vf.create=(t,e)=>new vf({options:t,typeName:Ze.ZodUnion,...ct(e)});function uy(t,e){const r=xi(t),n=xi(e);if(t===e)return{valid:!0,data:t};if(r===Ie.object&&n===Ie.object){const s=mt.objectKeys(e),o=mt.objectKeys(t).filter(u=>s.indexOf(u)!==-1),c={...t,...e};for(const u of o){const f=uy(t[u],e[u]);if(!f.valid)return{valid:!1};c[u]=f.data}return{valid:!0,data:c}}else if(r===Ie.array&&n===Ie.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let o=0;o<t.length;o++){const c=t[o],u=e[o],f=uy(c,u);if(!f.valid)return{valid:!1};s.push(f.data)}return{valid:!0,data:s}}else return r===Ie.date&&n===Ie.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class xf extends ht{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),s=(o,c)=>{if(CS(o)||CS(c))return Qe;const u=uy(o.value,c.value);return u.valid?((NS(o)||NS(c))&&r.dirty(),{status:r.value,value:u.data}):(Ne(n,{code:ye.invalid_intersection_types}),Qe)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([o,c])=>s(o,c)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}xf.create=(t,e,r)=>new xf({left:t,right:e,typeName:Ze.ZodIntersection,...ct(r)});class No extends ht{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Ie.array)return Ne(n,{code:ye.invalid_type,expected:Ie.array,received:n.parsedType}),Qe;if(n.data.length<this._def.items.length)return Ne(n,{code:ye.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Qe;!this._def.rest&&n.data.length>this._def.items.length&&(Ne(n,{code:ye.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const o=[...n.data].map((c,u)=>{const f=this._def.items[u]||this._def.rest;return f?f._parse(new Li(n,c,n.path,u)):null}).filter(c=>!!c);return n.common.async?Promise.all(o).then(c=>vn.mergeArray(r,c)):vn.mergeArray(r,o)}get items(){return this._def.items}rest(e){return new No({...this._def,rest:e})}}No.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new No({items:t,typeName:Ze.ZodTuple,rest:null,...ct(e)})};class DS extends ht{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Ie.map)return Ne(n,{code:ye.invalid_type,expected:Ie.map,received:n.parsedType}),Qe;const s=this._def.keyType,o=this._def.valueType,c=[...n.data.entries()].map(([u,f],h)=>({key:s._parse(new Li(n,u,n.path,[h,"key"])),value:o._parse(new Li(n,f,n.path,[h,"value"]))}));if(n.common.async){const u=new Map;return Promise.resolve().then(async()=>{for(const f of c){const h=await f.key,p=await f.value;if(h.status==="aborted"||p.status==="aborted")return Qe;(h.status==="dirty"||p.status==="dirty")&&r.dirty(),u.set(h.value,p.value)}return{status:r.value,value:u}})}else{const u=new Map;for(const f of c){const h=f.key,p=f.value;if(h.status==="aborted"||p.status==="aborted")return Qe;(h.status==="dirty"||p.status==="dirty")&&r.dirty(),u.set(h.value,p.value)}return{status:r.value,value:u}}}}DS.create=(t,e,r)=>new DS({valueType:e,keyType:t,typeName:Ze.ZodMap,...ct(r)});class Lc extends ht{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Ie.set)return Ne(n,{code:ye.invalid_type,expected:Ie.set,received:n.parsedType}),Qe;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(Ne(n,{code:ye.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(Ne(n,{code:ye.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const o=this._def.valueType;function c(f){const h=new Set;for(const p of f){if(p.status==="aborted")return Qe;p.status==="dirty"&&r.dirty(),h.add(p.value)}return{status:r.value,value:h}}const u=[...n.data.values()].map((f,h)=>o._parse(new Li(n,f,n.path,h)));return n.common.async?Promise.all(u).then(f=>c(f)):c(u)}min(e,r){return new Lc({...this._def,minSize:{value:e,message:Le.toString(r)}})}max(e,r){return new Lc({...this._def,maxSize:{value:e,message:Le.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}Lc.create=(t,e)=>new Lc({valueType:t,minSize:null,maxSize:null,typeName:Ze.ZodSet,...ct(e)});class LS extends ht{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}LS.create=(t,e)=>new LS({getter:t,typeName:Ze.ZodLazy,...ct(e)});class dy extends ht{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return Ne(r,{received:r.data,code:ye.invalid_literal,expected:this._def.value}),Qe}return{status:"valid",value:e.data}}get value(){return this._def.value}}dy.create=(t,e)=>new dy({value:t,typeName:Ze.ZodLiteral,...ct(e)});function C2(t,e){return new qa({values:t,typeName:Ze.ZodEnum,...ct(e)})}class qa extends ht{_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return Ne(r,{expected:mt.joinValues(n),received:r.parsedType,code:ye.invalid_type}),Qe}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const r=this._getOrReturnCtx(e),n=this._def.values;return Ne(r,{received:r.data,code:ye.invalid_enum_value,options:n}),Qe}return On(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return qa.create(e,{...this._def,...r})}exclude(e,r=this._def){return qa.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}}qa.create=C2;class FS extends ht{_parse(e){const r=mt.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==Ie.string&&n.parsedType!==Ie.number){const s=mt.objectValues(r);return Ne(n,{expected:mt.joinValues(s),received:n.parsedType,code:ye.invalid_type}),Qe}if(this._cache||(this._cache=new Set(mt.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const s=mt.objectValues(r);return Ne(n,{received:n.data,code:ye.invalid_enum_value,options:s}),Qe}return On(e.data)}get enum(){return this._def.values}}FS.create=(t,e)=>new FS({values:t,typeName:Ze.ZodNativeEnum,...ct(e)});class wf extends ht{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Ie.promise&&r.common.async===!1)return Ne(r,{code:ye.invalid_type,expected:Ie.promise,received:r.parsedType}),Qe;const n=r.parsedType===Ie.promise?r.data:Promise.resolve(r.data);return On(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}wf.create=(t,e)=>new wf({type:t,typeName:Ze.ZodPromise,...ct(e)});class Ha extends ht{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ze.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),s=this._def.effect||null,o={addIssue:c=>{Ne(n,c),c.fatal?r.abort():r.dirty()},get path(){return n.path}};if(o.addIssue=o.addIssue.bind(o),s.type==="preprocess"){const c=s.transform(n.data,o);if(n.common.async)return Promise.resolve(c).then(async u=>{if(r.value==="aborted")return Qe;const f=await this._def.schema._parseAsync({data:u,path:n.path,parent:n});return f.status==="aborted"?Qe:f.status==="dirty"||r.value==="dirty"?ic(f.value):f});{if(r.value==="aborted")return Qe;const u=this._def.schema._parseSync({data:c,path:n.path,parent:n});return u.status==="aborted"?Qe:u.status==="dirty"||r.value==="dirty"?ic(u.value):u}}if(s.type==="refinement"){const c=u=>{const f=s.refinement(u,o);if(n.common.async)return Promise.resolve(f);if(f instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return u};if(n.common.async===!1){const u=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return u.status==="aborted"?Qe:(u.status==="dirty"&&r.dirty(),c(u.value),{status:r.value,value:u.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(u=>u.status==="aborted"?Qe:(u.status==="dirty"&&r.dirty(),c(u.value).then(()=>({status:r.value,value:u.value}))))}if(s.type==="transform")if(n.common.async===!1){const c=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!za(c))return Qe;const u=s.transform(c.value,o);if(u instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:u}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(c=>za(c)?Promise.resolve(s.transform(c.value,o)).then(u=>({status:r.value,value:u})):Qe);mt.assertNever(s)}}Ha.create=(t,e,r)=>new Ha({schema:t,typeName:Ze.ZodEffects,effect:e,...ct(r)});Ha.createWithPreprocess=(t,e,r)=>new Ha({schema:e,effect:{type:"preprocess",transform:t},typeName:Ze.ZodEffects,...ct(r)});class Pi extends ht{_parse(e){return this._getType(e)===Ie.undefined?On(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Pi.create=(t,e)=>new Pi({innerType:t,typeName:Ze.ZodOptional,...ct(e)});class Ka extends ht{_parse(e){return this._getType(e)===Ie.null?On(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ka.create=(t,e)=>new Ka({innerType:t,typeName:Ze.ZodNullable,...ct(e)});class fy extends ht{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===Ie.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}fy.create=(t,e)=>new fy({innerType:t,typeName:Ze.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...ct(e)});class hy extends ht{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return gf(s)?s.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new zs(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new zs(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}hy.create=(t,e)=>new hy({innerType:t,typeName:Ze.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...ct(e)});class $S extends ht{_parse(e){if(this._getType(e)!==Ie.nan){const n=this._getOrReturnCtx(e);return Ne(n,{code:ye.invalid_type,expected:Ie.nan,received:n.parsedType}),Qe}return{status:"valid",value:e.data}}}$S.create=t=>new $S({typeName:Ze.ZodNaN,...ct(t)});class uq extends ht{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class jx extends ht{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?Qe:o.status==="dirty"?(r.dirty(),ic(o.value)):this._def.out._parseAsync({data:o.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?Qe:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(e,r){return new jx({in:e,out:r,typeName:Ze.ZodPipeline})}}class py extends ht{_parse(e){const r=this._def.innerType._parse(e),n=s=>(za(s)&&(s.value=Object.freeze(s.value)),s);return gf(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}}py.create=(t,e)=>new py({innerType:t,typeName:Ze.ZodReadonly,...ct(e)});var Ze;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Ze||(Ze={}));const rr=Fs.create,dq=Eo.create;Co.create;yf.create;Wa.create;Fi.create;bs.create;const kx=Gt.create;vf.create;xf.create;No.create;const gc=dy.create,VS=qa.create;wf.create;Pi.create;Ka.create;const Id={string:(t=>Fs.create({...t,coerce:!0})),number:(t=>Eo.create({...t,coerce:!0})),boolean:(t=>yf.create({...t,coerce:!0})),bigint:(t=>Co.create({...t,coerce:!0})),date:(t=>Wa.create({...t,coerce:!0}))},fq=rr().email("Email no vlido"),hq=rr().min(8,"La contrasea debe tener al menos 8 caracteres").regex(/[A-Z]/,"Debe contener al menos una mayscula").regex(/[0-9]/,"Debe contener al menos un nmero"),pq=()=>{const[t]=t3(),e=t.get("type"),[r,n]=y.useState(e==="recovery"?"update-password":"login"),[s,o]=y.useState(""),[c,u]=y.useState(""),[f,h]=y.useState(""),[p,g]=y.useState(!1),[v,w]=y.useState(!1),[S,b]=y.useState(!1),[j,N]=y.useState({}),{signIn:E,signUp:k,signInWithGoogle:P,resetPassword:A,updateUserPassword:L,user:O,isAdmin:C,isOperador:R,isLoading:M}=sr(),H=zr(),{toast:V}=js(),[J,z]=y.useState(!1),oe=()=>{H(C?"/admin":R?"/operaciones":"/")};y.useEffect(()=>{O&&!M&&oe()},[O,C,R,M,H]);const se=()=>{const F={};if(r!=="update-password"){const K=fq.safeParse(s);K.success||(F.email=K.error.errors[0].message)}if(r!=="forgot-password"){const K=hq.safeParse(c);K.success||(F.password=K.error.errors[0].message)}return r==="signup"&&!p&&(F.policy="Debes aceptar la poltica de privacidad"),N(F),Object.keys(F).length===0},X=async F=>{if(F.preventDefault(),!!se()){if(b(!0),r==="login"){const{error:K}=await E(s,c);V(K?{title:"Error al iniciar sesin",description:K.message==="Invalid login credentials"?"Credenciales incorrectas":K.message,variant:"destructive"}:{title:"Bienvenido!",description:"Has iniciado sesin correctamente"})}else if(r==="signup"){const{error:K}=await k(s,c,f);if(K){let I=K.message;K.message.includes("already registered")&&(I="Este email ya est registrado"),V({title:"Error al registrarse",description:I,variant:"destructive"})}else V({title:"Cuenta creada!",description:"Revisa tu email para confirmar la cuenta"}),n("login")}else if(r==="forgot-password"){const{error:K}=await A(s);K?V({title:"Error",description:K.message,variant:"destructive"}):(V({title:"Email enviado",description:"Revisa tu bandeja de entrada para recuperar tu contrasea"}),n("login"))}else if(r==="update-password"){const{error:K}=await L(c);K?V({title:"Error",description:K.message,variant:"destructive"}):(V({title:"Contrasea actualizada",description:"Tu contrasea ha sido cambiada correctamente"}),oe())}b(!1)}},U=async()=>{z(!0);const{error:F}=await P();F&&(V({title:"Error con Google",description:F.message,variant:"destructive"}),z(!1))};return a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center px-4",children:a.jsxs(fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md",children:[a.jsx("div",{className:"text-center mb-8",children:a.jsxs("a",{href:"/",className:"inline-flex items-center gap-2 group",children:[a.jsx("div",{className:"p-2 rounded-xl gradient-hero group-hover:scale-105 transition-transform",children:a.jsx(Iy,{className:"h-6 w-6 text-primary-foreground"})}),a.jsx("span",{className:"text-2xl font-display font-bold text-foreground",children:"Brickshare"})]})}),a.jsxs("div",{className:"bg-card rounded-2xl shadow-card p-8",children:[a.jsxs("h1",{className:"text-2xl font-display font-bold text-foreground text-center mb-2",children:[r==="login"&&"Iniciar sesin",r==="signup"&&"Crear cuenta",r==="forgot-password"&&"Recuperar contrasea",r==="update-password"&&"Nueva contrasea"]}),a.jsxs("p",{className:"text-muted-foreground text-center mb-6",children:[r==="login"&&"Accede a tu cuenta para gestionar tu wishlist",r==="signup"&&"nete a Brickshare y comienza a jugar",r==="forgot-password"&&"Te enviaremos un email para restablecer tu acceso",r==="update-password"&&"Introduce tu nueva contrasea segura"]}),a.jsxs("form",{onSubmit:X,className:"space-y-4",children:[r==="signup"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(kt,{htmlFor:"fullName",children:"Nombre completo"}),a.jsxs("div",{className:"relative",children:[a.jsx(ds,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),a.jsx(ut,{id:"fullName",type:"text",placeholder:"Tu nombre",value:f,onChange:F=>h(F.target.value),className:"pl-10",required:!0})]})]}),r!=="update-password"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(kt,{htmlFor:"email",children:"Email"}),a.jsxs("div",{className:"relative",children:[a.jsx($f,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),a.jsx(ut,{id:"email",type:"email",placeholder:"tu@email.com",value:s,"data-testid":"email-input",onChange:F=>{o(F.target.value),N(K=>({...K,email:void 0}))},className:`pl-10 ${j.email?"border-destructive":""}`,required:!0})]}),j.email&&a.jsx("p",{className:"text-xs text-destructive",children:j.email})]}),r!=="forgot-password"&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx(kt,{htmlFor:"password",children:r==="update-password"?"Nueva contrasea":"Contrasea"}),r==="login"&&a.jsx("button",{type:"button",onClick:()=>n("forgot-password"),className:"text-xs text-primary hover:underline",children:"Olvidaste tu contrasea?"})]}),a.jsxs("div",{className:"relative",children:[a.jsx(oM,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),a.jsx(ut,{id:"password",type:v?"text":"password",placeholder:"",value:c,"data-testid":"password-input",onChange:F=>{u(F.target.value),N(K=>({...K,password:void 0}))},className:`pl-10 pr-10 ${j.password?"border-destructive":""}`,required:!0}),a.jsx("button",{type:"button",onClick:()=>w(!v),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:v?a.jsx(tM,{className:"h-4 w-4"}):a.jsx(Fy,{className:"h-4 w-4"})})]}),j.password&&a.jsx("p",{className:"text-xs text-destructive",children:j.password})]}),r==="signup"&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-start space-x-2",children:[a.jsx(mc,{id:"policy",checked:p,onCheckedChange:F=>{g(F===!0),N(K=>({...K,policy:void 0}))}}),a.jsxs("label",{htmlFor:"policy",className:"text-xs leading-none text-muted-foreground peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:["He ledo y acepto la"," ",a.jsx(ot,{to:"/privacidad",className:"text-primary hover:underline",children:"Poltica de Privacidad"}),"."]})]}),j.policy&&a.jsx("p",{className:"text-xs text-destructive",children:j.policy})]}),a.jsxs(Me,{type:"submit",disabled:S,className:"w-full gradient-hero","data-testid":"auth-submit-button",children:[S&&a.jsx(Yt,{className:"mr-2 h-4 w-4 animate-spin"}),r==="login"&&"Iniciar sesin",r==="signup"&&"Crear cuenta",r==="forgot-password"&&"Enviar instrucciones",r==="update-password"&&"Actualizar contrasea"]})]}),(r==="login"||r==="signup")&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"relative my-6",children:[a.jsx("div",{className:"absolute inset-0 flex items-center",children:a.jsx("div",{className:"w-full border-t border-border"})}),a.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:a.jsx("span",{className:"bg-card px-2 text-muted-foreground",children:"O contina con"})})]}),a.jsxs(Me,{type:"button",variant:"outline",onClick:U,disabled:J||S,className:"w-full",children:[J?a.jsx(Yt,{className:"mr-2 h-4 w-4 animate-spin"}):a.jsxs("svg",{className:"mr-2 h-4 w-4",viewBox:"0 0 24 24",children:[a.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),a.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),a.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),a.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Continuar con Google"]})]}),a.jsx("div",{className:"mt-6 text-center",children:r==="forgot-password"?a.jsxs("button",{type:"button",onClick:()=>n("login"),className:"text-sm text-muted-foreground hover:text-primary transition-colors inline-flex items-center gap-2",children:[a.jsx(KI,{className:"h-4 w-4"}),"Volver al inicio de sesin"]}):r==="update-password"?null:a.jsx("button",{type:"button",onClick:()=>{n(r==="login"?"signup":"login"),N({})},className:"text-sm text-muted-foreground hover:text-primary transition-colors",children:r==="login"?"No tienes cuenta? Regstrate":"Ya tienes cuenta? Inicia sesin"})})]})]})})};var N2="AlertDialog",[mq]=Sr(N2,[mT]),qs=mT(),T2=t=>{const{__scopeAlertDialog:e,...r}=t,n=qs(e);return a.jsx(cx,{...n,...r,modal:!0})};T2.displayName=N2;var gq="AlertDialogTrigger",yq=y.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=qs(r);return a.jsx(ux,{...s,...n,ref:e})});yq.displayName=gq;var vq="AlertDialogPortal",R2=t=>{const{__scopeAlertDialog:e,...r}=t,n=qs(e);return a.jsx(dx,{...n,...r})};R2.displayName=vq;var xq="AlertDialogOverlay",P2=y.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=qs(r);return a.jsx(tu,{...s,...n,ref:e})});P2.displayName=xq;var La="AlertDialogContent",[wq,bq]=mq(La),_q=dj("AlertDialogContent"),A2=y.forwardRef((t,e)=>{const{__scopeAlertDialog:r,children:n,...s}=t,o=qs(r),c=y.useRef(null),u=Ge(e,c),f=y.useRef(null);return a.jsx(G9,{contentName:La,titleName:O2,docsSlug:"alert-dialog",children:a.jsx(wq,{scope:r,cancelRef:f,children:a.jsxs(ru,{role:"alertdialog",...o,...s,ref:u,onOpenAutoFocus:ge(s.onOpenAutoFocus,h=>{h.preventDefault(),f.current?.focus({preventScroll:!0})}),onPointerDownOutside:h=>h.preventDefault(),onInteractOutside:h=>h.preventDefault(),children:[a.jsx(_q,{children:n}),a.jsx(jq,{contentRef:c})]})})})});A2.displayName=La;var O2="AlertDialogTitle",I2=y.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=qs(r);return a.jsx(nu,{...s,...n,ref:e})});I2.displayName=O2;var M2="AlertDialogDescription",D2=y.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=qs(r);return a.jsx(su,{...s,...n,ref:e})});D2.displayName=M2;var Sq="AlertDialogAction",L2=y.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=qs(r);return a.jsx(ah,{...s,...n,ref:e})});L2.displayName=Sq;var F2="AlertDialogCancel",$2=y.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,{cancelRef:s}=bq(F2,r),o=qs(r),c=Ge(e,s);return a.jsx(ah,{...o,...n,ref:c})});$2.displayName=F2;var jq=({contentRef:t})=>{const e=`\`${La}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${La}\` by passing a \`${M2}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${La}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return y.useEffect(()=>{document.getElementById(t.current?.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},kq=T2,Eq=R2,V2=P2,U2=A2,B2=L2,z2=$2,W2=I2,q2=D2;const my=kq,Cq=Eq,H2=y.forwardRef(({className:t,...e},r)=>a.jsx(V2,{className:be("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));H2.displayName=V2.displayName;const bf=y.forwardRef(({className:t,...e},r)=>a.jsxs(Cq,{children:[a.jsx(H2,{}),a.jsx(U2,{ref:r,className:be("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));bf.displayName=U2.displayName;const _f=({className:t,...e})=>a.jsx("div",{className:be("flex flex-col space-y-2 text-center sm:text-left",t),...e});_f.displayName="AlertDialogHeader";const Sf=({className:t,...e})=>a.jsx("div",{className:be("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Sf.displayName="AlertDialogFooter";const jf=y.forwardRef(({className:t,...e},r)=>a.jsx(W2,{ref:r,className:be("text-lg font-semibold",t),...e}));jf.displayName=W2.displayName;const kf=y.forwardRef(({className:t,...e},r)=>a.jsx(q2,{ref:r,className:be("text-sm text-muted-foreground",t),...e}));kf.displayName=q2.displayName;const Ef=y.forwardRef(({className:t,...e},r)=>a.jsx(B2,{ref:r,className:be(Gv(),t),...e}));Ef.displayName=B2.displayName;const Ex=y.forwardRef(({className:t,...e},r)=>a.jsx(z2,{ref:r,className:be(Gv({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));Ex.displayName=z2.displayName;const Nq=()=>{const{user:t}=sr();return Io({queryKey:["orders",t?.id],queryFn:async()=>{if(!t)throw new Error("User not authenticated");const{data:e,error:r}=await Ye.from("envios").select(`
                  id,
                  user_id,
                  set_ref,
                  estado_envio,
                  updated_at,
                  sets:sets!left(set_name, set_image_url, set_theme, set_piece_count)
                `).eq("user_id",t.id).order("updated_at",{ascending:!1});if(r)throw r;return e},enabled:!!t,staleTime:1e3*60*5})},Tq=()=>{const t=Oo(),{toast:e}=js();return xs({mutationFn:async r=>{const{error:n}=await Ye.from("envios").update({estado_envio:"ruta_devolucion"}).eq("id",r);if(n)throw n},onSuccess:()=>{e({title:"Devolucin iniciada",description:"El estado del envo ha cambiado a 'En Ruta (Devolucin)'"}),t.invalidateQueries({queryKey:["orders"]})},onError:r=>{e({title:"Error",description:"No se pudo iniciar la devolucin: "+r.message,variant:"destructive"})}})},Rq=({open:t,onClose:e})=>{const{profile:r,updateProfile:n,refreshProfile:s}=sr(),{toast:o}=js(),[c,u]=y.useState({full_name:r?.full_name||"",address:r?.address||"",zip_code:r?.zip_code||"",city:r?.city||"",phone:r?.phone||""}),[f,h]=y.useState(!1),p=async v=>{v.preventDefault(),h(!0);const{error:w}=await n(c);w?o({title:"Error",description:"No se pudieron guardar los datos",variant:"destructive"}):(o({title:"Datos actualizados!",description:"Tus datos de contacto se han guardado correctamente"}),await s(),e()),h(!1)},g=(v,w)=>{u(S=>({...S,[v]:w}))};return a.jsx(xo,{open:t,onOpenChange:v=>!v&&e(),children:a.jsxs(Ci,{className:"sm:max-w-md",children:[a.jsxs(Ni,{children:[a.jsx(Ti,{className:"text-xl font-display",children:"Completa tu perfil"}),a.jsx(Da,{children:"Aade tus datos de contacto para mejorar tu experiencia con Brickshare"})]}),a.jsxs("form",{onSubmit:p,className:"space-y-4 mt-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(kt,{htmlFor:"full_name",children:"Nombre completo"}),a.jsxs("div",{className:"relative",children:[a.jsx(ds,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),a.jsx(ut,{id:"full_name",placeholder:"Tu nombre y apellidos",value:c.full_name,onChange:v=>g("full_name",v.target.value),className:"pl-10",required:!0})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(kt,{htmlFor:"address",children:"Direccin"}),a.jsxs("div",{className:"relative",children:[a.jsx(ms,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),a.jsx(ut,{id:"address",placeholder:"Calle, nmero, piso...",value:c.address,onChange:v=>g("address",v.target.value),className:"pl-10"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(kt,{htmlFor:"zip_code",children:"Cdigo postal"}),a.jsx(ut,{id:"zip_code",placeholder:"28001",value:c.zip_code,onChange:v=>g("zip_code",v.target.value)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(kt,{htmlFor:"city",children:"Ciudad"}),a.jsx(ut,{id:"city",placeholder:"Madrid",value:c.city,onChange:v=>g("city",v.target.value)})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(kt,{htmlFor:"phone",children:"Telfono de contacto"}),a.jsxs("div",{className:"relative",children:[a.jsx(Vf,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),a.jsx(ut,{id:"phone",type:"tel",placeholder:"+34 600 000 000",value:c.phone,onChange:v=>g("phone",v.target.value),className:"pl-10"})]})]}),a.jsxs("div",{className:"flex gap-3 pt-4",children:[a.jsx(Me,{type:"button",variant:"outline",onClick:e,className:"flex-1",children:"Ms tarde"}),a.jsxs(Me,{type:"submit",disabled:f,className:"flex-1 gradient-hero",children:[f&&a.jsx(Yt,{className:"mr-2 h-4 w-4 animate-spin"}),"Guardar"]})]})]})]})})},Pq=({isOpen:t,onClose:e,onSelect:r,initialZipCode:n,initialAddress:s})=>{const[o,c]=y.useState(null),[u,f]=y.useState([]),[h,p]=y.useState(!1),[g,v]=y.useState(s||n||""),[w,S]=y.useState(null),b=y.useRef(null),j=y.useRef([]);y.useEffect(()=>{if(t&&!window.google){const L=document.createElement("script");L.src="https://maps.googleapis.com/maps/api/js?key=&libraries=places",L.async=!0,L.defer=!0,L.onload=()=>N(),document.head.appendChild(L)}else t&&window.google&&setTimeout(N,100)},[t]);const N=()=>{if(!b.current||!window.google)return;const L={lat:40.4168,lng:-3.7038},O=new window.google.maps.Map(b.current,{center:L,zoom:13,styles:[{featureType:"all",elementType:"labels.text.fill",stylers:[{color:"#7c93a3"},{lightness:"-10"}]}]});c(O),g&&E(g,O)},E=async(L,O=o)=>{if(!L||!window.google||!O)return;p(!0);const C=new window.google.maps.Geocoder;let R=L.trim();/^\d{5}$/.test(R)?R=`${R}, Espaa`:!R.toLowerCase().includes("espaa")&&!R.toLowerCase().includes("spain")&&(R=`${R}, Espaa`),C.geocode({address:R,region:"es",componentRestrictions:{country:"ES"}},async(M,H)=>{if(H==="OK"&&M?.[0]){const V=M[0].geometry.location;O.setCenter(V),O.setZoom(14),await k(V.lat(),V.lng())}else console.error("Geocoding error:",H,M),it.error("No se pudo encontrar la ubicacin. Intenta con una direccin ms completa.");p(!1)})},k=async(L,O)=>{try{const{data:C,error:R}=await Ye.functions.invoke("correos-pudo",{body:{lat:L,lng:O,radius:5e3}});if(R)throw R;f(C||[]),P(C||[])}catch(C){console.error("Error fetching PUDO points:",C),it.error("Error al cargar puntos de Correos")}},P=L=>{!o||!window.google||(j.current.forEach(O=>O.setMap(null)),j.current=[],L.forEach(O=>{const C=new window.google.maps.Marker({position:{lat:O.lat,lng:O.lng},map:o,title:O.nombre,icon:{url:O.tipo_punto==="Oficina"?"https://maps.google.com/mapfiles/ms/icons/yellow-dot.png":"https://maps.google.com/mapfiles/ms/icons/blue-dot.png",scaledSize:new window.google.maps.Size(32,32)}});C.addListener("click",()=>{S(O)}),j.current.push(C)}))},A=()=>{w&&(r(w),e())};return a.jsx(KC,{children:t&&a.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:a.jsxs(fe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-background w-full max-w-5xl h-[90vh] rounded-2xl shadow-2xl flex flex-col overflow-hidden",children:[a.jsxs("div",{className:"p-4 border-b flex items-center justify-between bg-card",children:[a.jsxs("div",{children:[a.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:[a.jsx(ms,{className:"text-primary"}),"Seleccionar Punto de Entrega Correos"]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Oficinas y Citypaq cercanos"})]}),a.jsx(Me,{variant:"ghost",size:"icon",onClick:e,children:a.jsx(Ao,{className:"h-5 w-5"})})]}),a.jsxs("div",{className:"flex-1 flex flex-col md:flex-row min-h-0",children:[a.jsxs("div",{className:"w-full md:w-80 border-r flex flex-col p-4 bg-card overflow-y-auto",children:[a.jsxs("div",{className:"relative mb-4",children:[a.jsx(ut,{placeholder:"Cdigo Postal (ej: 08029)...",value:g,onChange:L=>v(L.target.value),onKeyDown:L=>L.key==="Enter"&&E(g),className:"pr-10"}),a.jsx(Me,{size:"icon",variant:"ghost",className:"absolute right-0 top-0 h-full",onClick:()=>E(g),disabled:h,children:h?a.jsx(Yt,{className:"h-4 w-4 animate-spin"}):a.jsx(qj,{className:"h-4 w-4"})})]}),a.jsx("div",{className:"flex-1 space-y-4",children:w?a.jsxs(fe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 border rounded-xl bg-accent/20 border-accent",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[w.tipo_punto==="Oficina"?a.jsx(Fj,{className:"h-5 w-5 text-yellow-600"}):a.jsx(GI,{className:"h-5 w-5 text-blue-600"}),a.jsx($r,{variant:"outline",children:w.tipo_punto})]}),a.jsx("h3",{className:"font-bold text-foreground mb-1",children:w.nombre}),a.jsxs("p",{className:"text-sm text-muted-foreground mb-3",children:[w.direccion,", ",w.cp]}),a.jsxs("div",{className:"space-y-2 mb-4",children:[a.jsxs("p",{className:"text-xs font-semibold uppercase text-muted-foreground flex items-center gap-1",children:[a.jsx($y,{className:"h-3 w-3"})," Horario"]}),a.jsx("p",{className:"text-sm border-l-2 border-primary/30 pl-2 py-1 bg-primary/5 rounded",children:w.horario})]}),a.jsx(Me,{className:"w-full",onClick:A,children:"Seleccionar este punto"})]}):a.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center p-8 opacity-50",children:[a.jsx(ms,{className:"h-12 w-12 mb-2"}),a.jsx("p",{children:"Selecciona un punto en el mapa para ver los detalles"})]})})]}),a.jsxs("div",{className:"flex-1 relative bg-muted",children:[a.jsx("div",{ref:b,className:"absolute inset-0"}),!o&&a.jsxs("div",{className:"absolute inset-0 flex items-center justify-center",children:[a.jsx(Yt,{className:"h-8 w-8 animate-spin text-primary"}),a.jsx("p",{className:"ml-2",children:"Cargando mapa..."})]})]})]})]})})})};async function Aq(t){const{data:e,error:r}=await Ye.from("users_correos_dropping").select("*").eq("user_id",t).single();if(r){if(r.code==="PGRST116")return null;throw r}return e}async function Oq(t,e){const{error:r}=await Ye.from("users_correos_dropping").upsert({user_id:t,...e,correos_fecha_seleccion:new Date().toISOString()});if(r)throw r}function Iq(){const{user:t}=sr();return Io({queryKey:["user-pudo-point",t?.id],queryFn:async()=>t?Aq(t.id):null,enabled:!!t})}function Mq(){const{user:t}=sr(),e=Oo();return xs({mutationFn:async r=>{if(!t)throw new Error("User not authenticated");await Oq(t.id,r)},onSuccess:()=>{e.invalidateQueries({queryKey:["user-pudo-point",t?.id]})}})}const Dq=()=>{const{user:t,profile:e,isLoading:r,deleteUserAccount:n,updateProfile:s}=sr(),{wishlistIds:o,toggleWishlist:c,isLoading:u}=qT(),{data:f=[],isLoading:h}=WT(100),{data:p=[],isLoading:g}=Nq(),{data:v}=Iq(),w=Mq(),S=Tq(),b=zr(),[j,N]=y.useState(!1),[E,k]=y.useState(!1),P=async z=>{try{await w.mutateAsync({correos_id_pudo:z.id_correos_pudo,correos_nombre:z.nombre,correos_tipo_punto:z.tipo_punto,correos_direccion_calle:z.direccion,correos_codigo_postal:z.cp,correos_ciudad:z.ciudad,correos_provincia:z.ciudad,correos_pais:"Espaa",correos_direccion_completa:`${z.direccion}, ${z.cp} ${z.ciudad}`,correos_latitud:z.lat,correos_longitud:z.lng,correos_horario_apertura:z.horario,correos_disponible:!0}),it.success("Punto de entrega actualizado correctamente"),k(!1)}catch(oe){console.error("Error updating PUDO:",oe),it.error("Error al actualizar el punto de entrega")}},[A,L]=y.useState(!1),[O,C]=y.useState(null),R=z=>{C(z),L(!0)},M=()=>{O&&(S.mutate(O),L(!1),C(null))};if(y.useEffect(()=>{},[e,r]),y.useEffect(()=>{!r&&!t&&b("/auth")},[t,r,b]),r)return a.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:a.jsx(Yt,{className:"h-8 w-8 animate-spin text-primary"})});if(!t)return null;const H=f.filter(z=>o.includes(z.id)),V=e?.impact_points||0,J=Math.floor(V/10);return a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx(xn,{}),a.jsx("main",{className:"pt-24 pb-16",children:a.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs(fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-8",children:[a.jsx("h1",{className:"text-3xl sm:text-4xl font-display font-bold text-foreground mb-2",children:"Mi Panel"}),a.jsxs("p",{className:"text-muted-foreground",children:["Bienvenido, ",e?.full_name||t.email]})]}),a.jsxs(fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-10",children:[a.jsx("div",{className:"bg-card rounded-2xl p-6 shadow-card",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-14 h-14 rounded-full gradient-hero flex items-center justify-center",children:a.jsx(ds,{className:"h-7 w-7 text-primary-foreground"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Suscripcin"}),a.jsx("p",{className:"text-lg font-semibold text-foreground capitalize",children:!e?.subscription_type||e.subscription_type==="none"?"Sin Suscripcin Activa":e.subscription_type})]})]})}),a.jsx("div",{className:"bg-card rounded-2xl p-6 shadow-card",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-14 h-14 rounded-full bg-destructive/10 flex items-center justify-center",children:a.jsx(Xn,{className:"h-7 w-7 text-destructive"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"En tu Wishlist"}),a.jsxs("p",{className:"text-lg font-semibold text-foreground",children:[o.length," sets"]})]})]})}),a.jsx("div",{className:"bg-card rounded-2xl p-6 shadow-card",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-14 h-14 rounded-full bg-accent/10 flex items-center justify-center",children:a.jsx(ag,{className:"h-7 w-7 text-accent"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Impacto Social"}),a.jsxs("p",{className:"text-lg font-semibold text-foreground",children:[J," horas"]})]})]})})]}),a.jsx(fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"bg-gradient-to-r from-primary/10 via-accent/10 to-primary/10 rounded-2xl p-6 mb-10",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"w-12 h-12 rounded-full gradient-hero flex items-center justify-center shrink-0",children:a.jsx(ag,{className:"h-6 w-6 text-primary-foreground"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-display font-semibold text-foreground mb-1",children:"Tu impacto este mes"}),a.jsxs("p",{className:"text-muted-foreground",children:["Con tu suscripcin has apoyado ",a.jsxs("span",{className:"font-semibold text-primary",children:[J," horas"]})," de trabajo inclusivo. Gracias a ti, personas con discapacidad tienen una ocupacin digna preparando tus sets de LEGO."]})]})]})}),a.jsxs(fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},children:[a.jsx("h2",{className:"text-2xl font-display font-bold text-foreground mb-6",children:"Mi Wishlist"}),u||h?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(Yt,{className:"h-8 w-8 animate-spin text-primary"})}):H.length>0?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:H.map(z=>a.jsx(fx,{id:z.id,name:z.set_name,imageUrl:z.set_image_url||"/placeholder.svg",theme:z.set_theme,ageRange:z.set_age_range,pieceCount:z.set_piece_count,skillBoost:Array.isArray(z.skill_boost)?z.skill_boost.join(", "):"",legoRef:z.set_ref||void 0,description:z.set_description,isWishlisted:!0,onWishlistToggle:c},z.id))}):a.jsxs("div",{className:"text-center py-12 bg-card rounded-2xl",children:[a.jsx(Xn,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),a.jsx("p",{className:"text-lg text-muted-foreground mb-4",children:"Tu wishlist est vaca"}),a.jsx(Me,{asChild:!0,children:a.jsx("a",{href:"/catalogo",children:"Explorar catlogo"})})]})]}),a.jsxs(fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},className:"mt-16",children:[a.jsx("h2",{className:"text-2xl font-display font-bold text-foreground mb-6",children:"Mi Histrico"}),g?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(Yt,{className:"h-8 w-8 animate-spin text-primary"})}):p.length>0?a.jsx("div",{className:"overflow-hidden bg-card rounded-2xl shadow-card",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-border bg-muted/50",children:[a.jsx("th",{className:"p-4 font-medium text-muted-foreground",children:"Ref"}),a.jsx("th",{className:"p-4 font-medium text-muted-foreground",children:"Set"}),a.jsx("th",{className:"p-4 font-medium text-muted-foreground",children:"Estado"}),a.jsx("th",{className:"p-4 font-medium text-muted-foreground",children:"Fecha Actualizacin"}),a.jsx("th",{className:"p-4 font-medium text-muted-foreground text-right",children:"Acciones"})]})}),a.jsx("tbody",{className:"divide-y divide-border",children:p.map(z=>{const oe=U=>{const K={preparacion:{label:"En Preparacin",variant:"outline"},ruta_envio:{label:"En Ruta (Envo)",variant:"default"},entregado:{label:"Entregado",variant:"default"},devuelto:{label:"Devuelto",variant:"secondary"},ruta_devolucion:{label:"En Ruta (Devolucin)",variant:"secondary"}}[U]||{label:U,variant:"outline"};return a.jsx($r,{variant:K.variant,children:K.label})},se=U=>new Date(U).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),X=z.estado_envio==="entregado"||z.estado_envio==="active";return a.jsxs("tr",{className:"hover:bg-muted/50 transition-colors",children:[a.jsx("td",{className:"p-4 font-mono text-xs",children:z.set_ref||"-"}),a.jsx("td",{className:"p-4 font-medium",children:a.jsxs("div",{className:"flex items-center gap-3",children:[z.sets?.set_image_url&&a.jsx("img",{src:z.sets.set_image_url,alt:z.sets.set_name,className:"w-10 h-10 rounded object-cover bg-secondary"}),a.jsx("span",{children:z.sets?.set_name||"Set Desconocido"})]})}),a.jsx("td",{className:"p-4",children:oe(z.estado_envio)}),a.jsx("td",{className:"p-4 text-muted-foreground",children:se(z.updated_at)}),a.jsx("td",{className:"p-4 text-right",children:X&&a.jsxs(Me,{size:"sm",variant:"outline",className:"h-8 gap-2 text-orange-600 hover:text-orange-700 hover:bg-orange-50 border-orange-200",onClick:()=>R(z.id),disabled:S.isPending,children:[a.jsx(HI,{className:"h-3.5 w-3.5"}),"Devolver"]})})]},z.id)})})]})})}):a.jsxs("div",{className:"text-center py-12 bg-card rounded-2xl",children:[a.jsx(Ai,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),a.jsx("p",{className:"text-lg text-muted-foreground mb-4",children:"No tienes envos registrados"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Tus asignaciones de sets aparecern aqu"})]})]}),a.jsxs(fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.45},className:"mt-16 pt-8 border-t border-border",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-8 h-8 rounded-lg bg-yellow-100 flex items-center justify-center",children:a.jsx(ms,{className:"h-5 w-5 text-yellow-600"})}),a.jsx("h2",{className:"text-xl font-display font-bold text-foreground",children:"Punto de Entrega Correos (PUDO)"})]}),a.jsxs(Me,{variant:"outline",size:"sm",onClick:()=>k(!0),className:"gap-2 border-yellow-200 hover:bg-yellow-50 text-yellow-700",children:[a.jsx(ms,{className:"h-4 w-4"}),v?.correos_id_pudo?"Cambiar punto":"Seleccionar punto"]})]}),a.jsx("div",{className:"bg-card rounded-2xl p-6 shadow-card border border-border/50",children:v?.correos_id_pudo?a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"mt-1 p-2 rounded-full bg-primary/10",children:v.correos_tipo_punto==="Oficina"?a.jsx(Fj,{className:"h-6 w-6 text-primary"}):a.jsx(Ai,{className:"h-6 w-6 text-primary"})}),a.jsxs("div",{children:[a.jsxs("h3",{className:"font-bold text-foreground flex items-center gap-2",children:[v.correos_nombre,a.jsx($r,{variant:"secondary",className:"font-normal text-[0.65rem] uppercase py-0 px-1.5 h-4",children:v.correos_tipo_punto})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:v.correos_direccion_completa}),v.correos_fecha_seleccion&&a.jsxs("p",{className:"text-[10px] text-muted-foreground mt-2 uppercase tracking-tight",children:["Seleccionado el ",new Date(v.correos_fecha_seleccion).toLocaleDateString()]})]})]}),a.jsxs("div",{className:"text-xs p-3 bg-blue-50 text-blue-700 rounded-xl border border-blue-100 flex items-center gap-2 max-w-xs",children:[a.jsx($y,{className:"h-4 w-4 shrink-0"}),a.jsx("p",{children:"Todos tus prximos envos y devoluciones se gestionarn por defecto a travs de este punto."})]})]}):a.jsxs("div",{className:"text-center py-6 flex flex-col items-center",children:[a.jsx(ms,{className:"h-10 w-10 text-muted-foreground/30 mb-2"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"No has seleccionado ningn punto de recogida de Correos."}),a.jsx(Me,{onClick:()=>k(!0),children:"Configurar ahora"})]})})]}),a.jsxs(fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},className:"mt-16 pt-8 border-t border-border",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ds,{className:"h-5 w-5 text-muted-foreground"}),a.jsx("h2",{className:"text-xl font-display font-bold text-foreground",children:"Datos de contacto"})]}),a.jsxs(Me,{variant:"outline",size:"sm",onClick:()=>N(!0),children:[a.jsx(Vy,{className:"h-4 w-4 mr-2"}),"Editar datos"]})]}),a.jsxs("div",{className:"bg-card rounded-2xl p-6 shadow-card mb-6",children:[a.jsx("h3",{className:"font-semibold text-foreground mb-4",children:"Datos de Contacto"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(ds,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Nombre"}),a.jsx("p",{className:"text-foreground",children:e?.full_name||"No especificado"})]})]}),a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx($f,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Email"}),a.jsx("p",{className:"text-foreground",children:t?.email||"No especificado"})]})]}),a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(ms,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Direccin"}),a.jsx("p",{className:"text-foreground",children:e?.address?a.jsxs(a.Fragment,{children:[e.address,e.zip_code&&`, ${e.zip_code}`,e.city&&` ${e.city}`]}):"No especificada"})]})]}),a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Vf,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Telfono"}),a.jsx("p",{className:"text-foreground",children:e?.phone||"No especificado"})]})]})]})]}),a.jsxs("div",{className:"bg-destructive/5 rounded-2xl p-6 border border-destructive/20 flex flex-col md:flex-row items-center justify-between gap-6",children:[a.jsxs("div",{className:"flex gap-4",children:[a.jsx("div",{className:"p-3 rounded-xl bg-destructive/10 text-destructive h-fit",children:a.jsx(gM,{className:"h-6 w-6"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-foreground mb-1",children:"Zona de Peligro"}),a.jsx("p",{className:"text-sm text-muted-foreground max-w-md",children:"Al eliminar tu cuenta, todos tus datos personales, wishlist e historial de suscripcin se borrarn de forma permanente. Esta accin no se puede deshacer."})]})]}),a.jsx(Me,{variant:"destructive",onClick:async()=>{if(confirm("Ests seguro de que deseas eliminar tu cuenta? Esta accin es irreversible.")){const{error:z}=await n();z&&alert("Error al eliminar la cuenta: "+z.message)}},className:"shrink-0",children:"Eliminar Cuenta Permanente"})]})]})]})}),a.jsx(Rq,{open:j,onClose:()=>N(!1)}),a.jsx(Pq,{isOpen:E,onClose:()=>k(!1),onSelect:P,initialZipCode:e?.zip_code||void 0,initialAddress:e?.address||void 0}),a.jsx(my,{open:A,onOpenChange:L,children:a.jsxs(bf,{children:[a.jsxs(_f,{children:[a.jsx(jf,{children:"Confirmar devolucin?"}),a.jsx(kf,{children:'Se cambiar el estado del envo a "En Ruta (Devolucin)". Asegrate de preparar el paquete para su recogida.'})]}),a.jsxs(Sf,{children:[a.jsx(Ex,{children:"Cancelar"}),a.jsx(Ef,{onClick:M,className:"bg-orange-600 hover:bg-orange-700",children:"Confirmar Devolucin"})]})]})}),a.jsx(wn,{})]})};var ph="Tabs",[Lq]=Sr(ph,[al]),K2=al(),[Fq,Cx]=Lq(ph),G2=y.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:o,orientation:c="horizontal",dir:u,activationMode:f="automatic",...h}=t,p=Lo(u),[g,v]=yn({prop:n,onChange:s,defaultProp:o??"",caller:ph});return a.jsx(Fq,{scope:r,baseId:Rn(),value:g,onValueChange:v,orientation:c,dir:p,activationMode:f,children:a.jsx(Ae.div,{dir:p,"data-orientation":c,...h,ref:e})})});G2.displayName=ph;var Y2="TabsList",Q2=y.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...s}=t,o=Cx(Y2,r),c=K2(r);return a.jsx(Qv,{asChild:!0,...c,orientation:o.orientation,dir:o.dir,loop:n,children:a.jsx(Ae.div,{role:"tablist","aria-orientation":o.orientation,...s,ref:e})})});Q2.displayName=Y2;var Z2="TabsTrigger",X2=y.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...o}=t,c=Cx(Z2,r),u=K2(r),f=tR(c.baseId,n),h=rR(c.baseId,n),p=n===c.value;return a.jsx(Zv,{asChild:!0,...u,focusable:!s,active:p,children:a.jsx(Ae.button,{type:"button",role:"tab","aria-selected":p,"aria-controls":h,"data-state":p?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:f,...o,ref:e,onMouseDown:ge(t.onMouseDown,g=>{!s&&g.button===0&&g.ctrlKey===!1?c.onValueChange(n):g.preventDefault()}),onKeyDown:ge(t.onKeyDown,g=>{[" ","Enter"].includes(g.key)&&c.onValueChange(n)}),onFocus:ge(t.onFocus,()=>{const g=c.activationMode!=="manual";!p&&!s&&g&&c.onValueChange(n)})})})});X2.displayName=Z2;var J2="TabsContent",eR=y.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:s,children:o,...c}=t,u=Cx(J2,r),f=tR(u.baseId,n),h=rR(u.baseId,n),p=n===u.value,g=y.useRef(p);return y.useEffect(()=>{const v=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(v)},[]),a.jsx(rn,{present:s||p,children:({present:v})=>a.jsx(Ae.div,{"data-state":p?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":f,hidden:!v,id:h,tabIndex:0,...c,ref:e,style:{...t.style,animationDuration:g.current?"0s":void 0},children:v&&o})})});eR.displayName=J2;function tR(t,e){return`${t}-trigger-${e}`}function rR(t,e){return`${t}-content-${e}`}var $q=G2,nR=Q2,sR=X2,iR=eR;const oR=$q,Nx=y.forwardRef(({className:t,...e},r)=>a.jsx(nR,{ref:r,className:be("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));Nx.displayName=nR.displayName;const Si=y.forwardRef(({className:t,...e},r)=>a.jsx(sR,{ref:r,className:be("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",t),...e}));Si.displayName=sR.displayName;const ji=y.forwardRef(({className:t,...e},r)=>a.jsx(iR,{ref:r,className:be("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));ji.displayName=iR.displayName;const Tx=y.forwardRef(({className:t,...e},r)=>a.jsx("textarea",{className:be("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...e}));Tx.displayName="Textarea";const $i=y.forwardRef(({className:t,...e},r)=>a.jsx("div",{className:"relative w-full overflow-auto",children:a.jsx("table",{ref:r,className:be("w-full caption-bottom text-sm",t),...e})}));$i.displayName="Table";const Vi=y.forwardRef(({className:t,...e},r)=>a.jsx("thead",{ref:r,className:be("[&_tr]:border-b",t),...e}));Vi.displayName="TableHeader";const Ui=y.forwardRef(({className:t,...e},r)=>a.jsx("tbody",{ref:r,className:be("[&_tr:last-child]:border-0",t),...e}));Ui.displayName="TableBody";const Vq=y.forwardRef(({className:t,...e},r)=>a.jsx("tfoot",{ref:r,className:be("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));Vq.displayName="TableFooter";const Br=y.forwardRef(({className:t,...e},r)=>a.jsx("tr",{ref:r,className:be("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",t),...e}));Br.displayName="TableRow";const Je=y.forwardRef(({className:t,...e},r)=>a.jsx("th",{ref:r,className:be("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));Je.displayName="TableHead";const et=y.forwardRef(({className:t,...e},r)=>a.jsx("td",{ref:r,className:be("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));et.displayName="TableCell";const Uq=y.forwardRef(({className:t,...e},r)=>a.jsx("caption",{ref:r,className:be("mt-4 text-sm text-muted-foreground",t),...e}));Uq.displayName="TableCaption";var iu=t=>t.type==="checkbox",yo=t=>t instanceof Date,Lr=t=>t==null;const aR=t=>typeof t=="object";var zt=t=>!Lr(t)&&!Array.isArray(t)&&aR(t)&&!yo(t),lR=t=>zt(t)&&t.target?iu(t.target)?t.target.checked:t.target.value:t,Bq=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,cR=(t,e)=>t.has(Bq(e)),zq=t=>{const e=t.constructor&&t.constructor.prototype;return zt(e)&&e.hasOwnProperty("isPrototypeOf")},Rx=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function er(t){let e;const r=Array.isArray(t),n=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(Rx&&(t instanceof Blob||n))&&(r||zt(t)))if(e=r?[]:{},!r&&!zq(t))e=t;else for(const s in t)t.hasOwnProperty(s)&&(e[s]=er(t[s]));else return t;return e}var mh=t=>/^\w*$/.test(t),Bt=t=>t===void 0,Px=t=>Array.isArray(t)?t.filter(Boolean):[],Ax=t=>Px(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Se=(t,e,r)=>{if(!e||!zt(t))return r;const n=(mh(e)?[e]:Ax(e)).reduce((s,o)=>Lr(s)?s:s[o],t);return Bt(n)||n===t?Bt(t[e])?r:t[e]:n},fn=t=>typeof t=="boolean",vt=(t,e,r)=>{let n=-1;const s=mh(e)?[e]:Ax(e),o=s.length,c=o-1;for(;++n<o;){const u=s[n];let f=r;if(n!==c){const h=t[u];f=zt(h)||Array.isArray(h)?h:isNaN(+s[n+1])?{}:[]}if(u==="__proto__"||u==="constructor"||u==="prototype")return;t[u]=f,t=t[u]}};const Cf={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Qn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ms={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Ox=Q.createContext(null);Ox.displayName="HookFormContext";const gh=()=>Q.useContext(Ox),Wq=t=>{const{children:e,...r}=t;return Q.createElement(Ox.Provider,{value:r},e)};var uR=(t,e,r,n=!0)=>{const s={defaultValues:e._defaultValues};for(const o in t)Object.defineProperty(s,o,{get:()=>{const c=o;return e._proxyFormState[c]!==Qn.all&&(e._proxyFormState[c]=!n||Qn.all),r&&(r[c]=!0),t[c]}});return s};const Ix=typeof window<"u"?Q.useLayoutEffect:Q.useEffect;function qq(t){const e=gh(),{control:r=e.control,disabled:n,name:s,exact:o}=t||{},[c,u]=Q.useState(r._formState),f=Q.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return Ix(()=>r._subscribe({name:s,formState:f.current,exact:o,callback:h=>{!n&&u({...r._formState,...h})}}),[s,n,o]),Q.useEffect(()=>{f.current.isValid&&r._setValid(!0)},[r]),Q.useMemo(()=>uR(c,r,f.current,!1),[c,r])}var ys=t=>typeof t=="string",dR=(t,e,r,n,s)=>ys(t)?(n&&e.watch.add(t),Se(r,t,s)):Array.isArray(t)?t.map(o=>(n&&e.watch.add(o),Se(r,o))):(n&&(e.watchAll=!0),r),gy=t=>Lr(t)||!aR(t);function Ls(t,e,r=new WeakSet){if(gy(t)||gy(e))return t===e;if(yo(t)&&yo(e))return t.getTime()===e.getTime();const n=Object.keys(t),s=Object.keys(e);if(n.length!==s.length)return!1;if(r.has(t)||r.has(e))return!0;r.add(t),r.add(e);for(const o of n){const c=t[o];if(!s.includes(o))return!1;if(o!=="ref"){const u=e[o];if(yo(c)&&yo(u)||zt(c)&&zt(u)||Array.isArray(c)&&Array.isArray(u)?!Ls(c,u,r):c!==u)return!1}}return!0}function Hq(t){const e=gh(),{control:r=e.control,name:n,defaultValue:s,disabled:o,exact:c,compute:u}=t||{},f=Q.useRef(s),h=Q.useRef(u),p=Q.useRef(void 0);h.current=u;const g=Q.useMemo(()=>r._getWatch(n,f.current),[r,n]),[v,w]=Q.useState(h.current?h.current(g):g);return Ix(()=>r._subscribe({name:n,formState:{values:!0},exact:c,callback:S=>{if(!o){const b=dR(n,r._names,S.values||r._formValues,!1,f.current);if(h.current){const j=h.current(b);Ls(j,p.current)||(w(j),p.current=j)}else w(b)}}}),[r,o,n,c]),Q.useEffect(()=>r._removeUnmounted()),v}function Kq(t){const e=gh(),{name:r,disabled:n,control:s=e.control,shouldUnregister:o,defaultValue:c}=t,u=cR(s._names.array,r),f=Q.useMemo(()=>Se(s._formValues,r,Se(s._defaultValues,r,c)),[s,r,c]),h=Hq({control:s,name:r,defaultValue:f,exact:!0}),p=qq({control:s,name:r,exact:!0}),g=Q.useRef(t),v=Q.useRef(s.register(r,{...t.rules,value:h,...fn(t.disabled)?{disabled:t.disabled}:{}}));g.current=t;const w=Q.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Se(p.errors,r)},isDirty:{enumerable:!0,get:()=>!!Se(p.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!Se(p.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!Se(p.validatingFields,r)},error:{enumerable:!0,get:()=>Se(p.errors,r)}}),[p,r]),S=Q.useCallback(E=>v.current.onChange({target:{value:lR(E),name:r},type:Cf.CHANGE}),[r]),b=Q.useCallback(()=>v.current.onBlur({target:{value:Se(s._formValues,r),name:r},type:Cf.BLUR}),[r,s._formValues]),j=Q.useCallback(E=>{const k=Se(s._fields,r);k&&E&&(k._f.ref={focus:()=>E.focus&&E.focus(),select:()=>E.select&&E.select(),setCustomValidity:P=>E.setCustomValidity(P),reportValidity:()=>E.reportValidity()})},[s._fields,r]),N=Q.useMemo(()=>({name:r,value:h,...fn(n)||p.disabled?{disabled:p.disabled||n}:{},onChange:S,onBlur:b,ref:j}),[r,n,p.disabled,S,b,j,h]);return Q.useEffect(()=>{const E=s._options.shouldUnregister||o;s.register(r,{...g.current.rules,...fn(g.current.disabled)?{disabled:g.current.disabled}:{}});const k=(P,A)=>{const L=Se(s._fields,P);L&&L._f&&(L._f.mount=A)};if(k(r,!0),E){const P=er(Se(s._options.defaultValues,r));vt(s._defaultValues,r,P),Bt(Se(s._formValues,r))&&vt(s._formValues,r,P)}return!u&&s.register(r),()=>{(u?E&&!s._state.action:E)?s.unregister(r):k(r,!1)}},[r,s,u,o]),Q.useEffect(()=>{s._setDisabledField({disabled:n,name:r})},[n,r,s]),Q.useMemo(()=>({field:N,formState:p,fieldState:w}),[N,p,w])}const Gq=t=>t.render(Kq(t));var fR=(t,e,r,n,s)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:s||!0}}:{},yc=t=>Array.isArray(t)?t:[t],US=()=>{let t=[];return{get observers(){return t},next:s=>{for(const o of t)o.next&&o.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(o=>o!==s)}}),unsubscribe:()=>{t=[]}}},Jr=t=>zt(t)&&!Object.keys(t).length,Mx=t=>t.type==="file",Zn=t=>typeof t=="function",Nf=t=>{if(!Rx)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},hR=t=>t.type==="select-multiple",Dx=t=>t.type==="radio",Yq=t=>Dx(t)||iu(t),rg=t=>Nf(t)&&t.isConnected;function Qq(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=Bt(t)?n++:t[e[n++]];return t}function Zq(t){for(const e in t)if(t.hasOwnProperty(e)&&!Bt(t[e]))return!1;return!0}function qt(t,e){const r=Array.isArray(e)?e:mh(e)?[e]:Ax(e),n=r.length===1?t:Qq(t,r),s=r.length-1,o=r[s];return n&&delete n[o],s!==0&&(zt(n)&&Jr(n)||Array.isArray(n)&&Zq(n))&&qt(t,r.slice(0,-1)),t}var pR=t=>{for(const e in t)if(Zn(t[e]))return!0;return!1};function Tf(t,e={}){const r=Array.isArray(t);if(zt(t)||r)for(const n in t)Array.isArray(t[n])||zt(t[n])&&!pR(t[n])?(e[n]=Array.isArray(t[n])?[]:{},Tf(t[n],e[n])):Lr(t[n])||(e[n]=!0);return e}function mR(t,e,r){const n=Array.isArray(t);if(zt(t)||n)for(const s in t)Array.isArray(t[s])||zt(t[s])&&!pR(t[s])?Bt(e)||gy(r[s])?r[s]=Array.isArray(t[s])?Tf(t[s],[]):{...Tf(t[s])}:mR(t[s],Lr(e)?{}:e[s],r[s]):r[s]=!Ls(t[s],e[s]);return r}var Xl=(t,e)=>mR(t,e,Tf(e));const BS={value:!1,isValid:!1},zS={value:!0,isValid:!0};var gR=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Bt(t[0].attributes.value)?Bt(t[0].value)||t[0].value===""?zS:{value:t[0].value,isValid:!0}:zS:BS}return BS},yR=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>Bt(t)?t:e?t===""?NaN:t&&+t:r&&ys(t)?new Date(t):n?n(t):t;const WS={isValid:!1,value:null};var vR=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,WS):WS;function qS(t){const e=t.ref;return Mx(e)?e.files:Dx(e)?vR(t.refs).value:hR(e)?[...e.selectedOptions].map(({value:r})=>r):iu(e)?gR(t.refs).value:yR(Bt(e.value)?t.ref.value:e.value,t)}var Xq=(t,e,r,n)=>{const s={};for(const o of t){const c=Se(e,o);c&&vt(s,o,c._f)}return{criteriaMode:r,names:[...t],fields:s,shouldUseNativeValidation:n}},Rf=t=>t instanceof RegExp,Jl=t=>Bt(t)?t:Rf(t)?t.source:zt(t)?Rf(t.value)?t.value.source:t.value:t,HS=t=>({isOnSubmit:!t||t===Qn.onSubmit,isOnBlur:t===Qn.onBlur,isOnChange:t===Qn.onChange,isOnAll:t===Qn.all,isOnTouch:t===Qn.onTouched});const KS="AsyncFunction";var Jq=t=>!!t&&!!t.validate&&!!(Zn(t.validate)&&t.validate.constructor.name===KS||zt(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===KS)),eH=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),GS=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const vc=(t,e,r,n)=>{for(const s of r||Object.keys(t)){const o=Se(t,s);if(o){const{_f:c,...u}=o;if(c){if(c.refs&&c.refs[0]&&e(c.refs[0],s)&&!n)return!0;if(c.ref&&e(c.ref,c.name)&&!n)return!0;if(vc(u,e))break}else if(zt(u)&&vc(u,e))break}}};function YS(t,e,r){const n=Se(t,r);if(n||mh(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const o=s.join("."),c=Se(e,o),u=Se(t,o);if(c&&!Array.isArray(c)&&r!==o)return{name:r};if(u&&u.type)return{name:o,error:u};if(u&&u.root&&u.root.type)return{name:`${o}.root`,error:u.root};s.pop()}return{name:r}}var tH=(t,e,r,n)=>{r(t);const{name:s,...o}=t;return Jr(o)||Object.keys(o).length>=Object.keys(e).length||Object.keys(o).find(c=>e[c]===(!n||Qn.all))},rH=(t,e,r)=>!t||!e||t===e||yc(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n))),nH=(t,e,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(e||t):(r?n.isOnBlur:s.isOnBlur)?!t:(r?n.isOnChange:s.isOnChange)?t:!0,sH=(t,e)=>!Px(Se(t,e)).length&&qt(t,e),iH=(t,e,r)=>{const n=yc(Se(t,r));return vt(n,"root",e[r]),vt(t,r,n),t},Hd=t=>ys(t);function QS(t,e,r="validate"){if(Hd(t)||Array.isArray(t)&&t.every(Hd)||fn(t)&&!t)return{type:r,message:Hd(t)?t:"",ref:e}}var wa=t=>zt(t)&&!Rf(t)?t:{value:t,message:""},ZS=async(t,e,r,n,s,o)=>{const{ref:c,refs:u,required:f,maxLength:h,minLength:p,min:g,max:v,pattern:w,validate:S,name:b,valueAsNumber:j,mount:N}=t._f,E=Se(r,b);if(!N||e.has(b))return{};const k=u?u[0]:c,P=V=>{s&&k.reportValidity&&(k.setCustomValidity(fn(V)?"":V||""),k.reportValidity())},A={},L=Dx(c),O=iu(c),C=L||O,R=(j||Mx(c))&&Bt(c.value)&&Bt(E)||Nf(c)&&c.value===""||E===""||Array.isArray(E)&&!E.length,M=fR.bind(null,b,n,A),H=(V,J,z,oe=Ms.maxLength,se=Ms.minLength)=>{const X=V?J:z;A[b]={type:V?oe:se,message:X,ref:c,...M(V?oe:se,X)}};if(o?!Array.isArray(E)||!E.length:f&&(!C&&(R||Lr(E))||fn(E)&&!E||O&&!gR(u).isValid||L&&!vR(u).isValid)){const{value:V,message:J}=Hd(f)?{value:!!f,message:f}:wa(f);if(V&&(A[b]={type:Ms.required,message:J,ref:k,...M(Ms.required,J)},!n))return P(J),A}if(!R&&(!Lr(g)||!Lr(v))){let V,J;const z=wa(v),oe=wa(g);if(!Lr(E)&&!isNaN(E)){const se=c.valueAsNumber||E&&+E;Lr(z.value)||(V=se>z.value),Lr(oe.value)||(J=se<oe.value)}else{const se=c.valueAsDate||new Date(E),X=K=>new Date(new Date().toDateString()+" "+K),U=c.type=="time",F=c.type=="week";ys(z.value)&&E&&(V=U?X(E)>X(z.value):F?E>z.value:se>new Date(z.value)),ys(oe.value)&&E&&(J=U?X(E)<X(oe.value):F?E<oe.value:se<new Date(oe.value))}if((V||J)&&(H(!!V,z.message,oe.message,Ms.max,Ms.min),!n))return P(A[b].message),A}if((h||p)&&!R&&(ys(E)||o&&Array.isArray(E))){const V=wa(h),J=wa(p),z=!Lr(V.value)&&E.length>+V.value,oe=!Lr(J.value)&&E.length<+J.value;if((z||oe)&&(H(z,V.message,J.message),!n))return P(A[b].message),A}if(w&&!R&&ys(E)){const{value:V,message:J}=wa(w);if(Rf(V)&&!E.match(V)&&(A[b]={type:Ms.pattern,message:J,ref:c,...M(Ms.pattern,J)},!n))return P(J),A}if(S){if(Zn(S)){const V=await S(E,r),J=QS(V,k);if(J&&(A[b]={...J,...M(Ms.validate,J.message)},!n))return P(J.message),A}else if(zt(S)){let V={};for(const J in S){if(!Jr(V)&&!n)break;const z=QS(await S[J](E,r),k,J);z&&(V={...z,...M(J,z.message)},P(z.message),n&&(A[b]=V))}if(!Jr(V)&&(A[b]={ref:k,...V},!n))return A}}return P(!0),A};const oH={mode:Qn.onSubmit,reValidateMode:Qn.onChange,shouldFocusError:!0};function aH(t={}){let e={...oH,...t},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Zn(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},s=zt(e.defaultValues)||zt(e.values)?er(e.defaultValues||e.values)||{}:{},o=e.shouldUnregister?{}:er(s),c={action:!1,mount:!1,watch:!1},u={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},f,h=0;const p={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let g={...p};const v={array:US(),state:US()},w=e.criteriaMode===Qn.all,S=$=>G=>{clearTimeout(h),h=setTimeout($,G)},b=async $=>{if(!e.disabled&&(p.isValid||g.isValid||$)){const G=e.resolver?Jr((await O()).errors):await R(n,!0);G!==r.isValid&&v.state.next({isValid:G})}},j=($,G)=>{!e.disabled&&(p.isValidating||p.validatingFields||g.isValidating||g.validatingFields)&&(($||Array.from(u.mount)).forEach(re=>{re&&(G?vt(r.validatingFields,re,G):qt(r.validatingFields,re))}),v.state.next({validatingFields:r.validatingFields,isValidating:!Jr(r.validatingFields)}))},N=($,G=[],re,ve,de=!0,ce=!0)=>{if(ve&&re&&!e.disabled){if(c.action=!0,ce&&Array.isArray(Se(n,$))){const pe=re(Se(n,$),ve.argA,ve.argB);de&&vt(n,$,pe)}if(ce&&Array.isArray(Se(r.errors,$))){const pe=re(Se(r.errors,$),ve.argA,ve.argB);de&&vt(r.errors,$,pe),sH(r.errors,$)}if((p.touchedFields||g.touchedFields)&&ce&&Array.isArray(Se(r.touchedFields,$))){const pe=re(Se(r.touchedFields,$),ve.argA,ve.argB);de&&vt(r.touchedFields,$,pe)}(p.dirtyFields||g.dirtyFields)&&(r.dirtyFields=Xl(s,o)),v.state.next({name:$,isDirty:H($,G),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else vt(o,$,G)},E=($,G)=>{vt(r.errors,$,G),v.state.next({errors:r.errors})},k=$=>{r.errors=$,v.state.next({errors:r.errors,isValid:!1})},P=($,G,re,ve)=>{const de=Se(n,$);if(de){const ce=Se(o,$,Bt(re)?Se(s,$):re);Bt(ce)||ve&&ve.defaultChecked||G?vt(o,$,G?ce:qS(de._f)):z($,ce),c.mount&&b()}},A=($,G,re,ve,de)=>{let ce=!1,pe=!1;const Ve={name:$};if(!e.disabled){if(!re||ve){(p.isDirty||g.isDirty)&&(pe=r.isDirty,r.isDirty=Ve.isDirty=H(),ce=pe!==Ve.isDirty);const Xe=Ls(Se(s,$),G);pe=!!Se(r.dirtyFields,$),Xe?qt(r.dirtyFields,$):vt(r.dirtyFields,$,!0),Ve.dirtyFields=r.dirtyFields,ce=ce||(p.dirtyFields||g.dirtyFields)&&pe!==!Xe}if(re){const Xe=Se(r.touchedFields,$);Xe||(vt(r.touchedFields,$,re),Ve.touchedFields=r.touchedFields,ce=ce||(p.touchedFields||g.touchedFields)&&Xe!==re)}ce&&de&&v.state.next(Ve)}return ce?Ve:{}},L=($,G,re,ve)=>{const de=Se(r.errors,$),ce=(p.isValid||g.isValid)&&fn(G)&&r.isValid!==G;if(e.delayError&&re?(f=S(()=>E($,re)),f(e.delayError)):(clearTimeout(h),f=null,re?vt(r.errors,$,re):qt(r.errors,$)),(re?!Ls(de,re):de)||!Jr(ve)||ce){const pe={...ve,...ce&&fn(G)?{isValid:G}:{},errors:r.errors,name:$};r={...r,...pe},v.state.next(pe)}},O=async $=>{j($,!0);const G=await e.resolver(o,e.context,Xq($||u.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return j($),G},C=async $=>{const{errors:G}=await O($);if($)for(const re of $){const ve=Se(G,re);ve?vt(r.errors,re,ve):qt(r.errors,re)}else r.errors=G;return G},R=async($,G,re={valid:!0})=>{for(const ve in $){const de=$[ve];if(de){const{_f:ce,...pe}=de;if(ce){const Ve=u.array.has(ce.name),Xe=de._f&&Jq(de._f);Xe&&p.validatingFields&&j([ve],!0);const $t=await ZS(de,u.disabled,o,w,e.shouldUseNativeValidation&&!G,Ve);if(Xe&&p.validatingFields&&j([ve]),$t[ce.name]&&(re.valid=!1,G))break;!G&&(Se($t,ce.name)?Ve?iH(r.errors,$t,ce.name):vt(r.errors,ce.name,$t[ce.name]):qt(r.errors,ce.name))}!Jr(pe)&&await R(pe,G,re)}}return re.valid},M=()=>{for(const $ of u.unMount){const G=Se(n,$);G&&(G._f.refs?G._f.refs.every(re=>!rg(re)):!rg(G._f.ref))&&ne($)}u.unMount=new Set},H=($,G)=>!e.disabled&&($&&G&&vt(o,$,G),!Ls(K(),s)),V=($,G,re)=>dR($,u,{...c.mount?o:Bt(G)?s:ys($)?{[$]:G}:G},re,G),J=$=>Px(Se(c.mount?o:s,$,e.shouldUnregister?Se(s,$,[]):[])),z=($,G,re={})=>{const ve=Se(n,$);let de=G;if(ve){const ce=ve._f;ce&&(!ce.disabled&&vt(o,$,yR(G,ce)),de=Nf(ce.ref)&&Lr(G)?"":G,hR(ce.ref)?[...ce.ref.options].forEach(pe=>pe.selected=de.includes(pe.value)):ce.refs?iu(ce.ref)?ce.refs.forEach(pe=>{(!pe.defaultChecked||!pe.disabled)&&(Array.isArray(de)?pe.checked=!!de.find(Ve=>Ve===pe.value):pe.checked=de===pe.value||!!de)}):ce.refs.forEach(pe=>pe.checked=pe.value===de):Mx(ce.ref)?ce.ref.value="":(ce.ref.value=de,ce.ref.type||v.state.next({name:$,values:er(o)})))}(re.shouldDirty||re.shouldTouch)&&A($,de,re.shouldTouch,re.shouldDirty,!0),re.shouldValidate&&F($)},oe=($,G,re)=>{for(const ve in G){if(!G.hasOwnProperty(ve))return;const de=G[ve],ce=$+"."+ve,pe=Se(n,ce);(u.array.has($)||zt(de)||pe&&!pe._f)&&!yo(de)?oe(ce,de,re):z(ce,de,re)}},se=($,G,re={})=>{const ve=Se(n,$),de=u.array.has($),ce=er(G);vt(o,$,ce),de?(v.array.next({name:$,values:er(o)}),(p.isDirty||p.dirtyFields||g.isDirty||g.dirtyFields)&&re.shouldDirty&&v.state.next({name:$,dirtyFields:Xl(s,o),isDirty:H($,ce)})):ve&&!ve._f&&!Lr(ce)?oe($,ce,re):z($,ce,re),GS($,u)&&v.state.next({...r,name:$}),v.state.next({name:c.mount?$:void 0,values:er(o)})},X=async $=>{c.mount=!0;const G=$.target;let re=G.name,ve=!0;const de=Se(n,re),ce=Xe=>{ve=Number.isNaN(Xe)||yo(Xe)&&isNaN(Xe.getTime())||Ls(Xe,Se(o,re,Xe))},pe=HS(e.mode),Ve=HS(e.reValidateMode);if(de){let Xe,$t;const ir=G.type?qS(de._f):lR($),Pt=$.type===Cf.BLUR||$.type===Cf.FOCUS_OUT,pr=!eH(de._f)&&!e.resolver&&!Se(r.errors,re)&&!de._f.deps||nH(Pt,Se(r.touchedFields,re),r.isSubmitted,Ve,pe),jr=GS(re,u,Pt);vt(o,re,ir),Pt?(de._f.onBlur&&de._f.onBlur($),f&&f(0)):de._f.onChange&&de._f.onChange($);const kr=A(re,ir,Pt),Vo=!Jr(kr)||jr;if(!Pt&&v.state.next({name:re,type:$.type,values:er(o)}),pr)return(p.isValid||g.isValid)&&(e.mode==="onBlur"?Pt&&b():Pt||b()),Vo&&v.state.next({name:re,...jr?{}:kr});if(!Pt&&jr&&v.state.next({...r}),e.resolver){const{errors:on}=await O([re]);if(ce(ir),ve){const qi=YS(r.errors,n,re),Hs=YS(on,n,qi.name||re);Xe=Hs.error,re=Hs.name,$t=Jr(on)}}else j([re],!0),Xe=(await ZS(de,u.disabled,o,w,e.shouldUseNativeValidation))[re],j([re]),ce(ir),ve&&(Xe?$t=!1:(p.isValid||g.isValid)&&($t=await R(n,!0)));ve&&(de._f.deps&&F(de._f.deps),L(re,$t,Xe,kr))}},U=($,G)=>{if(Se(r.errors,G)&&$.focus)return $.focus(),1},F=async($,G={})=>{let re,ve;const de=yc($);if(e.resolver){const ce=await C(Bt($)?$:de);re=Jr(ce),ve=$?!de.some(pe=>Se(ce,pe)):re}else $?(ve=(await Promise.all(de.map(async ce=>{const pe=Se(n,ce);return await R(pe&&pe._f?{[ce]:pe}:pe)}))).every(Boolean),!(!ve&&!r.isValid)&&b()):ve=re=await R(n);return v.state.next({...!ys($)||(p.isValid||g.isValid)&&re!==r.isValid?{}:{name:$},...e.resolver||!$?{isValid:re}:{},errors:r.errors}),G.shouldFocus&&!ve&&vc(n,U,$?de:u.mount),ve},K=$=>{const G={...c.mount?o:s};return Bt($)?G:ys($)?Se(G,$):$.map(re=>Se(G,re))},I=($,G)=>({invalid:!!Se((G||r).errors,$),isDirty:!!Se((G||r).dirtyFields,$),error:Se((G||r).errors,$),isValidating:!!Se(r.validatingFields,$),isTouched:!!Se((G||r).touchedFields,$)}),q=$=>{$&&yc($).forEach(G=>qt(r.errors,G)),v.state.next({errors:$?r.errors:{}})},te=($,G,re)=>{const ve=(Se(n,$,{_f:{}})._f||{}).ref,de=Se(r.errors,$)||{},{ref:ce,message:pe,type:Ve,...Xe}=de;vt(r.errors,$,{...Xe,...G,ref:ve}),v.state.next({name:$,errors:r.errors,isValid:!1}),re&&re.shouldFocus&&ve&&ve.focus&&ve.focus()},ie=($,G)=>Zn($)?v.state.subscribe({next:re=>"values"in re&&$(V(void 0,G),re)}):V($,G,!0),xe=$=>v.state.subscribe({next:G=>{rH($.name,G.name,$.exact)&&tH(G,$.formState||p,wt,$.reRenderRoot)&&$.callback({values:{...o},...r,...G,defaultValues:s})}}).unsubscribe,_e=$=>(c.mount=!0,g={...g,...$.formState},xe({...$,formState:g})),ne=($,G={})=>{for(const re of $?yc($):u.mount)u.mount.delete(re),u.array.delete(re),G.keepValue||(qt(n,re),qt(o,re)),!G.keepError&&qt(r.errors,re),!G.keepDirty&&qt(r.dirtyFields,re),!G.keepTouched&&qt(r.touchedFields,re),!G.keepIsValidating&&qt(r.validatingFields,re),!e.shouldUnregister&&!G.keepDefaultValue&&qt(s,re);v.state.next({values:er(o)}),v.state.next({...r,...G.keepDirty?{isDirty:H()}:{}}),!G.keepIsValid&&b()},ue=({disabled:$,name:G})=>{(fn($)&&c.mount||$||u.disabled.has(G))&&($?u.disabled.add(G):u.disabled.delete(G))},we=($,G={})=>{let re=Se(n,$);const ve=fn(G.disabled)||fn(e.disabled);return vt(n,$,{...re||{},_f:{...re&&re._f?re._f:{ref:{name:$}},name:$,mount:!0,...G}}),u.mount.add($),re?ue({disabled:fn(G.disabled)?G.disabled:e.disabled,name:$}):P($,!0,G.value),{...ve?{disabled:G.disabled||e.disabled}:{},...e.progressive?{required:!!G.required,min:Jl(G.min),max:Jl(G.max),minLength:Jl(G.minLength),maxLength:Jl(G.maxLength),pattern:Jl(G.pattern)}:{},name:$,onChange:X,onBlur:X,ref:de=>{if(de){we($,G),re=Se(n,$);const ce=Bt(de.value)&&de.querySelectorAll&&de.querySelectorAll("input,select,textarea")[0]||de,pe=Yq(ce),Ve=re._f.refs||[];if(pe?Ve.find(Xe=>Xe===ce):ce===re._f.ref)return;vt(n,$,{_f:{...re._f,...pe?{refs:[...Ve.filter(rg),ce,...Array.isArray(Se(s,$))?[{}]:[]],ref:{type:ce.type,name:$}}:{ref:ce}}}),P($,!1,void 0,ce)}else re=Se(n,$,{}),re._f&&(re._f.mount=!1),(e.shouldUnregister||G.shouldUnregister)&&!(cR(u.array,$)&&c.action)&&u.unMount.add($)}}},Ee=()=>e.shouldFocusError&&vc(n,U,u.mount),je=$=>{fn($)&&(v.state.next({disabled:$}),vc(n,(G,re)=>{const ve=Se(n,re);ve&&(G.disabled=ve._f.disabled||$,Array.isArray(ve._f.refs)&&ve._f.refs.forEach(de=>{de.disabled=ve._f.disabled||$}))},0,!1))},$e=($,G)=>async re=>{let ve;re&&(re.preventDefault&&re.preventDefault(),re.persist&&re.persist());let de=er(o);if(v.state.next({isSubmitting:!0}),e.resolver){const{errors:ce,values:pe}=await O();r.errors=ce,de=er(pe)}else await R(n);if(u.disabled.size)for(const ce of u.disabled)qt(de,ce);if(qt(r.errors,"root"),Jr(r.errors)){v.state.next({errors:{}});try{await $(de,re)}catch(ce){ve=ce}}else G&&await G({...r.errors},re),Ee(),setTimeout(Ee);if(v.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Jr(r.errors)&&!ve,submitCount:r.submitCount+1,errors:r.errors}),ve)throw ve},tt=($,G={})=>{Se(n,$)&&(Bt(G.defaultValue)?se($,er(Se(s,$))):(se($,G.defaultValue),vt(s,$,er(G.defaultValue))),G.keepTouched||qt(r.touchedFields,$),G.keepDirty||(qt(r.dirtyFields,$),r.isDirty=G.defaultValue?H($,er(Se(s,$))):H()),G.keepError||(qt(r.errors,$),p.isValid&&b()),v.state.next({...r}))},rt=($,G={})=>{const re=$?er($):s,ve=er(re),de=Jr($),ce=de?s:ve;if(G.keepDefaultValues||(s=re),!G.keepValues){if(G.keepDirtyValues){const pe=new Set([...u.mount,...Object.keys(Xl(s,o))]);for(const Ve of Array.from(pe))Se(r.dirtyFields,Ve)?vt(ce,Ve,Se(o,Ve)):se(Ve,Se(ce,Ve))}else{if(Rx&&Bt($))for(const pe of u.mount){const Ve=Se(n,pe);if(Ve&&Ve._f){const Xe=Array.isArray(Ve._f.refs)?Ve._f.refs[0]:Ve._f.ref;if(Nf(Xe)){const $t=Xe.closest("form");if($t){$t.reset();break}}}}if(G.keepFieldsRef)for(const pe of u.mount)se(pe,Se(ce,pe));else n={}}o=e.shouldUnregister?G.keepDefaultValues?er(s):{}:er(ce),v.array.next({values:{...ce}}),v.state.next({values:{...ce}})}u={mount:G.keepDirtyValues?u.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},c.mount=!p.isValid||!!G.keepIsValid||!!G.keepDirtyValues,c.watch=!!e.shouldUnregister,v.state.next({submitCount:G.keepSubmitCount?r.submitCount:0,isDirty:de?!1:G.keepDirty?r.isDirty:!!(G.keepDefaultValues&&!Ls($,s)),isSubmitted:G.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:de?{}:G.keepDirtyValues?G.keepDefaultValues&&o?Xl(s,o):r.dirtyFields:G.keepDefaultValues&&$?Xl(s,$):G.keepDirty?r.dirtyFields:{},touchedFields:G.keepTouched?r.touchedFields:{},errors:G.keepErrors?r.errors:{},isSubmitSuccessful:G.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},st=($,G)=>rt(Zn($)?$(o):$,G),qe=($,G={})=>{const re=Se(n,$),ve=re&&re._f;if(ve){const de=ve.refs?ve.refs[0]:ve.ref;de.focus&&(de.focus(),G.shouldSelect&&Zn(de.select)&&de.select())}},wt=$=>{r={...r,...$}},dt={control:{register:we,unregister:ne,getFieldState:I,handleSubmit:$e,setError:te,_subscribe:xe,_runSchema:O,_focusError:Ee,_getWatch:V,_getDirty:H,_setValid:b,_setFieldArray:N,_setDisabledField:ue,_setErrors:k,_getFieldArray:J,_reset:rt,_resetDefaultValues:()=>Zn(e.defaultValues)&&e.defaultValues().then($=>{st($,e.resetOptions),v.state.next({isLoading:!1})}),_removeUnmounted:M,_disableForm:je,_subjects:v,_proxyFormState:p,get _fields(){return n},get _formValues(){return o},get _state(){return c},set _state($){c=$},get _defaultValues(){return s},get _names(){return u},set _names($){u=$},get _formState(){return r},get _options(){return e},set _options($){e={...e,...$}}},subscribe:_e,trigger:F,register:we,handleSubmit:$e,watch:ie,setValue:se,getValues:K,reset:st,resetField:tt,clearErrors:q,unregister:ne,setError:te,setFocus:qe,getFieldState:I};return{...dt,formControl:dt}}function xR(t={}){const e=Q.useRef(void 0),r=Q.useRef(void 0),[n,s]=Q.useState({isDirty:!1,isValidating:!1,isLoading:Zn(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Zn(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:n},t.defaultValues&&!Zn(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:c,...u}=aH(t);e.current={...u,formState:n}}const o=e.current.control;return o._options=t,Ix(()=>{const c=o._subscribe({formState:o._proxyFormState,callback:()=>s({...o._formState}),reRenderRoot:!0});return s(u=>({...u,isReady:!0})),o._formState.isReady=!0,c},[o]),Q.useEffect(()=>o._disableForm(t.disabled),[o,t.disabled]),Q.useEffect(()=>{t.mode&&(o._options.mode=t.mode),t.reValidateMode&&(o._options.reValidateMode=t.reValidateMode)},[o,t.mode,t.reValidateMode]),Q.useEffect(()=>{t.errors&&(o._setErrors(t.errors),o._focusError())},[o,t.errors]),Q.useEffect(()=>{t.shouldUnregister&&o._subjects.state.next({values:o._getWatch()})},[o,t.shouldUnregister]),Q.useEffect(()=>{if(o._proxyFormState.isDirty){const c=o._getDirty();c!==n.isDirty&&o._subjects.state.next({isDirty:c})}},[o,n.isDirty]),Q.useEffect(()=>{t.values&&!Ls(t.values,r.current)?(o._reset(t.values,{keepFieldsRef:!0,...o._options.resetOptions}),r.current=t.values,s(c=>({...c}))):o._resetDefaultValues()},[o,t.values]),Q.useEffect(()=>{o._state.mount||(o._setValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),e.current.formState=uR(n,o),e.current}const wR=Wq,bR=y.createContext({}),br=({...t})=>a.jsx(bR.Provider,{value:{name:t.name},children:a.jsx(Gq,{...t})}),yh=()=>{const t=y.useContext(bR),e=y.useContext(_R),{getFieldState:r,formState:n}=gh(),s=r(t.name,n);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:o}=e;return{id:o,name:t.name,formItemId:`${o}-form-item`,formDescriptionId:`${o}-form-item-description`,formMessageId:`${o}-form-item-message`,...s}},_R=y.createContext({}),cr=y.forwardRef(({className:t,...e},r)=>{const n=y.useId();return a.jsx(_R.Provider,{value:{id:n},children:a.jsx("div",{ref:r,className:be("space-y-2",t),...e})})});cr.displayName="FormItem";const ur=y.forwardRef(({className:t,...e},r)=>{const{error:n,formItemId:s}=yh();return a.jsx(kt,{ref:r,className:be(n&&"text-destructive",t),htmlFor:s,...e})});ur.displayName="FormLabel";const dr=y.forwardRef(({...t},e)=>{const{error:r,formItemId:n,formDescriptionId:s,formMessageId:o}=yh();return a.jsx(cj,{ref:e,id:n,"aria-describedby":r?`${s} ${o}`:`${s}`,"aria-invalid":!!r,...t})});dr.displayName="FormControl";const lH=y.forwardRef(({className:t,...e},r)=>{const{formDescriptionId:n}=yh();return a.jsx("p",{ref:r,id:n,className:be("text-sm text-muted-foreground",t),...e})});lH.displayName="FormDescription";const fr=y.forwardRef(({className:t,children:e,...r},n)=>{const{error:s,formMessageId:o}=yh(),c=s?String(s?.message):e;return c?a.jsx("p",{ref:n,id:o,className:be("text-sm font-medium text-destructive",t),...r,children:c}):null});fr.displayName="FormMessage";function Pf(t,[e,r]){return Math.min(r,Math.max(e,t))}var cH=[" ","Enter","ArrowUp","ArrowDown"],uH=[" ","Enter"],To="Select",[vh,xh,dH]=Ya(To),[ul]=Sr(To,[dH,el]),wh=el(),[fH,zi]=ul(To),[hH,pH]=ul(To),SR=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:s,onOpenChange:o,value:c,defaultValue:u,onValueChange:f,dir:h,name:p,autoComplete:g,disabled:v,required:w,form:S}=t,b=wh(e),[j,N]=y.useState(null),[E,k]=y.useState(null),[P,A]=y.useState(!1),L=Lo(h),[O,C]=yn({prop:n,defaultProp:s??!1,onChange:o,caller:To}),[R,M]=yn({prop:c,defaultProp:u,onChange:f,caller:To}),H=y.useRef(null),V=j?S||!!j.closest("form"):!0,[J,z]=y.useState(new Set),oe=Array.from(J).map(se=>se.props.value).join(";");return a.jsx(Ek,{...b,children:a.jsxs(fH,{required:w,scope:e,trigger:j,onTriggerChange:N,valueNode:E,onValueNodeChange:k,valueNodeHasChildren:P,onValueNodeHasChildrenChange:A,contentId:Rn(),value:R,onValueChange:M,open:O,onOpenChange:C,dir:L,triggerPointerDownPosRef:H,disabled:v,children:[a.jsx(vh.Provider,{scope:e,children:a.jsx(hH,{scope:t.__scopeSelect,onNativeOptionAdd:y.useCallback(se=>{z(X=>new Set(X).add(se))},[]),onNativeOptionRemove:y.useCallback(se=>{z(X=>{const U=new Set(X);return U.delete(se),U})},[]),children:r})}),V?a.jsxs(KR,{"aria-hidden":!0,required:w,tabIndex:-1,name:p,autoComplete:g,value:R,onChange:se=>M(se.target.value),disabled:v,form:S,children:[R===void 0?a.jsx("option",{value:""}):null,Array.from(J)]},oe):null]})})};SR.displayName=To;var jR="SelectTrigger",kR=y.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...s}=t,o=wh(r),c=zi(jR,r),u=c.disabled||n,f=Ge(e,c.onTriggerChange),h=xh(r),p=y.useRef("touch"),[g,v,w]=YR(b=>{const j=h().filter(k=>!k.disabled),N=j.find(k=>k.value===c.value),E=QR(j,b,N);E!==void 0&&c.onValueChange(E.value)}),S=b=>{u||(c.onOpenChange(!0),w()),b&&(c.triggerPointerDownPosRef.current={x:Math.round(b.pageX),y:Math.round(b.pageY)})};return a.jsx(ev,{asChild:!0,...o,children:a.jsx(Ae.button,{type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:u,"data-disabled":u?"":void 0,"data-placeholder":GR(c.value)?"":void 0,...s,ref:f,onClick:ge(s.onClick,b=>{b.currentTarget.focus(),p.current!=="mouse"&&S(b)}),onPointerDown:ge(s.onPointerDown,b=>{p.current=b.pointerType;const j=b.target;j.hasPointerCapture(b.pointerId)&&j.releasePointerCapture(b.pointerId),b.button===0&&b.ctrlKey===!1&&b.pointerType==="mouse"&&(S(b),b.preventDefault())}),onKeyDown:ge(s.onKeyDown,b=>{const j=g.current!=="";!(b.ctrlKey||b.altKey||b.metaKey)&&b.key.length===1&&v(b.key),!(j&&b.key===" ")&&cH.includes(b.key)&&(S(),b.preventDefault())})})})});kR.displayName=jR;var ER="SelectValue",CR=y.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:s,children:o,placeholder:c="",...u}=t,f=zi(ER,r),{onValueNodeHasChildrenChange:h}=f,p=o!==void 0,g=Ge(e,f.onValueNodeChange);return hr(()=>{h(p)},[h,p]),a.jsx(Ae.span,{...u,ref:g,style:{pointerEvents:"none"},children:GR(f.value)?a.jsx(a.Fragment,{children:c}):o})});CR.displayName=ER;var mH="SelectIcon",NR=y.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...s}=t;return a.jsx(Ae.span,{"aria-hidden":!0,...s,ref:e,children:n||""})});NR.displayName=mH;var gH="SelectPortal",TR=t=>a.jsx($c,{asChild:!0,...t});TR.displayName=gH;var Ro="SelectContent",RR=y.forwardRef((t,e)=>{const r=zi(Ro,t.__scopeSelect),[n,s]=y.useState();if(hr(()=>{s(new DocumentFragment)},[]),!r.open){const o=n;return o?Ga.createPortal(a.jsx(PR,{scope:t.__scopeSelect,children:a.jsx(vh.Slot,{scope:t.__scopeSelect,children:a.jsx("div",{children:t.children})})}),o):null}return a.jsx(AR,{...t,ref:e})});RR.displayName=Ro;var Kn=10,[PR,Wi]=ul(Ro),yH="SelectContentImpl",vH=wo("SelectContent.RemoveScroll"),AR=y.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:c,side:u,sideOffset:f,align:h,alignOffset:p,arrowPadding:g,collisionBoundary:v,collisionPadding:w,sticky:S,hideWhenDetached:b,avoidCollisions:j,...N}=t,E=zi(Ro,r),[k,P]=y.useState(null),[A,L]=y.useState(null),O=Ge(e,ne=>P(ne)),[C,R]=y.useState(null),[M,H]=y.useState(null),V=xh(r),[J,z]=y.useState(!1),oe=y.useRef(!1);y.useEffect(()=>{if(k)return Xv(k)},[k]),Yv();const se=y.useCallback(ne=>{const[ue,...we]=V().map($e=>$e.ref.current),[Ee]=we.slice(-1),je=document.activeElement;for(const $e of ne)if($e===je||($e?.scrollIntoView({block:"nearest"}),$e===ue&&A&&(A.scrollTop=0),$e===Ee&&A&&(A.scrollTop=A.scrollHeight),$e?.focus(),document.activeElement!==je))return},[V,A]),X=y.useCallback(()=>se([C,k]),[se,C,k]);y.useEffect(()=>{J&&X()},[J,X]);const{onOpenChange:U,triggerPointerDownPosRef:F}=E;y.useEffect(()=>{if(k){let ne={x:0,y:0};const ue=Ee=>{ne={x:Math.abs(Math.round(Ee.pageX)-(F.current?.x??0)),y:Math.abs(Math.round(Ee.pageY)-(F.current?.y??0))}},we=Ee=>{ne.x<=10&&ne.y<=10?Ee.preventDefault():k.contains(Ee.target)||U(!1),document.removeEventListener("pointermove",ue),F.current=null};return F.current!==null&&(document.addEventListener("pointermove",ue),document.addEventListener("pointerup",we,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ue),document.removeEventListener("pointerup",we,{capture:!0})}}},[k,U,F]),y.useEffect(()=>{const ne=()=>U(!1);return window.addEventListener("blur",ne),window.addEventListener("resize",ne),()=>{window.removeEventListener("blur",ne),window.removeEventListener("resize",ne)}},[U]);const[K,I]=YR(ne=>{const ue=V().filter(je=>!je.disabled),we=ue.find(je=>je.ref.current===document.activeElement),Ee=QR(ue,ne,we);Ee&&setTimeout(()=>Ee.ref.current.focus())}),q=y.useCallback((ne,ue,we)=>{const Ee=!oe.current&&!we;(E.value!==void 0&&E.value===ue||Ee)&&(R(ne),Ee&&(oe.current=!0))},[E.value]),te=y.useCallback(()=>k?.focus(),[k]),ie=y.useCallback((ne,ue,we)=>{const Ee=!oe.current&&!we;(E.value!==void 0&&E.value===ue||Ee)&&H(ne)},[E.value]),xe=n==="popper"?yy:OR,_e=xe===yy?{side:u,sideOffset:f,align:h,alignOffset:p,arrowPadding:g,collisionBoundary:v,collisionPadding:w,sticky:S,hideWhenDetached:b,avoidCollisions:j}:{};return a.jsx(PR,{scope:r,content:k,viewport:A,onViewportChange:L,itemRefCallback:q,selectedItem:C,onItemLeave:te,itemTextRefCallback:ie,focusSelectedItem:X,selectedItemText:M,position:n,isPositioned:J,searchRef:K,children:a.jsx(rh,{as:vH,allowPinchZoom:!0,children:a.jsx(eh,{asChild:!0,trapped:E.open,onMountAutoFocus:ne=>{ne.preventDefault()},onUnmountAutoFocus:ge(s,ne=>{E.trigger?.focus({preventScroll:!0}),ne.preventDefault()}),children:a.jsx(Qa,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:c,onFocusOutside:ne=>ne.preventDefault(),onDismiss:()=>E.onOpenChange(!1),children:a.jsx(xe,{role:"listbox",id:E.contentId,"data-state":E.open?"open":"closed",dir:E.dir,onContextMenu:ne=>ne.preventDefault(),...N,..._e,onPlaced:()=>z(!0),ref:O,style:{display:"flex",flexDirection:"column",outline:"none",...N.style},onKeyDown:ge(N.onKeyDown,ne=>{const ue=ne.ctrlKey||ne.altKey||ne.metaKey;if(ne.key==="Tab"&&ne.preventDefault(),!ue&&ne.key.length===1&&I(ne.key),["ArrowUp","ArrowDown","Home","End"].includes(ne.key)){let Ee=V().filter(je=>!je.disabled).map(je=>je.ref.current);if(["ArrowUp","End"].includes(ne.key)&&(Ee=Ee.slice().reverse()),["ArrowUp","ArrowDown"].includes(ne.key)){const je=ne.target,$e=Ee.indexOf(je);Ee=Ee.slice($e+1)}setTimeout(()=>se(Ee)),ne.preventDefault()}})})})})})})});AR.displayName=yH;var xH="SelectItemAlignedPosition",OR=y.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...s}=t,o=zi(Ro,r),c=Wi(Ro,r),[u,f]=y.useState(null),[h,p]=y.useState(null),g=Ge(e,O=>p(O)),v=xh(r),w=y.useRef(!1),S=y.useRef(!0),{viewport:b,selectedItem:j,selectedItemText:N,focusSelectedItem:E}=c,k=y.useCallback(()=>{if(o.trigger&&o.valueNode&&u&&h&&b&&j&&N){const O=o.trigger.getBoundingClientRect(),C=h.getBoundingClientRect(),R=o.valueNode.getBoundingClientRect(),M=N.getBoundingClientRect();if(o.dir!=="rtl"){const je=M.left-C.left,$e=R.left-je,tt=O.left-$e,rt=O.width+tt,st=Math.max(rt,C.width),qe=window.innerWidth-Kn,wt=Pf($e,[Kn,Math.max(Kn,qe-st)]);u.style.minWidth=rt+"px",u.style.left=wt+"px"}else{const je=C.right-M.right,$e=window.innerWidth-R.right-je,tt=window.innerWidth-O.right-$e,rt=O.width+tt,st=Math.max(rt,C.width),qe=window.innerWidth-Kn,wt=Pf($e,[Kn,Math.max(Kn,qe-st)]);u.style.minWidth=rt+"px",u.style.right=wt+"px"}const H=v(),V=window.innerHeight-Kn*2,J=b.scrollHeight,z=window.getComputedStyle(h),oe=parseInt(z.borderTopWidth,10),se=parseInt(z.paddingTop,10),X=parseInt(z.borderBottomWidth,10),U=parseInt(z.paddingBottom,10),F=oe+se+J+U+X,K=Math.min(j.offsetHeight*5,F),I=window.getComputedStyle(b),q=parseInt(I.paddingTop,10),te=parseInt(I.paddingBottom,10),ie=O.top+O.height/2-Kn,xe=V-ie,_e=j.offsetHeight/2,ne=j.offsetTop+_e,ue=oe+se+ne,we=F-ue;if(ue<=ie){const je=H.length>0&&j===H[H.length-1].ref.current;u.style.bottom="0px";const $e=h.clientHeight-b.offsetTop-b.offsetHeight,tt=Math.max(xe,_e+(je?te:0)+$e+X),rt=ue+tt;u.style.height=rt+"px"}else{const je=H.length>0&&j===H[0].ref.current;u.style.top="0px";const tt=Math.max(ie,oe+b.offsetTop+(je?q:0)+_e)+we;u.style.height=tt+"px",b.scrollTop=ue-ie+b.offsetTop}u.style.margin=`${Kn}px 0`,u.style.minHeight=K+"px",u.style.maxHeight=V+"px",n?.(),requestAnimationFrame(()=>w.current=!0)}},[v,o.trigger,o.valueNode,u,h,b,j,N,o.dir,n]);hr(()=>k(),[k]);const[P,A]=y.useState();hr(()=>{h&&A(window.getComputedStyle(h).zIndex)},[h]);const L=y.useCallback(O=>{O&&S.current===!0&&(k(),E?.(),S.current=!1)},[k,E]);return a.jsx(bH,{scope:r,contentWrapper:u,shouldExpandOnScrollRef:w,onScrollButtonChange:L,children:a.jsx("div",{ref:f,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:P},children:a.jsx(Ae.div,{...s,ref:g,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});OR.displayName=xH;var wH="SelectPopperPosition",yy=y.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=Kn,...o}=t,c=wh(r);return a.jsx(tv,{...c,...o,ref:e,align:n,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});yy.displayName=wH;var[bH,Lx]=ul(Ro,{}),vy="SelectViewport",IR=y.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...s}=t,o=Wi(vy,r),c=Lx(vy,r),u=Ge(e,o.onViewportChange),f=y.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),a.jsx(vh.Slot,{scope:r,children:a.jsx(Ae.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:u,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:ge(s.onScroll,h=>{const p=h.currentTarget,{contentWrapper:g,shouldExpandOnScrollRef:v}=c;if(v?.current&&g){const w=Math.abs(f.current-p.scrollTop);if(w>0){const S=window.innerHeight-Kn*2,b=parseFloat(g.style.minHeight),j=parseFloat(g.style.height),N=Math.max(b,j);if(N<S){const E=N+w,k=Math.min(S,E),P=E-k;g.style.height=k+"px",g.style.bottom==="0px"&&(p.scrollTop=P>0?P:0,g.style.justifyContent="flex-end")}}}f.current=p.scrollTop})})})]})});IR.displayName=vy;var MR="SelectGroup",[_H,SH]=ul(MR),jH=y.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=Rn();return a.jsx(_H,{scope:r,id:s,children:a.jsx(Ae.div,{role:"group","aria-labelledby":s,...n,ref:e})})});jH.displayName=MR;var DR="SelectLabel",LR=y.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=SH(DR,r);return a.jsx(Ae.div,{id:s.id,...n,ref:e})});LR.displayName=DR;var Af="SelectItem",[kH,FR]=ul(Af),$R=y.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:o,...c}=t,u=zi(Af,r),f=Wi(Af,r),h=u.value===n,[p,g]=y.useState(o??""),[v,w]=y.useState(!1),S=Ge(e,E=>f.itemRefCallback?.(E,n,s)),b=Rn(),j=y.useRef("touch"),N=()=>{s||(u.onValueChange(n),u.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(kH,{scope:r,value:n,disabled:s,textId:b,isSelected:h,onItemTextChange:y.useCallback(E=>{g(k=>k||(E?.textContent??"").trim())},[]),children:a.jsx(vh.ItemSlot,{scope:r,value:n,disabled:s,textValue:p,children:a.jsx(Ae.div,{role:"option","aria-labelledby":b,"data-highlighted":v?"":void 0,"aria-selected":h&&v,"data-state":h?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...c,ref:S,onFocus:ge(c.onFocus,()=>w(!0)),onBlur:ge(c.onBlur,()=>w(!1)),onClick:ge(c.onClick,()=>{j.current!=="mouse"&&N()}),onPointerUp:ge(c.onPointerUp,()=>{j.current==="mouse"&&N()}),onPointerDown:ge(c.onPointerDown,E=>{j.current=E.pointerType}),onPointerMove:ge(c.onPointerMove,E=>{j.current=E.pointerType,s?f.onItemLeave?.():j.current==="mouse"&&E.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ge(c.onPointerLeave,E=>{E.currentTarget===document.activeElement&&f.onItemLeave?.()}),onKeyDown:ge(c.onKeyDown,E=>{f.searchRef?.current!==""&&E.key===" "||(uH.includes(E.key)&&N(),E.key===" "&&E.preventDefault())})})})})});$R.displayName=Af;var oc="SelectItemText",VR=y.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:s,...o}=t,c=zi(oc,r),u=Wi(oc,r),f=FR(oc,r),h=pH(oc,r),[p,g]=y.useState(null),v=Ge(e,N=>g(N),f.onItemTextChange,N=>u.itemTextRefCallback?.(N,f.value,f.disabled)),w=p?.textContent,S=y.useMemo(()=>a.jsx("option",{value:f.value,disabled:f.disabled,children:w},f.value),[f.disabled,f.value,w]),{onNativeOptionAdd:b,onNativeOptionRemove:j}=h;return hr(()=>(b(S),()=>j(S)),[b,j,S]),a.jsxs(a.Fragment,{children:[a.jsx(Ae.span,{id:f.textId,...o,ref:v}),f.isSelected&&c.valueNode&&!c.valueNodeHasChildren?Ga.createPortal(o.children,c.valueNode):null]})});VR.displayName=oc;var UR="SelectItemIndicator",BR=y.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return FR(UR,r).isSelected?a.jsx(Ae.span,{"aria-hidden":!0,...n,ref:e}):null});BR.displayName=UR;var xy="SelectScrollUpButton",zR=y.forwardRef((t,e)=>{const r=Wi(xy,t.__scopeSelect),n=Lx(xy,t.__scopeSelect),[s,o]=y.useState(!1),c=Ge(e,n.onScrollButtonChange);return hr(()=>{if(r.viewport&&r.isPositioned){let u=function(){const h=f.scrollTop>0;o(h)};const f=r.viewport;return u(),f.addEventListener("scroll",u),()=>f.removeEventListener("scroll",u)}},[r.viewport,r.isPositioned]),s?a.jsx(qR,{...t,ref:c,onAutoScroll:()=>{const{viewport:u,selectedItem:f}=r;u&&f&&(u.scrollTop=u.scrollTop-f.offsetHeight)}}):null});zR.displayName=xy;var wy="SelectScrollDownButton",WR=y.forwardRef((t,e)=>{const r=Wi(wy,t.__scopeSelect),n=Lx(wy,t.__scopeSelect),[s,o]=y.useState(!1),c=Ge(e,n.onScrollButtonChange);return hr(()=>{if(r.viewport&&r.isPositioned){let u=function(){const h=f.scrollHeight-f.clientHeight,p=Math.ceil(f.scrollTop)<h;o(p)};const f=r.viewport;return u(),f.addEventListener("scroll",u),()=>f.removeEventListener("scroll",u)}},[r.viewport,r.isPositioned]),s?a.jsx(qR,{...t,ref:c,onAutoScroll:()=>{const{viewport:u,selectedItem:f}=r;u&&f&&(u.scrollTop=u.scrollTop+f.offsetHeight)}}):null});WR.displayName=wy;var qR=y.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=t,o=Wi("SelectScrollButton",r),c=y.useRef(null),u=xh(r),f=y.useCallback(()=>{c.current!==null&&(window.clearInterval(c.current),c.current=null)},[]);return y.useEffect(()=>()=>f(),[f]),hr(()=>{u().find(p=>p.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[u]),a.jsx(Ae.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:ge(s.onPointerDown,()=>{c.current===null&&(c.current=window.setInterval(n,50))}),onPointerMove:ge(s.onPointerMove,()=>{o.onItemLeave?.(),c.current===null&&(c.current=window.setInterval(n,50))}),onPointerLeave:ge(s.onPointerLeave,()=>{f()})})}),EH="SelectSeparator",HR=y.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return a.jsx(Ae.div,{"aria-hidden":!0,...n,ref:e})});HR.displayName=EH;var by="SelectArrow",CH=y.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=wh(r),o=zi(by,r),c=Wi(by,r);return o.open&&c.position==="popper"?a.jsx(rv,{...s,...n,ref:e}):null});CH.displayName=by;var NH="SelectBubbleInput",KR=y.forwardRef(({__scopeSelect:t,value:e,...r},n)=>{const s=y.useRef(null),o=Ge(n,s),c=lh(e);return y.useEffect(()=>{const u=s.current;if(!u)return;const f=window.HTMLSelectElement.prototype,p=Object.getOwnPropertyDescriptor(f,"value").set;if(c!==e&&p){const g=new Event("change",{bubbles:!0});p.call(u,e),u.dispatchEvent(g)}},[c,e]),a.jsx(Ae.select,{...r,style:{...mj,...r.style},ref:o,defaultValue:e})});KR.displayName=NH;function GR(t){return t===""||t===void 0}function YR(t){const e=tn(t),r=y.useRef(""),n=y.useRef(0),s=y.useCallback(c=>{const u=r.current+c;e(u),(function f(h){r.current=h,window.clearTimeout(n.current),h!==""&&(n.current=window.setTimeout(()=>f(""),1e3))})(u)},[e]),o=y.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return y.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,o]}function QR(t,e,r){const s=e.length>1&&Array.from(e).every(h=>h===e[0])?e[0]:e,o=r?t.indexOf(r):-1;let c=TH(t,Math.max(o,0));s.length===1&&(c=c.filter(h=>h!==r));const f=c.find(h=>h.textValue.toLowerCase().startsWith(s.toLowerCase()));return f!==r?f:void 0}function TH(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var RH=SR,ZR=kR,PH=CR,AH=NR,OH=TR,XR=RR,IH=IR,JR=LR,eP=$R,MH=VR,DH=BR,tP=zR,rP=WR,nP=HR;const LH=RH,FH=PH,sP=y.forwardRef(({className:t,children:e,...r},n)=>a.jsxs(ZR,{ref:n,className:be("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[e,a.jsx(AH,{asChild:!0,children:a.jsx(My,{className:"h-4 w-4 opacity-50"})})]}));sP.displayName=ZR.displayName;const iP=y.forwardRef(({className:t,...e},r)=>a.jsx(tP,{ref:r,className:be("flex cursor-default items-center justify-center py-1",t),...e,children:a.jsx(ZI,{className:"h-4 w-4"})}));iP.displayName=tP.displayName;const oP=y.forwardRef(({className:t,...e},r)=>a.jsx(rP,{ref:r,className:be("flex cursor-default items-center justify-center py-1",t),...e,children:a.jsx(My,{className:"h-4 w-4"})}));oP.displayName=rP.displayName;const aP=y.forwardRef(({className:t,children:e,position:r="popper",...n},s)=>a.jsx(OH,{children:a.jsxs(XR,{ref:s,className:be("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[a.jsx(iP,{}),a.jsx(IH,{className:be("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),a.jsx(oP,{})]})}));aP.displayName=XR.displayName;const $H=y.forwardRef(({className:t,...e},r)=>a.jsx(JR,{ref:r,className:be("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));$H.displayName=JR.displayName;const _y=y.forwardRef(({className:t,children:e,...r},n)=>a.jsxs(eP,{ref:n,className:be("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(DH,{children:a.jsx(Ff,{className:"h-4 w-4"})})}),a.jsx(MH,{children:e})]}));_y.displayName=eP.displayName;const VH=y.forwardRef(({className:t,...e},r)=>a.jsx(nP,{ref:r,className:be("-mx-1 my-1 h-px bg-muted",t),...e}));VH.displayName=nP.displayName;const XS=(t,e,r)=>{if(t&&"reportValidity"in t){const n=Se(r,e);t.setCustomValidity(n&&n.message||""),t.reportValidity()}},lP=(t,e)=>{for(const r in e.fields){const n=e.fields[r];n&&n.ref&&"reportValidity"in n.ref?XS(n.ref,r,t):n.refs&&n.refs.forEach(s=>XS(s,r,t))}},UH=(t,e)=>{e.shouldUseNativeValidation&&lP(t,e);const r={};for(const n in t){const s=Se(e.fields,n),o=Object.assign(t[n]||{},{ref:s&&s.ref});if(BH(e.names||Object.keys(t),n)){const c=Object.assign({},Se(r,n));vt(c,"root",o),vt(r,n,c)}else vt(r,n,o)}return r},BH=(t,e)=>t.some(r=>r.startsWith(e+"."));var zH=function(t,e){for(var r={};t.length;){var n=t[0],s=n.code,o=n.message,c=n.path.join(".");if(!r[c])if("unionErrors"in n){var u=n.unionErrors[0].errors[0];r[c]={message:u.message,type:u.code}}else r[c]={message:o,type:s};if("unionErrors"in n&&n.unionErrors.forEach(function(p){return p.errors.forEach(function(g){return t.push(g)})}),e){var f=r[c].types,h=f&&f[n.code];r[c]=fR(c,e,r,s,h?[].concat(h,n.message):n.message)}t.shift()}return r},cP=function(t,e,r){return r===void 0&&(r={}),function(n,s,o){try{return Promise.resolve((function(c,u){try{var f=Promise.resolve(t[r.mode==="sync"?"parse":"parseAsync"](n,e)).then(function(h){return o.shouldUseNativeValidation&&lP({},o),{errors:{},values:r.raw?n:h}})}catch(h){return u(h)}return f&&f.then?f.then(void 0,u):f})(0,function(c){if((function(u){return Array.isArray(u?.errors)})(c))return{values:{},errors:UH(zH(c.errors,!o.shouldUseNativeValidation&&o.criteriaMode==="all"),o)};throw c}))}catch(c){return Promise.reject(c)}}};const WH=()=>{const[t,e]=y.useState(!1),{toast:r}=js();return{fetchLegoData:async s=>{e(!0);try{const{data:o,error:c}=await Ye.functions.invoke("fetch-lego-data",{body:{set_number:s}});if(c)throw c;return r({title:"Datos obtenidos",description:`Se han recuperado los datos del set ${s}`}),o}catch(o){return console.error("Error fetching LEGO data:",o),r({title:"Error",description:"No se pudieron obtener los datos de Rebrickable",variant:"destructive"}),null}finally{e(!1)}},isLoading:t}};var Kd={exports:{}};var qH=Kd.exports,JS;function HH(){return JS||(JS=1,(function(t,e){((r,n)=>{t.exports=n()})(qH,function r(){var n=typeof self<"u"?self:typeof window<"u"?window:n!==void 0?n:{},s,o=!n.document&&!!n.postMessage,c=n.IS_PAPA_WORKER||!1,u={},f=0,h={};function p(C){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(R){var M=A(R);M.chunkSize=parseInt(M.chunkSize),R.step||R.chunk||(M.chunkSize=null),this._handle=new b(M),(this._handle.streamer=this)._config=M}).call(this,C),this.parseChunk=function(R,M){var H=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<H){let J=this._config.newline;J||(V=this._config.quoteChar||'"',J=this._handle.guessLineEndings(R,V)),R=[...R.split(J).slice(H)].join(J)}this.isFirstChunk&&O(this._config.beforeFirstChunk)&&(V=this._config.beforeFirstChunk(R))!==void 0&&(R=V),this.isFirstChunk=!1,this._halted=!1;var H=this._partialLine+R,V=(this._partialLine="",this._handle.parse(H,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(R=V.meta.cursor,H=(this._finished||(this._partialLine=H.substring(R-this._baseIndex),this._baseIndex=R),V&&V.data&&(this._rowCount+=V.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),c)n.postMessage({results:V,workerId:h.WORKER_ID,finished:H});else if(O(this._config.chunk)&&!M){if(this._config.chunk(V,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=V=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(V.data),this._completeResults.errors=this._completeResults.errors.concat(V.errors),this._completeResults.meta=V.meta),this._completed||!H||!O(this._config.complete)||V&&V.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),H||V&&V.meta.paused||this._nextChunk(),V}this._halted=!0},this._sendError=function(R){O(this._config.error)?this._config.error(R):c&&this._config.error&&n.postMessage({workerId:h.WORKER_ID,error:R,finished:!1})}}function g(C){var R;(C=C||{}).chunkSize||(C.chunkSize=h.RemoteChunkSize),p.call(this,C),this._nextChunk=o?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(M){this._input=M,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(R=new XMLHttpRequest,this._config.withCredentials&&(R.withCredentials=this._config.withCredentials),o||(R.onload=L(this._chunkLoaded,this),R.onerror=L(this._chunkError,this)),R.open(this._config.downloadRequestBody?"POST":"GET",this._input,!o),this._config.downloadRequestHeaders){var M,H=this._config.downloadRequestHeaders;for(M in H)R.setRequestHeader(M,H[M])}var V;this._config.chunkSize&&(V=this._start+this._config.chunkSize-1,R.setRequestHeader("Range","bytes="+this._start+"-"+V));try{R.send(this._config.downloadRequestBody)}catch(J){this._chunkError(J.message)}o&&R.status===0&&this._chunkError()}},this._chunkLoaded=function(){R.readyState===4&&(R.status<200||400<=R.status?this._chunkError():(this._start+=this._config.chunkSize||R.responseText.length,this._finished=!this._config.chunkSize||this._start>=(M=>(M=M.getResponseHeader("Content-Range"))!==null?parseInt(M.substring(M.lastIndexOf("/")+1)):-1)(R),this.parseChunk(R.responseText)))},this._chunkError=function(M){M=R.statusText||M,this._sendError(new Error(M))}}function v(C){(C=C||{}).chunkSize||(C.chunkSize=h.LocalChunkSize),p.call(this,C);var R,M,H=typeof FileReader<"u";this.stream=function(V){this._input=V,M=V.slice||V.webkitSlice||V.mozSlice,H?((R=new FileReader).onload=L(this._chunkLoaded,this),R.onerror=L(this._chunkError,this)):R=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var V=this._input,J=(this._config.chunkSize&&(J=Math.min(this._start+this._config.chunkSize,this._input.size),V=M.call(V,this._start,J)),R.readAsText(V,this._config.encoding));H||this._chunkLoaded({target:{result:J}})},this._chunkLoaded=function(V){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(V.target.result)},this._chunkError=function(){this._sendError(R.error)}}function w(C){var R;p.call(this,C=C||{}),this.stream=function(M){return R=M,this._nextChunk()},this._nextChunk=function(){var M,H;if(!this._finished)return M=this._config.chunkSize,R=M?(H=R.substring(0,M),R.substring(M)):(H=R,""),this._finished=!R,this.parseChunk(H)}}function S(C){p.call(this,C=C||{});var R=[],M=!0,H=!1;this.pause=function(){p.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){p.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(V){this._input=V,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){H&&R.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),R.length?this.parseChunk(R.shift()):M=!0},this._streamData=L(function(V){try{R.push(typeof V=="string"?V:V.toString(this._config.encoding)),M&&(M=!1,this._checkIsFinished(),this.parseChunk(R.shift()))}catch(J){this._streamError(J)}},this),this._streamError=L(function(V){this._streamCleanUp(),this._sendError(V)},this),this._streamEnd=L(function(){this._streamCleanUp(),H=!0,this._streamData("")},this),this._streamCleanUp=L(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function b(C){var R,M,H,V,J=Math.pow(2,53),z=-J,oe=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,se=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,X=this,U=0,F=0,K=!1,I=!1,q=[],te={data:[],errors:[],meta:{}};function ie(ue){return C.skipEmptyLines==="greedy"?ue.join("").trim()==="":ue.length===1&&ue[0].length===0}function xe(){if(te&&H&&(ne("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+h.DefaultDelimiter+"'"),H=!1),C.skipEmptyLines&&(te.data=te.data.filter(function($e){return!ie($e)})),_e()){let $e=function(tt,rt){O(C.transformHeader)&&(tt=C.transformHeader(tt,rt)),q.push(tt)};var je=$e;if(te)if(Array.isArray(te.data[0])){for(var ue=0;_e()&&ue<te.data.length;ue++)te.data[ue].forEach($e);te.data.splice(0,1)}else te.data.forEach($e)}function we($e,tt){for(var rt=C.header?{}:[],st=0;st<$e.length;st++){var qe=st,wt=$e[st],wt=((at,dt)=>($=>(C.dynamicTypingFunction&&C.dynamicTyping[$]===void 0&&(C.dynamicTyping[$]=C.dynamicTypingFunction($)),(C.dynamicTyping[$]||C.dynamicTyping)===!0))(at)?dt==="true"||dt==="TRUE"||dt!=="false"&&dt!=="FALSE"&&(($=>{if(oe.test($)&&($=parseFloat($),z<$&&$<J))return 1})(dt)?parseFloat(dt):se.test(dt)?new Date(dt):dt===""?null:dt):dt)(qe=C.header?st>=q.length?"__parsed_extra":q[st]:qe,wt=C.transform?C.transform(wt,qe):wt);qe==="__parsed_extra"?(rt[qe]=rt[qe]||[],rt[qe].push(wt)):rt[qe]=wt}return C.header&&(st>q.length?ne("FieldMismatch","TooManyFields","Too many fields: expected "+q.length+" fields but parsed "+st,F+tt):st<q.length&&ne("FieldMismatch","TooFewFields","Too few fields: expected "+q.length+" fields but parsed "+st,F+tt)),rt}var Ee;te&&(C.header||C.dynamicTyping||C.transform)&&(Ee=1,!te.data.length||Array.isArray(te.data[0])?(te.data=te.data.map(we),Ee=te.data.length):te.data=we(te.data,0),C.header&&te.meta&&(te.meta.fields=q),F+=Ee)}function _e(){return C.header&&q.length===0}function ne(ue,we,Ee,je){ue={type:ue,code:we,message:Ee},je!==void 0&&(ue.row=je),te.errors.push(ue)}O(C.step)&&(V=C.step,C.step=function(ue){te=ue,_e()?xe():(xe(),te.data.length!==0&&(U+=ue.data.length,C.preview&&U>C.preview?M.abort():(te.data=te.data[0],V(te,X))))}),this.parse=function(ue,we,Ee){var je=C.quoteChar||'"',je=(C.newline||(C.newline=this.guessLineEndings(ue,je)),H=!1,C.delimiter?O(C.delimiter)&&(C.delimiter=C.delimiter(ue),te.meta.delimiter=C.delimiter):((je=(($e,tt,rt,st,qe)=>{var wt,at,dt,$;qe=qe||[",","	","|",";",h.RECORD_SEP,h.UNIT_SEP];for(var G=0;G<qe.length;G++){for(var re,ve=qe[G],de=0,ce=0,pe=0,Ve=(dt=void 0,new N({comments:st,delimiter:ve,newline:tt,preview:10}).parse($e)),Xe=0;Xe<Ve.data.length;Xe++)rt&&ie(Ve.data[Xe])?pe++:(re=Ve.data[Xe].length,ce+=re,dt===void 0?dt=re:0<re&&(de+=Math.abs(re-dt),dt=re));0<Ve.data.length&&(ce/=Ve.data.length-pe),(at===void 0||de<=at)&&($===void 0||$<ce)&&1.99<ce&&(at=de,wt=ve,$=ce)}return{successful:!!(C.delimiter=wt),bestDelimiter:wt}})(ue,C.newline,C.skipEmptyLines,C.comments,C.delimitersToGuess)).successful?C.delimiter=je.bestDelimiter:(H=!0,C.delimiter=h.DefaultDelimiter),te.meta.delimiter=C.delimiter),A(C));return C.preview&&C.header&&je.preview++,R=ue,M=new N(je),te=M.parse(R,we,Ee),xe(),K?{meta:{paused:!0}}:te||{meta:{paused:!1}}},this.paused=function(){return K},this.pause=function(){K=!0,M.abort(),R=O(C.chunk)?"":R.substring(M.getCharIndex())},this.resume=function(){X.streamer._halted?(K=!1,X.streamer.parseChunk(R,!0)):setTimeout(X.resume,3)},this.aborted=function(){return I},this.abort=function(){I=!0,M.abort(),te.meta.aborted=!0,O(C.complete)&&C.complete(te),R=""},this.guessLineEndings=function($e,je){$e=$e.substring(0,1048576);var je=new RegExp(j(je)+"([^]*?)"+j(je),"gm"),Ee=($e=$e.replace(je,"")).split("\r"),je=$e.split(`
`),$e=1<je.length&&je[0].length<Ee[0].length;if(Ee.length===1||$e)return`
`;for(var tt=0,rt=0;rt<Ee.length;rt++)Ee[rt][0]===`
`&&tt++;return tt>=Ee.length/2?`\r
`:"\r"}}function j(C){return C.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function N(C){var R=(C=C||{}).delimiter,M=C.newline,H=C.comments,V=C.step,J=C.preview,z=C.fastMode,oe=null,se=!1,X=C.quoteChar==null?'"':C.quoteChar,U=X;if(C.escapeChar!==void 0&&(U=C.escapeChar),(typeof R!="string"||-1<h.BAD_DELIMITERS.indexOf(R))&&(R=","),H===R)throw new Error("Comment character same as delimiter");H===!0?H="#":(typeof H!="string"||-1<h.BAD_DELIMITERS.indexOf(H))&&(H=!1),M!==`
`&&M!=="\r"&&M!==`\r
`&&(M=`
`);var F=0,K=!1;this.parse=function(I,q,te){if(typeof I!="string")throw new Error("Input must be a string");var ie=I.length,xe=R.length,_e=M.length,ne=H.length,ue=O(V),we=[],Ee=[],je=[],$e=F=0;if(!I)return de();if(z||z!==!1&&I.indexOf(X)===-1){for(var tt=I.split(M),rt=0;rt<tt.length;rt++){if(je=tt[rt],F+=je.length,rt!==tt.length-1)F+=M.length;else if(te)return de();if(!H||je.substring(0,ne)!==H){if(ue){if(we=[],$(je.split(R)),ce(),K)return de()}else $(je.split(R));if(J&&J<=rt)return we=we.slice(0,J),de(!0)}}return de()}for(var st=I.indexOf(R,F),qe=I.indexOf(M,F),wt=new RegExp(j(U)+j(X),"g"),at=I.indexOf(X,F);;)if(I[F]===X)for(at=F,F++;;){if((at=I.indexOf(X,at+1))===-1)return te||Ee.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:we.length,index:F}),re();if(at===ie-1)return re(I.substring(F,at).replace(wt,X));if(X===U&&I[at+1]===U)at++;else if(X===U||at===0||I[at-1]!==U){st!==-1&&st<at+1&&(st=I.indexOf(R,at+1));var dt=G((qe=qe!==-1&&qe<at+1?I.indexOf(M,at+1):qe)===-1?st:Math.min(st,qe));if(I.substr(at+1+dt,xe)===R){je.push(I.substring(F,at).replace(wt,X)),I[F=at+1+dt+xe]!==X&&(at=I.indexOf(X,F)),st=I.indexOf(R,F),qe=I.indexOf(M,F);break}if(dt=G(qe),I.substring(at+1+dt,at+1+dt+_e)===M){if(je.push(I.substring(F,at).replace(wt,X)),ve(at+1+dt+_e),st=I.indexOf(R,F),at=I.indexOf(X,F),ue&&(ce(),K))return de();if(J&&we.length>=J)return de(!0);break}Ee.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:we.length,index:F}),at++}}else if(H&&je.length===0&&I.substring(F,F+ne)===H){if(qe===-1)return de();F=qe+_e,qe=I.indexOf(M,F),st=I.indexOf(R,F)}else if(st!==-1&&(st<qe||qe===-1))je.push(I.substring(F,st)),F=st+xe,st=I.indexOf(R,F);else{if(qe===-1)break;if(je.push(I.substring(F,qe)),ve(qe+_e),ue&&(ce(),K))return de();if(J&&we.length>=J)return de(!0)}return re();function $(pe){we.push(pe),$e=F}function G(pe){var Ve=0;return Ve=pe!==-1&&(pe=I.substring(at+1,pe))&&pe.trim()===""?pe.length:Ve}function re(pe){return te||(pe===void 0&&(pe=I.substring(F)),je.push(pe),F=ie,$(je),ue&&ce()),de()}function ve(pe){F=pe,$(je),je=[],qe=I.indexOf(M,F)}function de(pe){if(C.header&&!q&&we.length&&!se){var Ve=we[0],Xe=Object.create(null),$t=new Set(Ve);let ir=!1;for(let Pt=0;Pt<Ve.length;Pt++){let pr=Ve[Pt];if(Xe[pr=O(C.transformHeader)?C.transformHeader(pr,Pt):pr]){let jr,kr=Xe[pr];for(;jr=pr+"_"+kr,kr++,$t.has(jr););$t.add(jr),Ve[Pt]=jr,Xe[pr]++,ir=!0,(oe=oe===null?{}:oe)[jr]=pr}else Xe[pr]=1,Ve[Pt]=pr;$t.add(pr)}ir&&console.warn("Duplicate headers found and renamed."),se=!0}return{data:we,errors:Ee,meta:{delimiter:R,linebreak:M,aborted:K,truncated:!!pe,cursor:$e+(q||0),renamedHeaders:oe}}}function ce(){V(de()),we=[],Ee=[]}},this.abort=function(){K=!0},this.getCharIndex=function(){return F}}function E(C){var R=C.data,M=u[R.workerId],H=!1;if(R.error)M.userError(R.error,R.file);else if(R.results&&R.results.data){var V={abort:function(){H=!0,k(R.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:P,resume:P};if(O(M.userStep)){for(var J=0;J<R.results.data.length&&(M.userStep({data:R.results.data[J],errors:R.results.errors,meta:R.results.meta},V),!H);J++);delete R.results}else O(M.userChunk)&&(M.userChunk(R.results,V,R.file),delete R.results)}R.finished&&!H&&k(R.workerId,R.results)}function k(C,R){var M=u[C];O(M.userComplete)&&M.userComplete(R),M.terminate(),delete u[C]}function P(){throw new Error("Not implemented.")}function A(C){if(typeof C!="object"||C===null)return C;var R,M=Array.isArray(C)?[]:{};for(R in C)M[R]=A(C[R]);return M}function L(C,R){return function(){C.apply(R,arguments)}}function O(C){return typeof C=="function"}return h.parse=function(C,R){var M=(R=R||{}).dynamicTyping||!1;if(O(M)&&(R.dynamicTypingFunction=M,M={}),R.dynamicTyping=M,R.transform=!!O(R.transform)&&R.transform,!R.worker||!h.WORKERS_SUPPORTED)return M=null,h.NODE_STREAM_INPUT,typeof C=="string"?(C=(H=>H.charCodeAt(0)!==65279?H:H.slice(1))(C),M=new(R.download?g:w)(R)):C.readable===!0&&O(C.read)&&O(C.on)?M=new S(R):(n.File&&C instanceof File||C instanceof Object)&&(M=new v(R)),M.stream(C);(M=(()=>{var H;return!!h.WORKERS_SUPPORTED&&(H=(()=>{var V=n.URL||n.webkitURL||null,J=r.toString();return h.BLOB_URL||(h.BLOB_URL=V.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",J,")();"],{type:"text/javascript"})))})(),(H=new n.Worker(H)).onmessage=E,H.id=f++,u[H.id]=H)})()).userStep=R.step,M.userChunk=R.chunk,M.userComplete=R.complete,M.userError=R.error,R.step=O(R.step),R.chunk=O(R.chunk),R.complete=O(R.complete),R.error=O(R.error),delete R.worker,M.postMessage({input:C,config:R,workerId:M.id})},h.unparse=function(C,R){var M=!1,H=!0,V=",",J=`\r
`,z='"',oe=z+z,se=!1,X=null,U=!1,F=((()=>{if(typeof R=="object"){if(typeof R.delimiter!="string"||h.BAD_DELIMITERS.filter(function(q){return R.delimiter.indexOf(q)!==-1}).length||(V=R.delimiter),typeof R.quotes!="boolean"&&typeof R.quotes!="function"&&!Array.isArray(R.quotes)||(M=R.quotes),typeof R.skipEmptyLines!="boolean"&&typeof R.skipEmptyLines!="string"||(se=R.skipEmptyLines),typeof R.newline=="string"&&(J=R.newline),typeof R.quoteChar=="string"&&(z=R.quoteChar),typeof R.header=="boolean"&&(H=R.header),Array.isArray(R.columns)){if(R.columns.length===0)throw new Error("Option columns is empty");X=R.columns}R.escapeChar!==void 0&&(oe=R.escapeChar+z),R.escapeFormulae instanceof RegExp?U=R.escapeFormulae:typeof R.escapeFormulae=="boolean"&&R.escapeFormulae&&(U=/^[=+\-@\t\r].*$/)}})(),new RegExp(j(z),"g"));if(typeof C=="string"&&(C=JSON.parse(C)),Array.isArray(C)){if(!C.length||Array.isArray(C[0]))return K(null,C,se);if(typeof C[0]=="object")return K(X||Object.keys(C[0]),C,se)}else if(typeof C=="object")return typeof C.data=="string"&&(C.data=JSON.parse(C.data)),Array.isArray(C.data)&&(C.fields||(C.fields=C.meta&&C.meta.fields||X),C.fields||(C.fields=Array.isArray(C.data[0])?C.fields:typeof C.data[0]=="object"?Object.keys(C.data[0]):[]),Array.isArray(C.data[0])||typeof C.data[0]=="object"||(C.data=[C.data])),K(C.fields||[],C.data||[],se);throw new Error("Unable to serialize unrecognized input");function K(q,te,ie){var xe="",_e=(typeof q=="string"&&(q=JSON.parse(q)),typeof te=="string"&&(te=JSON.parse(te)),Array.isArray(q)&&0<q.length),ne=!Array.isArray(te[0]);if(_e&&H){for(var ue=0;ue<q.length;ue++)0<ue&&(xe+=V),xe+=I(q[ue],ue);0<te.length&&(xe+=J)}for(var we=0;we<te.length;we++){var Ee=(_e?q:te[we]).length,je=!1,$e=_e?Object.keys(te[we]).length===0:te[we].length===0;if(ie&&!_e&&(je=ie==="greedy"?te[we].join("").trim()==="":te[we].length===1&&te[we][0].length===0),ie==="greedy"&&_e){for(var tt=[],rt=0;rt<Ee;rt++){var st=ne?q[rt]:rt;tt.push(te[we][st])}je=tt.join("").trim()===""}if(!je){for(var qe=0;qe<Ee;qe++){0<qe&&!$e&&(xe+=V);var wt=_e&&ne?q[qe]:qe;xe+=I(te[we][wt],qe)}we<te.length-1&&(!ie||0<Ee&&!$e)&&(xe+=J)}}return xe}function I(q,te){var ie,xe;return q==null?"":q.constructor===Date?JSON.stringify(q).slice(1,25):(xe=!1,U&&typeof q=="string"&&U.test(q)&&(q="'"+q,xe=!0),ie=q.toString().replace(F,oe),(xe=xe||M===!0||typeof M=="function"&&M(q,te)||Array.isArray(M)&&M[te]||((_e,ne)=>{for(var ue=0;ue<ne.length;ue++)if(-1<_e.indexOf(ne[ue]))return!0;return!1})(ie,h.BAD_DELIMITERS)||-1<ie.indexOf(V)||ie.charAt(0)===" "||ie.charAt(ie.length-1)===" ")?z+ie+z:ie)}},h.RECORD_SEP="",h.UNIT_SEP="",h.BYTE_ORDER_MARK="\uFEFF",h.BAD_DELIMITERS=["\r",`
`,'"',h.BYTE_ORDER_MARK],h.WORKERS_SUPPORTED=!o&&!!n.Worker,h.NODE_STREAM_INPUT=1,h.LocalChunkSize=10485760,h.RemoteChunkSize=5242880,h.DefaultDelimiter=",",h.Parser=N,h.ParserHandle=b,h.NetworkStreamer=g,h.FileStreamer=v,h.StringStreamer=w,h.ReadableStreamStreamer=S,n.jQuery&&((s=n.jQuery).fn.parse=function(C){var R=C.config||{},M=[];return this.each(function(J){if(!(s(this).prop("tagName").toUpperCase()==="INPUT"&&s(this).attr("type").toLowerCase()==="file"&&n.FileReader)||!this.files||this.files.length===0)return!0;for(var z=0;z<this.files.length;z++)M.push({file:this.files[z],inputElem:this,instanceConfig:s.extend({},R)})}),H(),this;function H(){if(M.length===0)O(C.complete)&&C.complete();else{var J,z,oe,se,X=M[0];if(O(C.before)){var U=C.before(X.file,X.inputElem);if(typeof U=="object"){if(U.action==="abort")return J="AbortError",z=X.file,oe=X.inputElem,se=U.reason,void(O(C.error)&&C.error({name:J},z,oe,se));if(U.action==="skip")return void V();typeof U.config=="object"&&(X.instanceConfig=s.extend(X.instanceConfig,U.config))}else if(U==="skip")return void V()}var F=X.instanceConfig.complete;X.instanceConfig.complete=function(K){O(F)&&F(K,X.file,X.inputElem),V()},h.parse(X.file,X.instanceConfig)}}function V(){M.splice(0,1),H()}}),c&&(n.onmessage=function(C){C=C.data,h.WORKER_ID===void 0&&C&&(h.WORKER_ID=C.workerId),typeof C.input=="string"?n.postMessage({workerId:h.WORKER_ID,results:h.parse(C.input,C.config),finished:!0}):(n.File&&C.input instanceof File||C.input instanceof Object)&&(C=h.parse(C.input,C.config))&&n.postMessage({workerId:h.WORKER_ID,results:C,finished:!0})}),(g.prototype=Object.create(p.prototype)).constructor=g,(v.prototype=Object.create(p.prototype)).constructor=v,(w.prototype=Object.create(w.prototype)).constructor=w,(S.prototype=Object.create(p.prototype)).constructor=S,h})})(Kd)),Kd.exports}var KH=HH();const uP=If(KH),GH=kx({set_name:rr().min(1,"Name is required"),set_ref:rr().optional(),set_description:rr().optional(),set_theme:rr().min(1,"Theme is required"),set_age_range:rr().min(1,"Age range is required"),set_piece_count:Id.number().min(1,"Piece count must be at least 1"),set_image_url:rr().url().optional().or(gc("")),skill_boost:rr().optional(),year_released:Id.number().min(1900,"Valid year required").optional(),set_weight:Id.number().optional().or(gc(0)),set_minifigs:Id.number().optional().or(gc(0)),set_dim:rr().optional(),catalogue_visibility:rr().default("yes")}),YH=()=>{const[t,e]=y.useState(!1),[r,n]=y.useState(null),s=Oo(),{fetchLegoData:o,isLoading:c}=WH(),u=xR({resolver:cP(GH),defaultValues:{set_name:"",set_ref:"",set_description:"",set_theme:"",set_age_range:"",set_piece_count:0,set_image_url:"",skill_boost:"",year_released:new Date().getFullYear(),set_weight:0,set_minifigs:0,set_dim:"",catalogue_visibility:"yes"}}),{data:f,isLoading:h}=Io({queryKey:["admin-sets"],queryFn:async()=>{const{data:k,error:P}=await Ye.from("sets").select(`
          *,
          inventory_sets (
            inventory_set_total_qty
          )
        `).order("created_at",{ascending:!1});if(P)throw P;return k}}),p=xs({mutationFn:async k=>{const P=k.skill_boost?k.skill_boost.split(",").map(L=>L.trim()):null,{error:A}=await Ye.from("sets").insert({set_name:k.set_name,set_ref:k.set_ref||null,set_description:k.set_description||null,set_theme:k.set_theme,set_age_range:k.set_age_range,set_piece_count:k.set_piece_count,set_image_url:k.set_image_url||null,skill_boost:P,year_released:k.year_released,set_weight:k.set_weight||null,set_minifigs:k.set_minifigs||null,set_dim:k.set_dim||null,catalogue_visibility:k.catalogue_visibility==="yes"});if(A)throw A},onSuccess:()=>{s.invalidateQueries({queryKey:["admin-sets"]}),it.success("Set created successfully"),e(!1),u.reset()},onError:k=>{it.error("Failed to create set: "+k.message)}}),g=xs({mutationFn:async({id:k,data:P})=>{const A=P.skill_boost?P.skill_boost.split(",").map(O=>O.trim()):null,{error:L}=await Ye.from("sets").update({set_name:P.set_name,set_ref:P.set_ref||null,set_description:P.set_description||null,set_theme:P.set_theme,set_age_range:P.set_age_range,set_piece_count:P.set_piece_count,set_image_url:P.set_image_url||null,skill_boost:A,year_released:P.year_released,set_weight:P.set_weight||null,set_minifigs:P.set_minifigs||null,set_dim:P.set_dim||null,catalogue_visibility:P.catalogue_visibility==="yes"}).eq("id",k);if(L)throw L},onSuccess:()=>{s.invalidateQueries({queryKey:["admin-sets"]}),it.success("Set updated successfully"),e(!1),n(null),u.reset()},onError:k=>{it.error("Failed to update set: "+k.message)}}),v=xs({mutationFn:async k=>{const{error:P}=await Ye.from("sets").delete().eq("id",k);if(P)throw P},onSuccess:()=>{s.invalidateQueries({queryKey:["admin-sets"]}),it.success("Set deleted successfully")},onError:k=>{it.error("Failed to delete set: "+k.message)}}),w=k=>{n(k),u.reset({set_name:k.set_name,set_ref:k.set_ref||"",set_description:k.set_description||"",set_theme:k.set_theme,set_age_range:k.set_age_range,set_piece_count:k.set_piece_count,set_image_url:k.set_image_url||"",skill_boost:k.skill_boost?.join(", ")||"",year_released:k.year_released,set_weight:k.set_weight||0,set_minifigs:k.set_minifigs||0,set_dim:k.set_dim||"",catalogue_visibility:k.catalogue_visibility?"yes":"no"}),e(!0)},S=async()=>{const k=u.getValues("set_ref");if(!k){it.error("Por favor, introduce una referencia de LEGO");return}const P=await o(k);P&&(u.setValue("set_name",P.name||u.getValues("set_name")),u.setValue("set_piece_count",P.piece_count||u.getValues("set_piece_count")),u.setValue("year_released",P.year_released||u.getValues("year_released")),u.setValue("set_image_url",P.image_url||u.getValues("set_image_url")),it.success("Datos autocompletados desde Rebrickable"))},b=y.useRef(null),j=k=>{const P=k.target.files?.[0];P&&(uP.parse(P,{header:!0,skipEmptyLines:!0,complete:async A=>{const L=A.data;if(L.length===0){it.error("El archivo CSV est vaco");return}const O=L.map(R=>R.REF).filter(Boolean);if(O.length>0){const{data:R,error:M}=await Ye.from("sets").select("set_ref").in("set_ref",O);if(M){it.error("Error verificando duplicados: "+M.message);return}if(R&&R.length>0){const H=R.map(V=>V.set_ref).join(", ");it.error(`Set(s) ya en la bb.dd: ${H}`);return}}const C=L.map(R=>({set_name:R.Rebrickable_name||"Unknown Set",set_ref:R.REF||null,set_description:R.Brickset_description||null,set_theme:R.Rebrickable_Theme||"Unknown",set_age_range:R.Brickset_age_range||"N/A",set_piece_count:parseInt(R.bircklink_parts||R.Bricklink_parts)||0,set_image_url:R.Rebrickable_Image_URL||null,set_weight:parseFloat(R["Bricklink_weight(gr)"])||0,set_minifigs:parseInt(R.Bricklink_minifigs)||0,set_dim:R.Bricklink_dim||null,year_released:parseInt(R.Rebrickable_Released)||null,skill_boost:null,catalogue_visibility:!0}));try{const{error:R}=await Ye.from("sets").insert(C);if(R)throw R;it.success(`${C.length} sets importados correctamente`),s.invalidateQueries({queryKey:["admin-sets"]})}catch(R){it.error("Error al importar sets: "+R.message)}},error:A=>{it.error("Error al leer el archivo CSV: "+A.message)}}),b.current&&(b.current.value=""))},N=k=>{r?g.mutate({id:r.id,data:k}):p.mutate(k)},E=()=>{e(!1),n(null),u.reset()};return a.jsxs(Rr,{children:[a.jsxs(ll,{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[a.jsx(cl,{children:"Gestin de Sets LEGO"}),a.jsx("div",{className:"flex gap-4 items-center",children:a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"file",accept:".csv",className:"hidden",ref:b,onChange:j}),a.jsxs(Me,{size:"sm",onClick:()=>b.current?.click(),children:[a.jsx(cM,{className:"h-4 w-4 mr-2"}),"Add Set"]}),a.jsx(xo,{open:t,onOpenChange:e,children:a.jsxs(Ci,{className:"max-w-md max-h-[90vh] overflow-y-auto",children:[a.jsx(Ni,{children:a.jsx(Ti,{children:r?"Edit Set":"Add New Set"})}),a.jsx(wR,{...u,children:a.jsxs("form",{onSubmit:u.handleSubmit(N),className:"space-y-4",children:[a.jsx(br,{control:u.control,name:"set_name",render:({field:k})=>a.jsxs(cr,{children:[a.jsx(ur,{children:"Name"}),a.jsx(dr,{children:a.jsx(ut,{placeholder:"LEGO City Police",...k})}),a.jsx(fr,{})]})}),a.jsx(br,{control:u.control,name:"set_ref",render:({field:k})=>a.jsxs(cr,{children:[a.jsx(ur,{children:"Referencia LEGO"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(dr,{children:a.jsx(ut,{placeholder:"75192",...k})}),a.jsx(Me,{type:"button",variant:"secondary",size:"icon",onClick:S,disabled:c,title:"Autocompletar con Rebrickable",children:c?a.jsx(Yt,{className:"h-4 w-4 animate-spin"}):a.jsx(xM,{className:"h-4 w-4"})})]}),a.jsx(fr,{})]})}),a.jsx(br,{control:u.control,name:"set_description",render:({field:k})=>a.jsxs(cr,{children:[a.jsx(ur,{children:"Description"}),a.jsx(dr,{children:a.jsx(Tx,{placeholder:"A fun police station set...",...k})}),a.jsx(fr,{})]})}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(br,{control:u.control,name:"set_theme",render:({field:k})=>a.jsxs(cr,{children:[a.jsx(ur,{children:"Theme"}),a.jsx(dr,{children:a.jsx(ut,{placeholder:"City",...k})}),a.jsx(fr,{})]})}),a.jsx(br,{control:u.control,name:"set_age_range",render:({field:k})=>a.jsxs(cr,{children:[a.jsx(ur,{children:"Age Range"}),a.jsx(dr,{children:a.jsx(ut,{placeholder:"6-12",...k})}),a.jsx(fr,{})]})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(br,{control:u.control,name:"set_piece_count",render:({field:k})=>a.jsxs(cr,{children:[a.jsx(ur,{children:"Piece Count"}),a.jsx(dr,{children:a.jsx(ut,{type:"number",placeholder:"500",...k})}),a.jsx(fr,{})]})}),a.jsx(br,{control:u.control,name:"year_released",render:({field:k})=>a.jsxs(cr,{children:[a.jsx(ur,{children:"Year Released"}),a.jsx(dr,{children:a.jsx(ut,{type:"number",placeholder:"2023",...k})}),a.jsx(fr,{})]})})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsx(br,{control:u.control,name:"set_weight",render:({field:k})=>a.jsxs(cr,{children:[a.jsx(ur,{children:"Weight (g)"}),a.jsx(dr,{children:a.jsx(ut,{type:"number",placeholder:"1000",...k})}),a.jsx(fr,{})]})}),a.jsx(br,{control:u.control,name:"set_minifigs",render:({field:k})=>a.jsxs(cr,{children:[a.jsx(ur,{children:"Minifigs"}),a.jsx(dr,{children:a.jsx(ut,{type:"number",placeholder:"0",...k})}),a.jsx(fr,{})]})}),a.jsx(br,{control:u.control,name:"set_dim",render:({field:k})=>a.jsxs(cr,{children:[a.jsx(ur,{children:"Dimensions"}),a.jsx(dr,{children:a.jsx(ut,{placeholder:"20x10x5",...k})}),a.jsx(fr,{})]})})]}),a.jsx(br,{control:u.control,name:"catalogue_visibility",render:({field:k})=>a.jsxs(cr,{children:[a.jsx(ur,{children:"Catalogue Visibility"}),a.jsxs(LH,{onValueChange:k.onChange,defaultValue:k.value,value:k.value,children:[a.jsx(dr,{children:a.jsx(sP,{children:a.jsx(FH,{placeholder:"Show in catalogue?"})})}),a.jsxs(aP,{children:[a.jsx(_y,{value:"yes",children:"Yes"}),a.jsx(_y,{value:"no",children:"No"})]})]}),a.jsx(fr,{})]})}),a.jsx(br,{control:u.control,name:"set_image_url",render:({field:k})=>a.jsxs(cr,{children:[a.jsx(ur,{children:"Image URL"}),a.jsx(dr,{children:a.jsx(ut,{placeholder:"https://example.com/image.jpg",...k})}),a.jsx(fr,{})]})}),a.jsx(br,{control:u.control,name:"skill_boost",render:({field:k})=>a.jsxs(cr,{children:[a.jsx(ur,{children:"Skills (comma separated)"}),a.jsx(dr,{children:a.jsx(ut,{placeholder:"Creativity, Problem Solving",...k})}),a.jsx(fr,{})]})}),a.jsxs("div",{className:"flex gap-2 justify-end",children:[a.jsx(Me,{type:"button",variant:"outline",onClick:E,children:"Cancel"}),a.jsx(Me,{type:"submit",disabled:p.isPending||g.isPending,children:r?"Update":"Create"})]})]})})]})})]})})]}),a.jsx(Fr,{children:h?a.jsx("div",{className:"flex justify-center py-8",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):f?.length===0?a.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No sets yet. Add your first LEGO set!"}):a.jsx("div",{className:"max-h-[600px] overflow-y-auto overflow-x-auto",children:a.jsxs($i,{children:[a.jsx(Vi,{className:"sticky top-0 bg-card z-10",children:a.jsxs(Br,{children:[a.jsx(Je,{children:"Ref"}),a.jsx(Je,{children:"Name"}),a.jsx(Je,{children:"Theme"}),a.jsx(Je,{children:"Stock Total"}),a.jsx(Je,{children:"Visible"}),a.jsx(Je,{className:"text-right",children:"Actions"})]})}),a.jsx(Ui,{children:f?.map(k=>a.jsxs(Br,{children:[a.jsx(et,{className:"font-medium",children:k.set_ref||"-"}),a.jsx(et,{children:k.set_name}),a.jsx(et,{children:k.set_theme}),a.jsx(et,{children:k.inventory_sets?.inventory_set_total_qty||0}),a.jsx(et,{children:k.catalogue_visibility?"Yes":"No"}),a.jsx(et,{className:"text-right",children:a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(Me,{variant:"ghost",size:"icon",onClick:()=>w(k),children:a.jsx(Vy,{className:"h-4 w-4"})}),a.jsx(Me,{variant:"ghost",size:"icon",onClick:()=>v.mutate(k.id),disabled:v.isPending,children:a.jsx(zy,{className:"h-4 w-4 text-destructive"})})]})})]},k.id))})]})})})]})},QH=()=>{const{data:t,isLoading:e}=Io({queryKey:["admin-missing-parts"],queryFn:async()=>{const{data:r,error:n}=await Ye.from("operaciones_recepcion").select(`
          id,
          missing_parts,
          created_at,
          sets (
            set_name,
            set_ref
          ),
          users:user_id (
            full_name
          )
        `).not("missing_parts","is",null).neq("missing_parts","").order("created_at",{ascending:!1});if(n)throw n;return r}});return e?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(Yt,{className:"h-8 w-8 animate-spin text-primary"})}):a.jsxs(Rr,{children:[a.jsx(ll,{children:a.jsxs(cl,{className:"text-xl flex items-center gap-2",children:[a.jsx(Dy,{className:"h-5 w-5 text-orange-500"}),"Piezas por Comprar"]})}),a.jsx(Fr,{children:!t||t.length===0?a.jsx("div",{className:"text-center py-12 text-muted-foreground",children:"No hay reportes de piezas faltantes actualmente."}):a.jsx("div",{className:"rounded-md border",children:a.jsxs($i,{children:[a.jsx(Vi,{children:a.jsxs(Br,{children:[a.jsx(Je,{children:"Fecha"}),a.jsx(Je,{children:"Set (Ref)"}),a.jsx(Je,{children:"Usuario que devolvi"}),a.jsx(Je,{children:"Piezas faltantes"}),a.jsx(Je,{children:"Estado"})]})}),a.jsx(Ui,{children:t.map(r=>a.jsxs(Br,{children:[a.jsx(et,{className:"whitespace-nowrap",children:new Date(r.created_at).toLocaleDateString()}),a.jsxs(et,{className:"font-medium",children:[r.sets?.set_name," (",r.sets?.set_ref,")"]}),a.jsx(et,{children:r.users?.full_name||"Desconocido"}),a.jsx(et,{className:"max-w-md",children:a.jsxs("p",{className:"text-sm italic text-muted-foreground break-words",children:['"',r.missing_parts,'"']})}),a.jsx(et,{children:a.jsx($r,{variant:"outline",className:"text-orange-600 border-orange-200 bg-orange-50",children:"Pendiente"})})]},r.id))})]})})})]})},ZH=()=>{const t=Oo(),e=y.useRef(null),[r,n]=y.useState(!1),[s,o]=y.useState(null),{data:c,isLoading:u}=Io({queryKey:["admin-inventory-sets"],queryFn:async()=>{const{data:S,error:b}=await Ye.from("inventory_sets").select(`
          *,
          sets (
            id,
            set_name,
            set_theme,
            set_ref
          )
        `).order("created_at",{ascending:!1});if(b)throw b;return S}}),f=xs({mutationFn:async S=>{const{error:b}=await Ye.from("inventory_sets").delete().eq("id",S);if(b)throw b},onSuccess:()=>{t.invalidateQueries({queryKey:["admin-inventory-sets"]}),it.success("Inventario eliminado correctamente")},onError:S=>{it.error("Error al eliminar inventario: "+S.message)}}),h=xs({mutationFn:async S=>{const{id:b,...j}=S,{error:N}=await Ye.from("inventory_sets").update(j).eq("id",b);if(N)throw N},onSuccess:()=>{t.invalidateQueries({queryKey:["admin-inventory-sets"]}),it.success("Inventario actualizado correctamente"),n(!1),o(null)},onError:S=>{it.error("Error al actualizar inventario: "+S.message)}}),p=S=>{o({...S}),n(!0)},g=()=>{if(!s)return;const{id:S,inventory_set_total_qty:b,en_envio:j,en_uso:N,en_devolucion:E,en_reparacion:k}=s;h.mutate({id:S,inventory_set_total_qty:parseInt(b),en_envio:parseInt(j),en_uso:parseInt(N),en_devolucion:parseInt(E),en_reparacion:parseInt(k)})},v=async S=>{const b=S.target.files?.[0];if(!b)return;const{data:j,error:N}=await Ye.from("sets").select("id, set_ref");if(N){it.error("Error al obtener referencias de LEGO: "+N.message);return}const E=new Map(j.map(k=>[k.set_ref,k.id]));uP.parse(b,{header:!0,skipEmptyLines:!0,complete:async k=>{const P=k.data;if(P.length===0){it.error("El archivo CSV est vaco");return}const A=[...new Set(P.map(O=>O.REF).filter(Boolean))];if(A.length>0){const{data:O,error:C}=await Ye.from("set_piece_list").select("set_ref").in("set_ref",A);if(C){it.error("Error verificando duplicados: "+C.message);return}if(O&&O.length>0){const R=[...new Set(O.map(M=>M.set_ref))].join(", ");it.error(`Inventario ya en la bb.dd para: ${R}`);return}}const L=P.map(O=>{const C=E.get(O.REF);return C?{set_id:C,set_ref:O.REF,piece_ref:O.piece_ref,color_ref:O.bricklink_color,piece_description:O.piece_description,piece_qty:parseInt(O.rebrickable_qty)||0,piece_image_url:O.bricklink_image_piece_url,piece_weight:parseFloat(O["bricklink_piece_weight(gr)"]?.replace(",","."))||0,piece_studdim:O.bricklink_piece_studdim,piece_lego_elementid:O.element_id,bricklink_color_id:O.bricklink_color_id}:(console.warn(`Referencia LEGO no encontrada: ${O.REF}`),null)}).filter(Boolean);if(L.length===0){it.error("No se encontraron sets vlidos en el CSV para importar piezas");return}try{const{error:O}=await Ye.from("set_piece_list").insert(L);if(O)throw O;it.success(`${L.length} piezas importadas correctamente`)}catch(O){it.error("Error al importar piezas: "+O.message)}},error:k=>{it.error("Error al leer el archivo CSV: "+k.message)}}),e.current&&(e.current.value="")},w=S=>S===0?{label:"Sin Stock",variant:"destructive"}:S<5?{label:"Stock bajo",variant:"secondary"}:{label:"Con Stock",variant:"default"};return a.jsxs(Rr,{children:[a.jsxs(ll,{className:"flex flex-row items-center justify-between",children:[a.jsx(cl,{children:"Inventory Management"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"file",accept:".csv",className:"hidden",ref:e,onChange:v}),a.jsxs(Me,{onClick:()=>e.current?.click(),children:[a.jsx(Gj,{className:"h-4 w-4 mr-2"}),"Add Inventory (CSV)"]})]})]}),a.jsx(Fr,{children:u?a.jsx("div",{className:"flex justify-center py-8",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):c?.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Ai,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"No inventory records. Upload a CSV to add stock!"})]}):a.jsx("div",{className:"max-h-[600px] overflow-y-auto overflow-x-auto",children:a.jsxs($i,{children:[a.jsx(Vi,{className:"sticky top-0 bg-card z-10",children:a.jsxs(Br,{children:[a.jsx(Je,{children:"Set (Ref)"}),a.jsx(Je,{className:"text-center",children:"Total"}),a.jsx(Je,{className:"text-center",children:"Envo"}),a.jsx(Je,{className:"text-center",children:"En uso"}),a.jsx(Je,{className:"text-center",children:"Devolucin"}),a.jsx(Je,{className:"text-center",children:"Reparacin"}),a.jsx(Je,{children:"Estado"}),a.jsx(Je,{className:"text-right",children:"Acciones"})]})}),a.jsx(Ui,{children:c?.map(S=>{const b=w(S.inventory_set_total_qty);return a.jsxs(Br,{children:[a.jsxs(et,{className:"font-medium",children:[S.sets?.set_name," (",S.sets?.set_ref,")"]}),a.jsx(et,{className:"text-center",children:S.inventory_set_total_qty}),a.jsx(et,{className:"text-center",children:S.en_envio}),a.jsx(et,{className:"text-center",children:S.en_uso}),a.jsx(et,{className:"text-center",children:S.en_devolucion}),a.jsx(et,{className:"text-center",children:S.en_reparacion}),a.jsx(et,{children:a.jsx($r,{variant:b.variant,children:b.label})}),a.jsx(et,{className:"text-right",children:a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(Me,{variant:"ghost",size:"icon",onClick:()=>p(S),children:a.jsx(Vy,{className:"h-4 w-4"})}),a.jsx(Me,{variant:"ghost",size:"icon",onClick:()=>f.mutate(S.id),disabled:f.isPending,children:a.jsx(zy,{className:"h-4 w-4 text-destructive"})})]})})]},S.id)})})]})})}),a.jsx(xo,{open:r,onOpenChange:n,children:a.jsxs(Ci,{className:"sm:max-w-[425px]",children:[a.jsx(Ni,{children:a.jsx(Ti,{children:"Editar Inventario"})}),a.jsxs("div",{className:"grid gap-4 py-4",children:[a.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[a.jsx(kt,{htmlFor:"total",className:"text-right",children:"Total"}),a.jsx(ut,{id:"total",type:"number",className:"col-span-3",value:s?.inventory_set_total_qty||0,onChange:S=>o({...s,inventory_set_total_qty:S.target.value})})]}),a.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[a.jsx(kt,{htmlFor:"envio",className:"text-right",children:"Envo"}),a.jsx(ut,{id:"envio",type:"number",className:"col-span-3",value:s?.en_envio||0,onChange:S=>o({...s,en_envio:S.target.value})})]}),a.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[a.jsx(kt,{htmlFor:"uso",className:"text-right",children:"En uso"}),a.jsx(ut,{id:"uso",type:"number",className:"col-span-3",value:s?.en_uso||0,onChange:S=>o({...s,en_uso:S.target.value})})]}),a.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[a.jsx(kt,{htmlFor:"devolucion",className:"text-right",children:"Devolucin"}),a.jsx(ut,{id:"devolucion",type:"number",className:"col-span-3",value:s?.en_devolucion||0,onChange:S=>o({...s,en_devolucion:S.target.value})})]}),a.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[a.jsx(kt,{htmlFor:"reparacion",className:"text-right",children:"Reparacin"}),a.jsx(ut,{id:"reparacion",type:"number",className:"col-span-3",value:s?.en_reparacion||0,onChange:S=>o({...s,en_reparacion:S.target.value})})]})]}),a.jsxs(AT,{children:[a.jsx(Me,{variant:"outline",onClick:()=>n(!1),children:"Cancelar"}),a.jsx(Me,{onClick:g,disabled:h.isPending,children:"Guardar cambios"})]})]})})]})},XH=()=>{const{user:t,isAdmin:e,isLoading:r}=sr(),n=zr();return y.useEffect(()=>{!r&&(!t||!e)&&n("/")},[t,e,r,n]),r?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):!t||!e?null:a.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[a.jsx(xn,{}),a.jsxs("div",{className:"container mx-auto px-4 py-8 mt-16 flex-grow",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Panel de Administracin"}),a.jsx("p",{className:"text-muted-foreground mt-2",children:"Gestiona los sets de LEGO, el inventario y las piezas pendientes de compra."})]}),a.jsxs(oR,{defaultValue:"sets",className:"space-y-6",children:[a.jsxs(Nx,{className:"grid w-full grid-cols-3 lg:w-[400px]",children:[a.jsxs(Si,{value:"sets",className:"flex items-center gap-2",children:[a.jsx(Ai,{className:"h-4 w-4"}),"Sets"]}),a.jsxs(Si,{value:"purchase",className:"flex items-center gap-2",children:[a.jsx(hM,{className:"h-4 w-4"}),"Compra piezas"]}),a.jsxs(Si,{value:"inventory",className:"flex items-center gap-2",children:[a.jsx(YI,{className:"h-4 w-4"}),"Inventario"]})]}),a.jsx(ji,{value:"sets",children:a.jsx(YH,{})}),a.jsx(ji,{value:"purchase",children:a.jsx(QH,{})}),a.jsx(ji,{value:"inventory",children:a.jsx(ZH,{})})]})]}),a.jsx(wn,{})]})},JH=()=>{const t=Oo(),[e,r]=y.useState("initial"),[n,s]=y.useState([]),[o,c]=y.useState([]),[u,f]=y.useState(!1),[h,p]=y.useState(null),[g,v]=y.useState({open:!1,userName:"",userEmail:"",errorMessage:"",errorCode:""}),w=xs({mutationFn:async()=>{const{data:A,error:L}=await Ye.rpc("preview_assign_sets_to_users");if(L)throw L;return A},onSuccess:A=>{A.length>0?(s(A),r("preview"),it.success(`Se encontraron ${A.length} asignaciones posibles`)):it.info("No se encontraron asignaciones posibles (sin usuarios elegibles o sin stock)")},onError:A=>{it.error("Error al generar propuesta: "+A.message)}}),S=xs({mutationFn:async A=>{const L=[];for(const M of A){const{data:H,error:V}=await Ye.functions.invoke("process-assignment-payment",{body:{userId:M.user_id,setRef:M.set_ref,setPrice:M.set_price||100}});if(V||!H?.success){L.length>0&&console.warn("Previous successful payments before error:",L.map(z=>({depositId:z.depositPaymentIntentId,transportId:z.transportPaymentIntentId})));const{data:J}=await Ye.from("users").select("email").eq("user_id",M.user_id).single();throw{userName:M.user_name,userEmail:H?.userEmail||J?.email||"Email no disponible",errorMessage:H?.error||V?.message||"Error desconocido",errorCode:H?.errorCode||"unknown"}}L.push(H)}const O=A.map(M=>M.user_id),{data:C,error:R}=await Ye.rpc("confirm_assign_sets_to_users",{p_user_ids:O});if(R)throw console.error("Database operation failed after payments. Manual cleanup may be needed:"),console.error("Payment IntentIDs:",L.map(M=>({depositId:M.depositPaymentIntentId,transportId:M.transportPaymentIntentId,note:"Transport already captured - may need refund. Deposit can be cancelled."}))),new Error(`Error en base de datos: ${R.message}. Los pagos fueron procesados pero las asignaciones no se guardaron. Revisa Stripe Dashboard.`);return C},onSuccess:A=>{c(A),r("confirmed"),s([]),it.success(`xito! Se procesaron ${A.length} pagos y asignaciones`),t.invalidateQueries({queryKey:["admin-set-assignment-inventory"]}),t.invalidateQueries({queryKey:["admin-shipments"]})},onError:A=>{A.userName&&A.errorMessage?v({open:!0,userName:A.userName,userEmail:A.userEmail,errorMessage:A.errorMessage,errorCode:A.errorCode}):it.error("Error al confirmar asignaciones: "+(A.message||A))}}),b=xs({mutationFn:async A=>{const{error:L}=await Ye.rpc("delete_assignment_and_rollback",{p_envio_id:A});if(L)throw L},onSuccess:()=>{it.success("Asignacin eliminada correctamente"),h&&c(A=>A.filter(L=>L.envio_id!==h)),t.invalidateQueries({queryKey:["admin-set-assignment-inventory"]}),t.invalidateQueries({queryKey:["admin-shipments"]})},onError:A=>{it.error("Error al eliminar asignacin: "+A.message)}}),j=()=>{c([]),w.mutate()},N=()=>{S.mutate(n)},E=()=>{s([]),r("initial"),it.info("Propuesta cancelada")},k=A=>{p(A),f(!0)},P=()=>{h&&b.mutate(h),f(!1),p(null)};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs(Rr,{children:[a.jsxs(ll,{className:"flex flex-row items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(cl,{children:"Asignacin Automtica de Sets"}),a.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[e==="initial"&&"Genera una propuesta de asignaciones basada en wishlists y stock disponible",e==="preview"&&"Revisa la propuesta y confrmala o canclala",e==="confirmed"&&"Asignaciones confirmadas - puedes eliminar aqu si es necesario"]})]}),a.jsxs("div",{className:"flex gap-2",children:[e==="initial"&&a.jsxs(Me,{onClick:j,disabled:w.isPending,className:"bg-primary hover:bg-primary/90",children:[w.isPending?a.jsx(hm,{className:"h-4 w-4 mr-2 animate-spin"}):a.jsx(Fy,{className:"h-4 w-4 mr-2"}),"Genera propuesta de asignacin"]}),e==="preview"&&a.jsxs(a.Fragment,{children:[a.jsxs(Me,{onClick:E,variant:"outline",disabled:S.isPending,children:[a.jsx(XI,{className:"h-4 w-4 mr-2"}),"Cancelar"]}),a.jsxs(Me,{onClick:N,disabled:S.isPending,className:"bg-green-600 hover:bg-green-700",children:[S.isPending?a.jsx(hm,{className:"h-4 w-4 mr-2 animate-spin"}):a.jsx(Ly,{className:"h-4 w-4 mr-2"}),"Confirmar asignaciones"]})]}),e==="confirmed"&&a.jsxs(Me,{onClick:()=>r("initial"),variant:"outline",children:[a.jsx(hm,{className:"h-4 w-4 mr-2"}),"Nueva propuesta"]})]})]}),a.jsxs(Fr,{children:[e==="initial"&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Fb,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:'Haz clic en "Genera propuesta de asignacin" para ver qu sets se asignaran.'})]}),e==="preview"&&a.jsxs("div",{children:[a.jsx("div",{className:"mb-4 p-4 bg-blue-50 dark:bg-blue-950 rounded-lg border border-blue-200 dark:border-blue-800",children:a.jsxs("p",{className:"text-sm text-blue-900 dark:text-blue-100",children:[a.jsx("strong",{children:"Vista previa:"})," Esta es una propuesta. No se han realizado cambios en la base de datos. Revisa las asignaciones y confirma o cancela."]})}),a.jsx("div",{className:"rounded-md border",children:a.jsxs($i,{children:[a.jsx(Vi,{children:a.jsxs(Br,{children:[a.jsx(Je,{children:"Usuario"}),a.jsx(Je,{children:"Set Propuesto (Ref)"}),a.jsx(Je,{className:"text-center",children:"Stock Actual"})]})}),a.jsx(Ui,{children:n.map(A=>a.jsxs(Br,{children:[a.jsx(et,{className:"font-medium",children:A.user_name}),a.jsxs(et,{children:[A.set_name," (",A.set_ref,")"]}),a.jsx(et,{className:"text-center",children:a.jsxs($r,{variant:"outline",children:[A.current_stock," disponible"]})})]},A.user_id))})]})})]}),e==="confirmed"&&a.jsx("div",{children:o.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Fb,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"No hay asignaciones confirmadas."})]}):a.jsx("div",{className:"rounded-md border",children:a.jsxs($i,{children:[a.jsx(Vi,{children:a.jsxs(Br,{children:[a.jsx(Je,{children:"Usuario"}),a.jsx(Je,{children:"Set (Ref)"}),a.jsx(Je,{children:"Fecha"}),a.jsx(Je,{className:"text-center",children:"Acciones"})]})}),a.jsx(Ui,{children:o.map(A=>a.jsxs(Br,{children:[a.jsx(et,{className:"font-medium",children:A.user_name}),a.jsxs(et,{children:[A.set_name," (",A.set_ref,")"]}),a.jsx(et,{children:new Date(A.created_at).toLocaleDateString()}),a.jsx(et,{className:"text-center",children:a.jsx(Me,{variant:"ghost",size:"sm",onClick:()=>k(A.envio_id),disabled:b.isPending,className:"text-destructive hover:text-destructive hover:bg-destructive/10",children:a.jsx(zy,{className:"h-4 w-4"})})})]},A.envio_id))})]})})})]})]}),a.jsx(my,{open:u,onOpenChange:f,children:a.jsxs(bf,{children:[a.jsxs(_f,{children:[a.jsx(jf,{children:"Eliminar asignacin?"}),a.jsx(kf,{children:'Esta accin eliminar el envo, el pedido asociado y devolver el set al inventario. El estado del usuario se actualizar a "sin set".'})]}),a.jsxs(Sf,{children:[a.jsx(Ex,{children:"Cancelar"}),a.jsx(Ef,{onClick:P,className:"bg-destructive hover:bg-destructive/90",children:"Eliminar"})]})]})}),a.jsx(my,{open:g.open,onOpenChange:A=>v({...g,open:A}),children:a.jsxs(bf,{children:[a.jsxs(_f,{children:[a.jsx(jf,{children:"Error en el Procesamiento de Pago"}),a.jsxs(kf,{className:"space-y-2",children:[a.jsxs("div",{children:[a.jsx("strong",{children:"Usuario:"})," ",g.userName]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Email:"})," ",g.userEmail]}),a.jsxs("div",{className:"mt-2 p-3 bg-red-50 dark:bg-red-950 rounded border border-red-200 dark:border-red-800",children:[a.jsx("strong",{children:"Error:"})," ",g.errorMessage]}),g.errorCode==="insufficient_funds"&&a.jsx("div",{className:"mt-2 text-sm text-muted-foreground",children:"El usuario no tiene fondos suficientes para completar la transaccin. La asignacin no se ha realizado."})]})]}),a.jsx(Sf,{children:a.jsx(Ef,{onClick:()=>v({open:!1,userName:"",userEmail:"",errorMessage:"",errorCode:""}),children:"Aceptar"})})]})})]})},dP=()=>{const{user:t,isOperador:e,isAdmin:r}=sr();return Io({queryKey:["admin-shipments"],queryFn:async()=>{if(!t||!e&&!r)throw new Error("Unauthorized");const{data:n,error:s}=await Ye.from("envios").select(`
                    *,
                    users:user_id (
                        full_name,
                        email,
                        user_id
                    )
                `).order("created_at",{ascending:!1});if(s)throw s;return n},enabled:!!t&&(e||r)})},eK=()=>{const{data:t,isLoading:e}=dP(),r=t?.filter(s=>["preparacion","ruta_envio","devolucion","ruta_devolucion"].includes(s.estado_envio)).sort((s,o)=>new Date(o.updated_at).getTime()-new Date(s.updated_at).getTime()),n=s=>{switch(s){case"preparacion":return a.jsx($r,{variant:"outline",className:"bg-yellow-100 text-yellow-800 border-yellow-300",children:"En Preparacin"});case"ruta_envio":return a.jsx($r,{variant:"outline",className:"bg-blue-100 text-blue-800 border-blue-300",children:"En Camino"});case"devolucion":return a.jsx($r,{variant:"outline",className:"bg-orange-100 text-orange-800 border-orange-300",children:"Devolucin Solicitada"});case"ruta_devolucion":return a.jsx($r,{variant:"outline",className:"bg-green-100 text-green-800 border-green-300",children:"En Devolucin"});default:return a.jsx($r,{variant:"outline",children:s})}};return e?a.jsx("div",{className:"animate-pulse space-y-4",children:[1,2,3].map(s=>a.jsx("div",{className:"h-12 bg-muted rounded"},s))}):!r||r.length===0?a.jsxs("div",{className:"text-center py-12 bg-card rounded-xl border border-dashed border-border",children:[a.jsx(Ai,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),a.jsx("p",{className:"text-muted-foreground text-lg",children:"No hay envos activos registrados."})]}):a.jsx("div",{className:"bg-card rounded-xl border border-border overflow-hidden",children:a.jsx("div",{className:"max-h-[600px] overflow-y-auto",children:a.jsxs($i,{children:[a.jsx(Vi,{className:"sticky top-0 bg-card z-10",children:a.jsxs(Br,{children:[a.jsx(Je,{children:"Email"}),a.jsx(Je,{children:"Set Ref"}),a.jsx(Je,{children:"Estado Envo"}),a.jsx(Je,{children:"Direccin Envo"}),a.jsx(Je,{children:"ltima Actualizacin"})]})}),a.jsx(Ui,{children:r.map(s=>a.jsxs(Br,{children:[a.jsx(et,{className:"font-medium",children:s.users?.email||"-"}),a.jsx(et,{children:s.set_ref||"-"}),a.jsx(et,{children:n(s.estado_envio)}),a.jsx(et,{children:s.direccion_envio||"-"}),a.jsx(et,{className:"text-sm text-muted-foreground",children:new Date(s.updated_at).toLocaleDateString()})]},s.id))})]})})})};function ns(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Po(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const fP=6048e5,tK=864e5;let rK={};function bh(){return rK}function Fc(t,e){const r=bh(),n=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,s=ns(t),o=s.getDay(),c=(o<n?7:0)+o-n;return s.setDate(s.getDate()-c),s.setHours(0,0,0,0),s}function Of(t){return Fc(t,{weekStartsOn:1})}function hP(t){const e=ns(t),r=e.getFullYear(),n=Po(t,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const s=Of(n),o=Po(t,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const c=Of(o);return e.getTime()>=s.getTime()?r+1:e.getTime()>=c.getTime()?r:r-1}function ej(t){const e=ns(t);return e.setHours(0,0,0,0),e}function tj(t){const e=ns(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function nK(t,e){const r=ej(t),n=ej(e),s=+r-tj(r),o=+n-tj(n);return Math.round((s-o)/tK)}function sK(t){const e=hP(t),r=Po(t,0);return r.setFullYear(e,0,4),r.setHours(0,0,0,0),Of(r)}function iK(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function oK(t){if(!iK(t)&&typeof t!="number")return!1;const e=ns(t);return!isNaN(Number(e))}function aK(t){const e=ns(t),r=Po(t,0);return r.setFullYear(e.getFullYear(),0,1),r.setHours(0,0,0,0),r}const lK={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},cK=(t,e,r)=>{let n;const s=lK[t];return typeof s=="string"?n=s:e===1?n=s.one:n=s.other.replace("{{count}}",e.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Fa(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const uK={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},dK={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},fK={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},hK={date:Fa({formats:uK,defaultWidth:"full"}),time:Fa({formats:dK,defaultWidth:"full"}),dateTime:Fa({formats:fK,defaultWidth:"full"})},pK={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},mK=(t,e,r,n)=>pK[t];function hs(t){return(e,r)=>{const n=r?.context?String(r.context):"standalone";let s;if(n==="formatting"&&t.formattingValues){const c=t.defaultFormattingWidth||t.defaultWidth,u=r?.width?String(r.width):c;s=t.formattingValues[u]||t.formattingValues[c]}else{const c=t.defaultWidth,u=r?.width?String(r.width):t.defaultWidth;s=t.values[u]||t.values[c]}const o=t.argumentCallback?t.argumentCallback(e):e;return s[o]}}const gK={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},yK={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},vK={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},xK={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},wK={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},bK={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},_K=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},SK={ordinalNumber:_K,era:hs({values:gK,defaultWidth:"wide"}),quarter:hs({values:yK,defaultWidth:"wide",argumentCallback:t=>t-1}),month:hs({values:vK,defaultWidth:"wide"}),day:hs({values:xK,defaultWidth:"wide"}),dayPeriod:hs({values:wK,defaultWidth:"wide",formattingValues:bK,defaultFormattingWidth:"wide"})};function ps(t){return(e,r={})=>{const n=r.width,s=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],o=e.match(s);if(!o)return null;const c=o[0],u=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],f=Array.isArray(u)?kK(u,g=>g.test(c)):jK(u,g=>g.test(c));let h;h=t.valueCallback?t.valueCallback(f):f,h=r.valueCallback?r.valueCallback(h):h;const p=e.slice(c.length);return{value:h,rest:p}}}function jK(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function kK(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function pP(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const s=n[0],o=e.match(t.parsePattern);if(!o)return null;let c=t.valueCallback?t.valueCallback(o[0]):o[0];c=r.valueCallback?r.valueCallback(c):c;const u=e.slice(s.length);return{value:c,rest:u}}}const EK=/^(\d+)(th|st|nd|rd)?/i,CK=/\d+/i,NK={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},TK={any:[/^b/i,/^(a|c)/i]},RK={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},PK={any:[/1/i,/2/i,/3/i,/4/i]},AK={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},OK={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},IK={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},MK={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},DK={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},LK={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},FK={ordinalNumber:pP({matchPattern:EK,parsePattern:CK,valueCallback:t=>parseInt(t,10)}),era:ps({matchPatterns:NK,defaultMatchWidth:"wide",parsePatterns:TK,defaultParseWidth:"any"}),quarter:ps({matchPatterns:RK,defaultMatchWidth:"wide",parsePatterns:PK,defaultParseWidth:"any",valueCallback:t=>t+1}),month:ps({matchPatterns:AK,defaultMatchWidth:"wide",parsePatterns:OK,defaultParseWidth:"any"}),day:ps({matchPatterns:IK,defaultMatchWidth:"wide",parsePatterns:MK,defaultParseWidth:"any"}),dayPeriod:ps({matchPatterns:DK,defaultMatchWidth:"any",parsePatterns:LK,defaultParseWidth:"any"})},$K={code:"en-US",formatDistance:cK,formatLong:hK,formatRelative:mK,localize:SK,match:FK,options:{weekStartsOn:0,firstWeekContainsDate:1}};function VK(t){const e=ns(t);return nK(e,aK(e))+1}function UK(t){const e=ns(t),r=+Of(e)-+sK(e);return Math.round(r/fP)+1}function mP(t,e){const r=ns(t),n=r.getFullYear(),s=bh(),o=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,c=Po(t,0);c.setFullYear(n+1,0,o),c.setHours(0,0,0,0);const u=Fc(c,e),f=Po(t,0);f.setFullYear(n,0,o),f.setHours(0,0,0,0);const h=Fc(f,e);return r.getTime()>=u.getTime()?n+1:r.getTime()>=h.getTime()?n:n-1}function BK(t,e){const r=bh(),n=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,s=mP(t,e),o=Po(t,0);return o.setFullYear(s,0,n),o.setHours(0,0,0,0),Fc(o,e)}function zK(t,e){const r=ns(t),n=+Fc(r,e)-+BK(r,e);return Math.round(n/fP)+1}function xt(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const mi={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return xt(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):xt(r+1,2)},d(t,e){return xt(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];default:return r==="am"?"a.m.":"p.m."}},h(t,e){return xt(t.getHours()%12||12,e.length)},H(t,e){return xt(t.getHours(),e.length)},m(t,e){return xt(t.getMinutes(),e.length)},s(t,e){return xt(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return xt(s,e.length)}},ba={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},rj={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return mi.y(t,e)},Y:function(t,e,r,n){const s=mP(t,n),o=s>0?s:1-s;if(e==="YY"){const c=o%100;return xt(c,2)}return e==="Yo"?r.ordinalNumber(o,{unit:"year"}):xt(o,e.length)},R:function(t,e){const r=hP(t);return xt(r,e.length)},u:function(t,e){const r=t.getFullYear();return xt(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return xt(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return xt(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return mi.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return xt(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const s=zK(t,n);return e==="wo"?r.ordinalNumber(s,{unit:"week"}):xt(s,e.length)},I:function(t,e,r){const n=UK(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):xt(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):mi.d(t,e)},D:function(t,e,r){const n=VK(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):xt(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const s=t.getDay(),o=(s-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return xt(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const s=t.getDay(),o=(s-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return xt(o,e.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),s=n===0?7:n;switch(e){case"i":return String(s);case"ii":return xt(s,e.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let s;switch(n===12?s=ba.noon:n===0?s=ba.midnight:s=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let s;switch(n>=17?s=ba.evening:n>=12?s=ba.afternoon:n>=4?s=ba.morning:s=ba.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return mi.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):mi.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):xt(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):xt(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):mi.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):mi.s(t,e)},S:function(t,e){return mi.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return sj(n);case"XXXX":case"XX":return uo(n);default:return uo(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return sj(n);case"xxxx":case"xx":return uo(n);default:return uo(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+nj(n,":");default:return"GMT"+uo(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+nj(n,":");default:return"GMT"+uo(n,":")}},t:function(t,e,r){const n=Math.trunc(t.getTime()/1e3);return xt(n,e.length)},T:function(t,e,r){const n=t.getTime();return xt(n,e.length)}};function nj(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),s=Math.trunc(n/60),o=n%60;return o===0?r+String(s):r+String(s)+e+xt(o,2)}function sj(t,e){return t%60===0?(t>0?"-":"+")+xt(Math.abs(t)/60,2):uo(t,e)}function uo(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),s=xt(Math.trunc(n/60),2),o=xt(n%60,2);return r+s+e+o}const ij=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});default:return e.date({width:"full"})}},gP=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});default:return e.time({width:"full"})}},WK=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return ij(t,e);let o;switch(n){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",ij(n,e)).replace("{{time}}",gP(s,e))},qK={p:gP,P:WK},HK=/^D+$/,KK=/^Y+$/,GK=["D","DD","YY","YYYY"];function YK(t){return HK.test(t)}function QK(t){return KK.test(t)}function ZK(t,e,r){const n=XK(t,e,r);if(console.warn(n),GK.includes(t))throw new RangeError(n)}function XK(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const JK=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,eG=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,tG=/^'([^]*?)'?$/,rG=/''/g,nG=/[a-zA-Z]/;function sG(t,e,r){const n=bh(),s=r?.locale??n.locale??$K,o=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,c=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,u=ns(t);if(!oK(u))throw new RangeError("Invalid time value");let f=e.match(eG).map(p=>{const g=p[0];if(g==="p"||g==="P"){const v=qK[g];return v(p,s.formatLong)}return p}).join("").match(JK).map(p=>{if(p==="''")return{isToken:!1,value:"'"};const g=p[0];if(g==="'")return{isToken:!1,value:iG(p)};if(rj[g])return{isToken:!0,value:p};if(g.match(nG))throw new RangeError("Format string contains an unescaped latin alphabet character `"+g+"`");return{isToken:!1,value:p}});s.localize.preprocessor&&(f=s.localize.preprocessor(u,f));const h={firstWeekContainsDate:o,weekStartsOn:c,locale:s};return f.map(p=>{if(!p.isToken)return p.value;const g=p.value;(!r?.useAdditionalWeekYearTokens&&QK(g)||!r?.useAdditionalDayOfYearTokens&&YK(g))&&ZK(g,e,String(t));const v=rj[g[0]];return v(u,g,s.localize,h)}).join("")}function iG(t){const e=t.match(tG);return e?e[1].replace(rG,"'"):t}const oG={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 da",other:"{{count}} das"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 ao",other:"alrededor de {{count}} aos"},xYears:{one:"1 ao",other:"{{count}} aos"},overXYears:{one:"ms de 1 ao",other:"ms de {{count}} aos"},almostXYears:{one:"casi 1 ao",other:"casi {{count}} aos"}},aG=(t,e,r)=>{let n;const s=oG[t];return typeof s=="string"?n=s:e===1?n=s.one:n=s.other.replace("{{count}}",e.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"en "+n:"hace "+n:n},lG={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},cG={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},uG={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},dG={date:Fa({formats:lG,defaultWidth:"full"}),time:Fa({formats:cG,defaultWidth:"full"}),dateTime:Fa({formats:uG,defaultWidth:"full"})},fG={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'maana a la' p",nextWeek:"eeee 'a la' p",other:"P"},hG={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'maana a las' p",nextWeek:"eeee 'a las' p",other:"P"},pG=(t,e,r,n)=>e.getHours()!==1?hG[t]:fG[t],mG={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","despus de cristo"]},gG={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},yG={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},vG={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","s"],abbreviated:["dom","lun","mar","mi","jue","vie","sb"],wide:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"]},xG={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"}},wG={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},bG=(t,e)=>Number(t)+"",_G={ordinalNumber:bG,era:hs({values:mG,defaultWidth:"wide"}),quarter:hs({values:gG,defaultWidth:"wide",argumentCallback:t=>Number(t)-1}),month:hs({values:yG,defaultWidth:"wide"}),day:hs({values:vG,defaultWidth:"wide"}),dayPeriod:hs({values:xG,defaultWidth:"wide",formattingValues:wG,defaultFormattingWidth:"wide"})},SG=/^(\d+)()?/i,jG=/\d+/i,kG={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[u]n|despu[e]s de cristo|era com[u]n)/i},EG={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[u]n)/i,/^(despu[e]s de cristo|era com[u]n)/i]},CG={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},NG={any:[/1/i,/2/i,/3/i,/4/i]},TG={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},RG={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},PG={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[a])/i,abbreviated:/^(dom|lun|mar|mi[e]|jue|vie|s[a]b)/i,wide:/^(domingo|lunes|martes|mi[e]rcoles|jueves|viernes|s[a]bado)/i},AG={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},OG={narrow:/^(a|p|mn|md|(de la|a las) (maana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (maana|tarde|noche))/i},IG={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/maana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},MG={ordinalNumber:pP({matchPattern:SG,parsePattern:jG,valueCallback:function(t){return parseInt(t,10)}}),era:ps({matchPatterns:kG,defaultMatchWidth:"wide",parsePatterns:EG,defaultParseWidth:"any"}),quarter:ps({matchPatterns:CG,defaultMatchWidth:"wide",parsePatterns:NG,defaultParseWidth:"any",valueCallback:t=>t+1}),month:ps({matchPatterns:TG,defaultMatchWidth:"wide",parsePatterns:RG,defaultParseWidth:"any"}),day:ps({matchPatterns:PG,defaultMatchWidth:"wide",parsePatterns:AG,defaultParseWidth:"any"}),dayPeriod:ps({matchPatterns:OG,defaultMatchWidth:"any",parsePatterns:IG,defaultParseWidth:"any"})},DG={code:"es",formatDistance:aG,formatLong:dG,formatRelative:pG,localize:_G,match:MG,options:{weekStartsOn:1,firstWeekContainsDate:1}},LG=()=>{const{data:t,isLoading:e}=dP(),r=t?.filter(s=>["devuelto","en_transito_retorno"].includes(s.estado_envio)||s.fecha_solicitud_devolucion!==null),n=s=>{if(!s)return"-";try{return sG(new Date(s),"dd/MM/yyyy",{locale:DG})}catch{return"-"}};return e?a.jsx("div",{className:"animate-pulse space-y-4",children:[1,2,3].map(s=>a.jsx("div",{className:"h-12 bg-muted rounded"},s))}):!r||r.length===0?a.jsxs("div",{className:"text-center py-12 bg-card rounded-xl border border-dashed border-border",children:[a.jsx(Bj,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),a.jsx("p",{className:"text-muted-foreground text-lg",children:"No hay devoluciones registradas o en proceso."})]}):a.jsx("div",{className:"bg-card rounded-xl border border-border overflow-x-auto",children:a.jsxs($i,{children:[a.jsx(Vi,{children:a.jsxs(Br,{children:[a.jsx(Je,{children:"ID_usuario"}),a.jsx(Je,{children:"set_num"}),a.jsx(Je,{children:"fecha_asignacio"}),a.jsx(Je,{children:"fecha_recogida_al"}),a.jsx(Je,{children:"proveedor_envio"}),a.jsx(Je,{children:"fecha_entrega_u"}),a.jsx(Je,{children:"fecha_solicitud_devoluc"}),a.jsx(Je,{children:"proveedor_recogida"}),a.jsx(Je,{children:"fecha_entrega_usuario"}),a.jsx(Je,{children:"fecha_recepcion_almac"})]})}),a.jsx(Ui,{children:r.map(s=>a.jsxs(Br,{children:[a.jsx(et,{className:"font-medium text-xs truncate max-w-[100px]",title:s.users?.full_name||s.user_id,children:s.users?.full_name||s.user_id.substring(0,8)}),a.jsx(et,{children:s.orders?.sets?.set_ref||"-"}),a.jsx(et,{children:n(s.fecha_asignada)}),a.jsx(et,{children:n(s.fecha_recogida_almacen)}),a.jsx(et,{children:s.proveedor_envio||"-"}),a.jsx(et,{children:n(s.fecha_entrega_real)}),a.jsx(et,{children:n(s.fecha_solicitud_devolucion)}),a.jsx(et,{children:s.proveedor_recogida||"-"}),a.jsx(et,{children:n(s.fecha_entrega_usuario)}),a.jsx(et,{children:n(s.fecha_recepcion_almacen)})]},s.id))})]})})},FG=()=>{const{user:t,isOperador:e,isAdmin:r,isLoading:n}=sr(),s=zr();return y.useEffect(()=>{!n&&(!t||!e&&!r)&&s("/")},[t,e,r,n,s]),n?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):!t||!e&&!r?null:a.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[a.jsx(xn,{}),a.jsxs("div",{className:"container mx-auto px-4 py-8 mt-16 flex-grow",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Panel de Operaciones"}),a.jsx("p",{className:"text-muted-foreground mt-2",children:"Gestin logstica, envos, devoluciones y mantenimiento de sets."})]}),a.jsxs(oR,{defaultValue:"assignment",className:"space-y-6",children:[a.jsxs(Nx,{className:"grid w-full grid-cols-4 lg:w-[600px]",children:[a.jsxs(Si,{value:"assignment",className:"flex items-center gap-2",children:[a.jsx(vM,{className:"h-4 w-4"}),"Asignacin sets"]}),a.jsxs(Si,{value:"shipments",className:"flex items-center gap-2",children:[a.jsx(bo,{className:"h-4 w-4"}),"Envos"]}),a.jsxs(Si,{value:"returns",className:"flex items-center gap-2",children:[a.jsx(Bj,{className:"h-4 w-4"}),"Devoluciones"]}),a.jsxs(Si,{value:"maintenance",className:"flex items-center gap-2",children:[a.jsx(Vb,{className:"h-4 w-4"}),"Mantenimiento"]})]}),a.jsx(ji,{value:"assignment",className:"space-y-4",children:a.jsx(JH,{})}),a.jsx(ji,{value:"shipments",children:a.jsx(eK,{})}),a.jsx(ji,{value:"returns",children:a.jsx(LG,{})}),a.jsx(ji,{value:"maintenance",children:a.jsxs("div",{className:"bg-card p-8 rounded-xl border border-border text-center",children:[a.jsx(Vb,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),a.jsx("h3",{className:"text-lg font-semibold",children:"Taller de Mantenimiento"}),a.jsx("p",{className:"text-muted-foreground",children:"Prximamente: Registro de higienizacin y conteo de piezas."})]})})]})]}),a.jsx(wn,{})]})},oj=()=>a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx(xn,{}),a.jsx("main",{className:"pt-24 pb-16",children:a.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-4xl",children:a.jsxs(fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[a.jsx("h1",{className:"text-3xl sm:text-4xl font-display font-bold text-foreground mb-8",children:"Poltica de Privacidad"}),a.jsxs("div",{className:"prose prose-slate max-w-none text-muted-foreground space-y-6",children:[a.jsx("p",{children:"ltima actualizacin: 18 de enero de 2026"}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"1. Responsable del Tratamiento"}),a.jsx("p",{children:"Brickshare S.L., con domicilio en Calle de la Innovacin, 42, 28001 Madrid, Espaa, es responsable del tratamiento de sus datos personales."})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"2. Datos que Recopilamos"}),a.jsx("p",{children:"Recopilamos informacin necesaria para la gestin de su cuenta y suscripcin: nombre completo, correo electrnico y datos de uso de la plataforma."})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"3. Finalidad del Tratamiento"}),a.jsx("p",{children:"Sus datos se utilizan para: proveer el servicio de suscripcin circular de LEGO, gestionar sus listas de deseos, informar sobre el impacto social y mejorar nuestro servicio."})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"4. Base Legal"}),a.jsx("p",{children:"La base legal para el tratamiento es la ejecucin de un contrato (trminos de uso) y su consentimiento explcito proporcionado al registrarse."})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"5. Sus Derechos (RGPD)"}),a.jsx("p",{children:"Usted tiene derecho a acceder, rectificar, suprimir (derecho al olvido), oponerse, limitar el tratamiento y solicitar la portabilidad de sus datos. Puede ejercerlos enviando un correo a hola@brickshare.es."})]})]})]})})}),a.jsx(wn,{})]}),$G=()=>a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx(xn,{}),a.jsx("main",{className:"pt-24 pb-16",children:a.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-4xl",children:a.jsxs(fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[a.jsx("h1",{className:"text-3xl sm:text-4xl font-display font-bold text-foreground mb-8",children:"Trminos de Uso"}),a.jsxs("div",{className:"prose prose-slate max-w-none text-muted-foreground space-y-6",children:[a.jsxs("section",{className:"space-y-4",children:[a.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"1. Objeto"}),a.jsx("p",{children:"Estos trminos regulan el acceso y uso del servicio de suscripcin circular de LEGO proporcionado por Brickshare."})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"2. Uso del Servicio"}),a.jsx("p",{children:"El usuario se compromete a hacer un uso lcito y adecuado de los materiales alquilados, devolvindolos en las condiciones pactadas."})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"3. Suscripciones"}),a.jsx("p",{children:"La suscripcin es personal e intransferible. Los planes se facturan mensualmente y pueden cancelarse en cualquier momento con efecto al final del periodo actual."})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"4. Limitacin de Responsabilidad"}),a.jsx("p",{children:"Brickshare no se hace responsable de las pequeas piezas que puedan perderse durante el uso, aunque agradecemos su notificacin para reposicin."})]})]})]})})}),a.jsx(wn,{})]}),VG=()=>a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx(xn,{}),a.jsx("main",{className:"pt-24 pb-16",children:a.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-4xl",children:a.jsxs(fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[a.jsx("h1",{className:"text-3xl sm:text-4xl font-display font-bold text-foreground mb-8",children:"Aviso Legal"}),a.jsxs("div",{className:"prose prose-slate max-w-none text-muted-foreground space-y-6",children:[a.jsxs("section",{className:"space-y-4",children:[a.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Informacin General"}),a.jsx("p",{children:"En cumplimiento del artculo 10 de la Ley 34/2002, de 11 de julio, de Servicios de la Sociedad de la Informacin y Comercio Electrnico (LSSICE), se exponen los datos identificativos de la empresa:"}),a.jsxs("ul",{className:"list-disc pl-5 space-y-2",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Denominacin Social:"})," Brickshare S.L."]}),a.jsxs("li",{children:[a.jsx("strong",{children:"NIF:"})," B12345678"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Domicilio:"})," Calle de la Innovacin, 42, 28001 Madrid"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Email:"})," hola@brickshare.es"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Telfono:"})," +34 900 123 456"]})]})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Propiedad Intelectual"}),a.jsx("p",{children:"Todos los contenidos del sitio web (logos, textos, diseos) son propiedad de Brickshare o cuentan con licencia de uso."})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Aviso sobre Marcas Registradas"}),a.jsxs("p",{children:["LEGO es una marca registrada de The LEGO Group of Companies (TLG).",a.jsx("strong",{children:" Brickshare S.L. no est patrocinado, autorizado, ni respaldado por The LEGO Group."})]}),a.jsx("p",{children:"Este servicio consiste en el alquiler de productos LEGO originales, adquiridos legalmente en el mercado. No fabricamos, modificamos ni distribuimos productos bajo la marca LEGO."}),a.jsx("p",{children:'El uso de la palabra "LEGO" en este sitio es meramente descriptivo para indicar la compatibilidad y naturaleza de los productos disponibles en nuestro servicio de alquiler, amparado bajo el principio de uso nominativo de marcas (nominative fair use).'})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Naturaleza del Servicio"}),a.jsx("p",{children:"Brickshare es un servicio de alquiler y economa circular que permite a las familias acceder temporalmente a sets de construccin LEGO originales. Este modelo de negocio est protegido por el principio de agotamiento del derecho de marca (doctrina de la primera venta), que permite la reventa y alquiler de productos de marca adquiridos legtimamente."})]})]})]})})}),a.jsx(wn,{})]});var yP=["PageUp","PageDown"],vP=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],xP={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},dl="Slider",[Sy,UG,BG]=Ya(dl),[wP]=Sr(dl,[BG]),[zG,_h]=wP(dl),bP=y.forwardRef((t,e)=>{const{name:r,min:n=0,max:s=100,step:o=1,orientation:c="horizontal",disabled:u=!1,minStepsBetweenThumbs:f=0,defaultValue:h=[n],value:p,onValueChange:g=()=>{},onValueCommit:v=()=>{},inverted:w=!1,form:S,...b}=t,j=y.useRef(new Set),N=y.useRef(0),k=c==="horizontal"?WG:qG,[P=[],A]=yn({prop:p,defaultProp:h,onChange:H=>{[...j.current][N.current]?.focus(),g(H)}}),L=y.useRef(P);function O(H){const V=QG(P,H);M(H,V)}function C(H){M(H,N.current)}function R(){const H=L.current[N.current];P[N.current]!==H&&v(P)}function M(H,V,{commit:J}={commit:!1}){const z=eY(o),oe=tY(Math.round((H-n)/o)*o+n,z),se=Pf(oe,[n,s]);A((X=[])=>{const U=GG(X,se,V);if(JG(U,f*o)){N.current=U.indexOf(se);const F=String(U)!==String(X);return F&&J&&v(U),F?U:X}else return X})}return a.jsx(zG,{scope:t.__scopeSlider,name:r,disabled:u,min:n,max:s,valueIndexToChangeRef:N,thumbs:j.current,values:P,orientation:c,form:S,children:a.jsx(Sy.Provider,{scope:t.__scopeSlider,children:a.jsx(Sy.Slot,{scope:t.__scopeSlider,children:a.jsx(k,{"aria-disabled":u,"data-disabled":u?"":void 0,...b,ref:e,onPointerDown:ge(b.onPointerDown,()=>{u||(L.current=P)}),min:n,max:s,inverted:w,onSlideStart:u?void 0:O,onSlideMove:u?void 0:C,onSlideEnd:u?void 0:R,onHomeKeyDown:()=>!u&&M(n,0,{commit:!0}),onEndKeyDown:()=>!u&&M(s,P.length-1,{commit:!0}),onStepKeyDown:({event:H,direction:V})=>{if(!u){const oe=yP.includes(H.key)||H.shiftKey&&vP.includes(H.key)?10:1,se=N.current,X=P[se],U=o*oe*V;M(X+U,se,{commit:!0})}}})})})})});bP.displayName=dl;var[_P,SP]=wP(dl,{startEdge:"left",endEdge:"right",size:"width",direction:1}),WG=y.forwardRef((t,e)=>{const{min:r,max:n,dir:s,inverted:o,onSlideStart:c,onSlideMove:u,onSlideEnd:f,onStepKeyDown:h,...p}=t,[g,v]=y.useState(null),w=Ge(e,k=>v(k)),S=y.useRef(void 0),b=Lo(s),j=b==="ltr",N=j&&!o||!j&&o;function E(k){const P=S.current||g.getBoundingClientRect(),A=[0,P.width],O=Fx(A,N?[r,n]:[n,r]);return S.current=P,O(k-P.left)}return a.jsx(_P,{scope:t.__scopeSlider,startEdge:N?"left":"right",endEdge:N?"right":"left",direction:N?1:-1,size:"width",children:a.jsx(jP,{dir:b,"data-orientation":"horizontal",...p,ref:w,style:{...p.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:k=>{const P=E(k.clientX);c?.(P)},onSlideMove:k=>{const P=E(k.clientX);u?.(P)},onSlideEnd:()=>{S.current=void 0,f?.()},onStepKeyDown:k=>{const A=xP[N?"from-left":"from-right"].includes(k.key);h?.({event:k,direction:A?-1:1})}})})}),qG=y.forwardRef((t,e)=>{const{min:r,max:n,inverted:s,onSlideStart:o,onSlideMove:c,onSlideEnd:u,onStepKeyDown:f,...h}=t,p=y.useRef(null),g=Ge(e,p),v=y.useRef(void 0),w=!s;function S(b){const j=v.current||p.current.getBoundingClientRect(),N=[0,j.height],k=Fx(N,w?[n,r]:[r,n]);return v.current=j,k(b-j.top)}return a.jsx(_P,{scope:t.__scopeSlider,startEdge:w?"bottom":"top",endEdge:w?"top":"bottom",size:"height",direction:w?1:-1,children:a.jsx(jP,{"data-orientation":"vertical",...h,ref:g,style:{...h.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:b=>{const j=S(b.clientY);o?.(j)},onSlideMove:b=>{const j=S(b.clientY);c?.(j)},onSlideEnd:()=>{v.current=void 0,u?.()},onStepKeyDown:b=>{const N=xP[w?"from-bottom":"from-top"].includes(b.key);f?.({event:b,direction:N?-1:1})}})})}),jP=y.forwardRef((t,e)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:s,onSlideEnd:o,onHomeKeyDown:c,onEndKeyDown:u,onStepKeyDown:f,...h}=t,p=_h(dl,r);return a.jsx(Ae.span,{...h,ref:e,onKeyDown:ge(t.onKeyDown,g=>{g.key==="Home"?(c(g),g.preventDefault()):g.key==="End"?(u(g),g.preventDefault()):yP.concat(vP).includes(g.key)&&(f(g),g.preventDefault())}),onPointerDown:ge(t.onPointerDown,g=>{const v=g.target;v.setPointerCapture(g.pointerId),g.preventDefault(),p.thumbs.has(v)?v.focus():n(g)}),onPointerMove:ge(t.onPointerMove,g=>{g.target.hasPointerCapture(g.pointerId)&&s(g)}),onPointerUp:ge(t.onPointerUp,g=>{const v=g.target;v.hasPointerCapture(g.pointerId)&&(v.releasePointerCapture(g.pointerId),o(g))})})}),kP="SliderTrack",EP=y.forwardRef((t,e)=>{const{__scopeSlider:r,...n}=t,s=_h(kP,r);return a.jsx(Ae.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...n,ref:e})});EP.displayName=kP;var jy="SliderRange",CP=y.forwardRef((t,e)=>{const{__scopeSlider:r,...n}=t,s=_h(jy,r),o=SP(jy,r),c=y.useRef(null),u=Ge(e,c),f=s.values.length,h=s.values.map(v=>RP(v,s.min,s.max)),p=f>1?Math.min(...h):0,g=100-Math.max(...h);return a.jsx(Ae.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...n,ref:u,style:{...t.style,[o.startEdge]:p+"%",[o.endEdge]:g+"%"}})});CP.displayName=jy;var ky="SliderThumb",NP=y.forwardRef((t,e)=>{const r=UG(t.__scopeSlider),[n,s]=y.useState(null),o=Ge(e,u=>s(u)),c=y.useMemo(()=>n?r().findIndex(u=>u.ref.current===n):-1,[r,n]);return a.jsx(HG,{...t,ref:o,index:c})}),HG=y.forwardRef((t,e)=>{const{__scopeSlider:r,index:n,name:s,...o}=t,c=_h(ky,r),u=SP(ky,r),[f,h]=y.useState(null),p=Ge(e,E=>h(E)),g=f?c.form||!!f.closest("form"):!0,v=Wf(f),w=c.values[n],S=w===void 0?0:RP(w,c.min,c.max),b=YG(n,c.values.length),j=v?.[u.size],N=j?ZG(j,S,u.direction):0;return y.useEffect(()=>{if(f)return c.thumbs.add(f),()=>{c.thumbs.delete(f)}},[f,c.thumbs]),a.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[u.startEdge]:`calc(${S}% + ${N}px)`},children:[a.jsx(Sy.ItemSlot,{scope:t.__scopeSlider,children:a.jsx(Ae.span,{role:"slider","aria-label":t["aria-label"]||b,"aria-valuemin":c.min,"aria-valuenow":w,"aria-valuemax":c.max,"aria-orientation":c.orientation,"data-orientation":c.orientation,"data-disabled":c.disabled?"":void 0,tabIndex:c.disabled?void 0:0,...o,ref:p,style:w===void 0?{display:"none"}:t.style,onFocus:ge(t.onFocus,()=>{c.valueIndexToChangeRef.current=n})})}),g&&a.jsx(TP,{name:s??(c.name?c.name+(c.values.length>1?"[]":""):void 0),form:c.form,value:w},n)]})});NP.displayName=ky;var KG="RadioBubbleInput",TP=y.forwardRef(({__scopeSlider:t,value:e,...r},n)=>{const s=y.useRef(null),o=Ge(s,n),c=lh(e);return y.useEffect(()=>{const u=s.current;if(!u)return;const f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"value").set;if(c!==e&&p){const g=new Event("input",{bubbles:!0});p.call(u,e),u.dispatchEvent(g)}},[c,e]),a.jsx(Ae.input,{style:{display:"none"},...r,ref:o,defaultValue:e})});TP.displayName=KG;function GG(t=[],e,r){const n=[...t];return n[r]=e,n.sort((s,o)=>s-o)}function RP(t,e,r){const o=100/(r-e)*(t-e);return Pf(o,[0,100])}function YG(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function QG(t,e){if(t.length===1)return 0;const r=t.map(s=>Math.abs(s-e)),n=Math.min(...r);return r.indexOf(n)}function ZG(t,e,r){const n=t/2,o=Fx([0,50],[0,n]);return(n-o(e)*r)*r}function XG(t){return t.slice(0,-1).map((e,r)=>t[r+1]-e)}function JG(t,e){if(e>0){const r=XG(t);return Math.min(...r)>=e}return!0}function Fx(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function eY(t){return(String(t).split(".")[1]||"").length}function tY(t,e){const r=Math.pow(10,e);return Math.round(t*r)/r}var PP=bP,rY=EP,nY=CP,sY=NP;const AP=y.forwardRef(({className:t,...e},r)=>a.jsxs(PP,{ref:r,className:be("relative flex w-full touch-none select-none items-center",t),...e,children:[a.jsx(rY,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:a.jsx(nY,{className:"absolute h-full bg-primary"})}),a.jsx(sY,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));AP.displayName=PP.displayName;var $x="Radio",[iY,OP]=Sr($x),[oY,aY]=iY($x),IP=y.forwardRef((t,e)=>{const{__scopeRadio:r,name:n,checked:s=!1,required:o,disabled:c,value:u="on",onCheck:f,form:h,...p}=t,[g,v]=y.useState(null),w=Ge(e,j=>v(j)),S=y.useRef(!1),b=g?h||!!g.closest("form"):!0;return a.jsxs(oY,{scope:r,checked:s,disabled:c,children:[a.jsx(Ae.button,{type:"button",role:"radio","aria-checked":s,"data-state":FP(s),"data-disabled":c?"":void 0,disabled:c,value:u,...p,ref:w,onClick:ge(t.onClick,j=>{s||f?.(),b&&(S.current=j.isPropagationStopped(),S.current||j.stopPropagation())})}),b&&a.jsx(LP,{control:g,bubbles:!S.current,name:n,value:u,checked:s,required:o,disabled:c,form:h,style:{transform:"translateX(-100%)"}})]})});IP.displayName=$x;var MP="RadioIndicator",DP=y.forwardRef((t,e)=>{const{__scopeRadio:r,forceMount:n,...s}=t,o=aY(MP,r);return a.jsx(rn,{present:n||o.checked,children:a.jsx(Ae.span,{"data-state":FP(o.checked),"data-disabled":o.disabled?"":void 0,...s,ref:e})})});DP.displayName=MP;var lY="RadioBubbleInput",LP=y.forwardRef(({__scopeRadio:t,control:e,checked:r,bubbles:n=!0,...s},o)=>{const c=y.useRef(null),u=Ge(c,o),f=lh(r),h=Wf(e);return y.useEffect(()=>{const p=c.current;if(!p)return;const g=window.HTMLInputElement.prototype,w=Object.getOwnPropertyDescriptor(g,"checked").set;if(f!==r&&w){const S=new Event("click",{bubbles:n});w.call(p,r),p.dispatchEvent(S)}},[f,r,n]),a.jsx(Ae.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:u,style:{...s.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});LP.displayName=lY;function FP(t){return t?"checked":"unchecked"}var cY=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Sh="RadioGroup",[uY]=Sr(Sh,[al,OP]),$P=al(),VP=OP(),[dY,fY]=uY(Sh),UP=y.forwardRef((t,e)=>{const{__scopeRadioGroup:r,name:n,defaultValue:s,value:o,required:c=!1,disabled:u=!1,orientation:f,dir:h,loop:p=!0,onValueChange:g,...v}=t,w=$P(r),S=Lo(h),[b,j]=yn({prop:o,defaultProp:s??null,onChange:g,caller:Sh});return a.jsx(dY,{scope:r,name:n,required:c,disabled:u,value:b,onValueChange:j,children:a.jsx(Qv,{asChild:!0,...w,orientation:f,dir:S,loop:p,children:a.jsx(Ae.div,{role:"radiogroup","aria-required":c,"aria-orientation":f,"data-disabled":u?"":void 0,dir:S,...v,ref:e})})})});UP.displayName=Sh;var BP="RadioGroupItem",zP=y.forwardRef((t,e)=>{const{__scopeRadioGroup:r,disabled:n,...s}=t,o=fY(BP,r),c=o.disabled||n,u=$P(r),f=VP(r),h=y.useRef(null),p=Ge(e,h),g=o.value===s.value,v=y.useRef(!1);return y.useEffect(()=>{const w=b=>{cY.includes(b.key)&&(v.current=!0)},S=()=>v.current=!1;return document.addEventListener("keydown",w),document.addEventListener("keyup",S),()=>{document.removeEventListener("keydown",w),document.removeEventListener("keyup",S)}},[]),a.jsx(Zv,{asChild:!0,...u,focusable:!c,active:g,children:a.jsx(IP,{disabled:c,required:o.required,checked:g,...f,...s,name:o.name,ref:p,onCheck:()=>o.onValueChange(s.value),onKeyDown:ge(w=>{w.key==="Enter"&&w.preventDefault()}),onFocus:ge(s.onFocus,()=>{v.current&&h.current?.click()})})})});zP.displayName=BP;var hY="RadioGroupIndicator",WP=y.forwardRef((t,e)=>{const{__scopeRadioGroup:r,...n}=t,s=VP(r);return a.jsx(DP,{...s,...n,ref:e})});WP.displayName=hY;var qP=UP,HP=zP,pY=WP;const Ey=y.forwardRef(({className:t,...e},r)=>a.jsx(qP,{className:be("grid gap-2",t),...e,ref:r}));Ey.displayName=qP.displayName;const ac=y.forwardRef(({className:t,...e},r)=>a.jsx(HP,{ref:r,className:be("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:a.jsx(pY,{className:"flex items-center justify-center",children:a.jsx(Uj,{className:"h-2.5 w-2.5 fill-current text-current"})})}));ac.displayName=HP.displayName;const mY=kx({nombre:rr().trim().min(1,"El nombre es obligatorio").max(100,"El nombre es demasiado largo"),email:rr().trim().email("El email no es vlido").max(255,"El email es demasiado largo"),telefono:rr().trim().max(20,"El telfono es demasiado largo").optional().or(gc("")),direccion:rr().trim().max(500,"La direccin es demasiado larga").optional().or(gc("")),peso_estimado:dq().min(1,"El peso mnimo es 1 kg").max(100,"El peso mximo es 100 kg"),metodo_entrega:VS(["punto-recogida","recogida-domicilio"],{errorMap:()=>({message:"Selecciona un mtodo de entrega"})}),recompensa:VS(["economica","social"],{errorMap:()=>({message:"Selecciona una recompensa"})})}),gY=()=>{const{toast:t}=js(),[e,r]=y.useState(!1),[n,s]=y.useState(null);return{submitDonation:async u=>{r(!0),s(null);const f=mY.safeParse(u);if(!f.success){const h=f.error.errors[0]?.message||"Datos invlidos";return t({title:"Error de validacin",description:h,variant:"destructive"}),r(!1),{success:!1,error:h}}try{const{data:h,error:p}=await Ye.functions.invoke("submit-donation",{body:f.data});if(p)return t({title:"Error",description:"No se pudo registrar la donacin. Intntalo de nuevo.",variant:"destructive"}),r(!1),{success:!1,error:p.message};if(h?.error)return t({title:"Error",description:h.error,variant:"destructive"}),r(!1),{success:!1,error:h.error};t({title:"Donacin registrada!",description:"Recibirs un email con los detalles."});const g={success:!0,donation:h.donation};return s(g),r(!1),g}catch{return t({title:"Error",description:"Ocurri un error inesperado. Intntalo de nuevo.",variant:"destructive"}),r(!1),{success:!1,error:"Error inesperado"}}},isLoading:e,result:n,resetResult:()=>s(null)}},yY=()=>{const[t,e]=y.useState([5]),[r,n]=y.useState(""),[s,o]=y.useState(1),[c,u]=y.useState({nombre:"",email:"",telefono:"",direccion:"",pesoEstimado:"",metodoEntrega:"punto-recogida"}),{submitDonation:f,isLoading:h,result:p}=gY(),g=t[0]*2,v=(t[0]*2.5).toFixed(1),w=[{icon:Ai,title:"Mtelos en una caja",description:"Te enviaremos una caja. No importa si estn sucios o mezclados."},{icon:Ib,title:"Descarga tu etiqueta",description:"Etiqueta de envo gratuita lista para imprimir."},{icon:bo,title:"Envalo sin coste",description:"Djalo en un punto de recogida o pide recogida a domicilio."}],S=[{question:"Tengo que lavarlos?",answer:"No, nosotros aplicamos un proceso de desinfeccin profesional. Recibimos las piezas tal cual estn y nos encargamos de dejarlas como nuevas."},{question:"Y si hay piezas que no son LEGO?",answer:"No te preocupes, las reciclaremos responsablemente por ti. Separamos los materiales y nos aseguramos de darles el mejor destino posible."},{question:"Cunto tiempo tarda el proceso?",answer:"Una vez recibamos tu donacin, en 3-5 das hbiles procesamos las piezas y te enviamos la confirmacin junto con tu recompensa elegida."},{question:"Hay un mnimo de peso para donar?",answer:"Aceptamos donaciones desde 1kg. Cada pieza cuenta y puede hacer feliz a un nio."}],b=async()=>{if(!r)return;const E=parseFloat(c.pesoEstimado)||t[0];(await f({nombre:c.nombre,email:c.email,telefono:c.telefono||void 0,direccion:c.direccion||void 0,peso_estimado:E,metodo_entrega:c.metodoEntrega,recompensa:r})).success&&o(4)},j=()=>{s===3?b():s<4&&o(s+1)},N=()=>{s>1&&o(s-1)};return a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx(xn,{}),a.jsxs("main",{children:[a.jsxs("section",{className:"relative pt-32 pb-20 overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 gradient-hero opacity-10"}),a.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 relative",children:a.jsxs(fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"max-w-4xl mx-auto text-center",children:[a.jsxs(fe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.2},className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-primary/10 text-primary mb-6",children:[a.jsx(Xn,{className:"h-4 w-4"}),a.jsx("span",{className:"text-sm font-medium",children:"Dona y transforma vidas"})]}),a.jsxs("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-display font-bold text-foreground mb-6 leading-tight",children:["No dejes que sus sueos"," ",a.jsx("span",{className:"text-gradient",children:"acumulen polvo"}),a.jsx("br",{}),"Reactiva tu LEGO"]}),a.jsx("p",{className:"text-lg md:text-xl text-muted-foreground mb-8 max-w-2xl mx-auto",children:"Convierte tus piezas olvidadas en nuevas oportunidades para otros nios. Sin limpiar, sin ordenar. Nosotros nos encargamos del resto."}),a.jsxs(Me,{size:"lg",className:"gradient-hero text-primary-foreground px-8 py-6 text-lg rounded-xl shadow-lg hover:shadow-xl transition-all",children:[a.jsx(Xn,{className:"mr-2 h-5 w-5"}),"Empezar mi Donacin"]})]})})]}),a.jsx("section",{className:"py-20 bg-muted/30",children:a.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs(fe.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-16",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-display font-bold text-foreground mb-4",children:"Cero esfuerzo, mximo impacto"}),a.jsx("p",{className:"text-muted-foreground text-lg max-w-2xl mx-auto",children:"Donar nunca fue tan fcil. Solo tres pasos y listo."})]}),a.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:w.map((E,k)=>a.jsx(fe.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:k*.1},children:a.jsx(Rr,{className:"h-full border-0 shadow-card hover:shadow-card-hover transition-all duration-300 bg-card",children:a.jsxs(Fr,{className:"p-8 text-center",children:[a.jsx("div",{className:"w-16 h-16 mx-auto mb-6 rounded-2xl gradient-hero flex items-center justify-center",children:a.jsx(E.icon,{className:"h-8 w-8 text-primary-foreground"})}),a.jsx("div",{className:"inline-flex items-center justify-center w-8 h-8 rounded-full bg-primary/10 text-primary font-bold text-sm mb-4",children:k+1}),a.jsx("h3",{className:"text-xl font-display font-semibold text-foreground mb-3",children:E.title}),a.jsx("p",{className:"text-muted-foreground",children:E.description})]})})},k))})]})}),a.jsx("section",{className:"py-20",children:a.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs(fe.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"max-w-3xl mx-auto",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-display font-bold text-foreground mb-4",children:"Calcula tu impacto"}),a.jsx("p",{className:"text-muted-foreground text-lg",children:"Descubre cuntos nios pueden beneficiarse de tu donacin"})]}),a.jsx(Rr,{className:"border-0 shadow-card bg-card",children:a.jsxs(Fr,{className:"p-8 md:p-12",children:[a.jsxs("div",{className:"mb-10",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx(kt,{className:"text-lg font-medium",children:"Kilos aproximados"}),a.jsxs("span",{className:"text-3xl font-display font-bold text-primary",children:[t[0]," kg"]})]}),a.jsx(AP,{value:t,onValueChange:e,max:50,min:1,step:1,className:"w-full"}),a.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground mt-2",children:[a.jsx("span",{children:"1 kg"}),a.jsx("span",{children:"50 kg"})]})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsxs(fe.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},className:"p-6 rounded-2xl bg-primary/5 border border-primary/10",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx("div",{className:"p-2 rounded-xl bg-primary/10",children:a.jsx(zc,{className:"h-5 w-5 text-primary"})}),a.jsx("span",{className:"text-muted-foreground font-medium",children:"Nios beneficiados"})]}),a.jsxs("p",{className:"text-4xl font-display font-bold text-foreground",children:[g,a.jsx("span",{className:"text-lg font-normal text-muted-foreground ml-2",children:"/ mes"})]})]},`ninos-${t[0]}`),a.jsxs(fe.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},className:"p-6 rounded-2xl bg-accent/50 border border-accent",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx("div",{className:"p-2 rounded-xl bg-accent",children:a.jsx(iM,{className:"h-5 w-5 text-accent-foreground"})}),a.jsx("span",{className:"text-muted-foreground font-medium",children:"CO evitado"})]}),a.jsxs("p",{className:"text-4xl font-display font-bold text-foreground",children:[v,a.jsx("span",{className:"text-lg font-normal text-muted-foreground ml-2",children:"kg"})]})]},`co2-${t[0]}`)]})]})})]})})}),a.jsx("section",{className:"py-20 bg-muted/30",children:a.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs(fe.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-12",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-display font-bold text-foreground mb-4",children:"Elige tu recompensa"}),a.jsx("p",{className:"text-muted-foreground text-lg max-w-2xl mx-auto",children:"Agradecemos tu generosidad. Elige cmo quieres que te lo devolvamos."})]}),a.jsx("div",{className:"max-w-4xl mx-auto",children:a.jsxs(Ey,{value:r,onValueChange:E=>n(E),className:"grid md:grid-cols-2 gap-6",children:[a.jsx(fe.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},children:a.jsx(kt,{htmlFor:"economica",className:"cursor-pointer",children:a.jsx(Rr,{className:`h-full border-2 transition-all duration-300 ${r==="economica"?"border-primary shadow-lg":"border-transparent shadow-card hover:shadow-card-hover"}`,children:a.jsx(Fr,{className:"p-8",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx(ac,{value:"economica",id:"economica",className:"mt-1"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"w-12 h-12 rounded-xl gradient-hero flex items-center justify-center mb-4",children:a.jsx(Mb,{className:"h-6 w-6 text-primary-foreground"})}),a.jsx("h3",{className:"text-xl font-display font-semibold text-foreground mb-2",children:"Opcin Econmica"}),a.jsxs("p",{className:"text-muted-foreground mb-4",children:["Vale por un descuento de ",a.jsx("span",{className:"font-semibold text-primary",children:"5"})," en una suscripcin Brick Master por cada kg donado."]}),a.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-primary/10 text-primary text-sm font-medium",children:[a.jsx(Mb,{className:"h-3 w-3"}),"Ahorra en tu prxima suscripcin"]})]})]})})})})}),a.jsx(fe.div,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},viewport:{once:!0},children:a.jsx(kt,{htmlFor:"social",className:"cursor-pointer",children:a.jsx(Rr,{className:`h-full border-2 transition-all duration-300 ${r==="social"?"border-primary shadow-lg":"border-transparent shadow-card hover:shadow-card-hover"}`,children:a.jsx(Fr,{className:"p-8",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx(ac,{value:"social",id:"social",className:"mt-1"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"w-12 h-12 rounded-xl gradient-impact flex items-center justify-center mb-4",children:a.jsx(Xn,{className:"h-6 w-6 text-primary-foreground"})}),a.jsx("h3",{className:"text-xl font-display font-semibold text-foreground mb-2",children:"Opcin Social"}),a.jsxs("p",{className:"text-muted-foreground mb-4",children:["Dona ",a.jsx("span",{className:"font-semibold text-primary",children:"3"})," por kg en concepto de suscripcin a centros colaboradores de BrickShare."]}),a.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-accent text-accent-foreground text-sm font-medium",children:[a.jsx(Xn,{className:"h-3 w-3"}),"Multiplica tu impacto social"]})]})]})})})})})]})})]})}),a.jsx("section",{className:"py-20",children:a.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs(fe.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-12",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-display font-bold text-foreground mb-4",children:"Completa tu donacin"}),a.jsx("p",{className:"text-muted-foreground text-lg",children:"Solo unos datos ms y estars listo para enviar"})]}),a.jsxs("div",{className:"max-w-2xl mx-auto",children:[a.jsx("div",{className:"flex justify-between mb-8",children:[1,2,3,4].map(E=>a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-semibold transition-all ${s>=E?"gradient-hero text-primary-foreground":"bg-muted text-muted-foreground"}`,children:E}),E<4&&a.jsx("div",{className:`w-full h-1 mx-2 rounded ${s>E?"bg-primary":"bg-muted"}`,style:{width:"60px"}})]},E))}),a.jsx(Rr,{className:"border-0 shadow-card",children:a.jsxs(Fr,{className:"p-8",children:[s===1&&a.jsxs(fe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-6",children:[a.jsx("h3",{className:"text-xl font-display font-semibold mb-6",children:"Datos de contacto"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(kt,{htmlFor:"nombre",children:"Nombre completo"}),a.jsx(ut,{id:"nombre",value:c.nombre,onChange:E=>u({...c,nombre:E.target.value}),placeholder:"Tu nombre",className:"mt-2"})]}),a.jsxs("div",{children:[a.jsx(kt,{htmlFor:"email",children:"Email"}),a.jsx(ut,{id:"email",type:"email",value:c.email,onChange:E=>u({...c,email:E.target.value}),placeholder:"tu@email.com",className:"mt-2"})]}),a.jsxs("div",{children:[a.jsx(kt,{htmlFor:"telefono",children:"Telfono"}),a.jsx(ut,{id:"telefono",value:c.telefono,onChange:E=>u({...c,telefono:E.target.value}),placeholder:"+34 600 000 000",className:"mt-2"})]})]})]}),s===2&&a.jsxs(fe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-6",children:[a.jsx("h3",{className:"text-xl font-display font-semibold mb-6",children:"Peso estimado y fotos"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(kt,{htmlFor:"peso",children:"Peso estimado (kg)"}),a.jsx(ut,{id:"peso",type:"number",value:c.pesoEstimado,onChange:E=>u({...c,pesoEstimado:E.target.value}),placeholder:"Ej: 5",className:"mt-2"})]}),a.jsxs("div",{children:[a.jsx(kt,{children:"Fotos (opcional)"}),a.jsxs("div",{className:"mt-2 border-2 border-dashed border-muted-foreground/30 rounded-xl p-8 text-center hover:border-primary/50 transition-colors cursor-pointer",children:[a.jsx(Gj,{className:"h-10 w-10 mx-auto text-muted-foreground mb-3"}),a.jsx("p",{className:"text-muted-foreground",children:"Arrastra fotos aqu o haz clic para subir"}),a.jsx("p",{className:"text-sm text-muted-foreground/70 mt-1",children:"Nos ayuda a preparar mejor el proceso"})]})]})]})]}),s===3&&a.jsxs(fe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-6",children:[a.jsx("h3",{className:"text-xl font-display font-semibold mb-6",children:"Mtodo de entrega"}),a.jsxs(Ey,{value:c.metodoEntrega,onValueChange:E=>u({...c,metodoEntrega:E}),className:"space-y-4",children:[a.jsx(kt,{htmlFor:"punto-recogida",className:"cursor-pointer",children:a.jsx(Rr,{className:`border-2 transition-all ${c.metodoEntrega==="punto-recogida"?"border-primary":"border-transparent"}`,children:a.jsxs(Fr,{className:"p-4 flex items-center gap-4",children:[a.jsx(ac,{value:"punto-recogida",id:"punto-recogida"}),a.jsx(ms,{className:"h-6 w-6 text-primary"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Punto de recogida"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Djalo en un punto cercano"})]})]})})}),a.jsx(kt,{htmlFor:"recogida-domicilio",className:"cursor-pointer",children:a.jsx(Rr,{className:`border-2 transition-all ${c.metodoEntrega==="recogida-domicilio"?"border-primary":"border-transparent"}`,children:a.jsxs(Fr,{className:"p-4 flex items-center gap-4",children:[a.jsx(ac,{value:"recogida-domicilio",id:"recogida-domicilio"}),a.jsx(bo,{className:"h-6 w-6 text-primary"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Recogida a domicilio"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Pasamos a buscarlo"})]})]})})})]}),c.metodoEntrega==="recogida-domicilio"&&a.jsxs(fe.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"pt-4",children:[a.jsx(kt,{htmlFor:"direccion",children:"Direccin de recogida"}),a.jsx(ut,{id:"direccion",value:c.direccion,onChange:E=>u({...c,direccion:E.target.value}),placeholder:"Tu direccin completa",className:"mt-2"})]})]}),s===4&&a.jsxs(fe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"text-center space-y-6",children:[a.jsx("div",{className:"w-20 h-20 mx-auto rounded-full gradient-hero flex items-center justify-center",children:a.jsx(Ly,{className:"h-10 w-10 text-primary-foreground"})}),a.jsx("h3",{className:"text-xl font-display font-semibold",children:"Todo listo!"}),a.jsx("p",{className:"text-muted-foreground",children:"Tu donacin ha sido registrada. Te hemos enviado un email con los detalles."}),p?.donation&&a.jsxs("div",{className:"bg-muted/50 rounded-xl p-6 text-left space-y-3",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Cdigo de seguimiento:"}),a.jsx("span",{className:"font-semibold text-primary",children:p.donation.tracking_code})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Nios beneficiados:"}),a.jsxs("span",{className:"font-medium",children:[p.donation.ninos_beneficiados," / mes"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"CO evitado:"}),a.jsxs("span",{className:"font-medium",children:[p.donation.co2_evitado," kg"]})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[a.jsxs(Me,{className:"gradient-hero text-primary-foreground",children:[a.jsx(Ib,{className:"mr-2 h-4 w-4"}),"Descargar etiqueta PDF"]}),a.jsxs(Me,{variant:"outline",children:[a.jsx(uM,{className:"mr-2 h-4 w-4"}),"Ver cdigo QR"]})]})]}),s<4&&a.jsxs("div",{className:"flex justify-between mt-8 pt-6 border-t",children:[a.jsx(Me,{variant:"outline",onClick:N,disabled:s===1||h,children:"Anterior"}),a.jsx(Me,{onClick:j,className:"gradient-hero text-primary-foreground",disabled:h||s===3&&!r,children:h?a.jsxs(a.Fragment,{children:[a.jsx(Yt,{className:"mr-2 h-4 w-4 animate-spin"}),"Procesando..."]}):s===3?"Confirmar donacin":"Siguiente"})]})]})})]})]})}),a.jsx("section",{className:"py-20 bg-muted/30",children:a.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs(fe.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-12",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-display font-bold text-foreground mb-4",children:"Preguntas frecuentes"}),a.jsx("p",{className:"text-muted-foreground text-lg",children:"Resolvemos tus dudas sobre el proceso de donacin"})]}),a.jsx("div",{className:"max-w-3xl mx-auto",children:a.jsx(u2,{type:"single",collapsible:!0,className:"space-y-4",children:S.map((E,k)=>a.jsx(fe.div,{initial:{opacity:0,y:10},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:k*.1},children:a.jsxs(bx,{value:`item-${k}`,className:"border rounded-xl px-6 bg-card shadow-sm",children:[a.jsx(_x,{className:"text-left font-medium hover:no-underline py-5",children:E.question}),a.jsx(Sx,{className:"text-muted-foreground pb-5",children:E.answer})]})},k))})})]})})]}),a.jsx(wn,{})]})},vY=()=>a.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),a.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),a.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})}),xY=()=>{const[t,e]=y.useState(!1);y.useEffect(()=>{localStorage.getItem("cookie-consent")||e(!0)},[]);const r=()=>{localStorage.setItem("cookie-consent","all"),e(!1)},n=()=>{localStorage.setItem("cookie-consent","necessary"),e(!1)};return a.jsx(KC,{children:t&&a.jsx(fe.div,{initial:{opacity:0,y:100},animate:{opacity:1,y:0},exit:{opacity:0,y:100},className:"fixed bottom-0 left-0 right-0 z-50 p-4 md:p-6",children:a.jsx("div",{className:"container mx-auto max-w-7xl",children:a.jsx("div",{className:"bg-card border shadow-xl rounded-2xl p-6 md:p-8",children:a.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-6",children:[a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"mt-1 p-2 rounded-full bg-primary/10 text-primary",children:a.jsx(Hj,{className:"h-6 w-6"})}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Aviso de Cookies"}),a.jsxs("p",{className:"text-sm text-muted-foreground leading-relaxed",children:["Utilizamos cookies propias y de terceros para mejorar tu experiencia, analizar el trfico y personalizar el contenido segn tus preferencias. Puedes aceptar todas las cookies o configurar tus preferencias. Para ms informacin, consulta nuestra "," ",a.jsx(ot,{to:"/cookies",className:"text-primary hover:underline font-medium",children:"Poltica de Cookies"}),"."]})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full md:w-auto",children:[a.jsx(Me,{variant:"outline",onClick:n,className:"w-full sm:w-auto",children:"Solo necesarias"}),a.jsx(Me,{onClick:r,className:"w-full sm:w-auto gradient-hero",children:"Aceptar todas"}),a.jsx("button",{onClick:()=>e(!1),className:"absolute top-4 right-4 text-muted-foreground hover:text-foreground md:hidden",children:a.jsx(Ao,{className:"h-5 w-5"})})]})]})})})})})},wY=async({to:t,subject:e,html:r,from:n})=>{const{data:s,error:o}=await Ye.functions.invoke("send-email",{body:{to:t,subject:e,html:r,from:n}});if(o)throw console.error("Error sending email:",o),o;return s},bY=kx({name:rr().min(2,"El nombre debe tener al menos 2 caracteres"),email:rr().email("Email invlido"),subject:rr().min(5,"El asunto debe tener al menos 5 caracteres"),message:rr().min(10,"El mensaje debe tener al menos 10 caracteres")}),_Y=()=>{const{isAdmin:t,isOperador:e,isLoading:r}=sr(),n=zr(),[s,o]=y.useState(!1);if(y.useEffect(()=>{r||(t?n("/admin"):e&&n("/operaciones"))},[t,e,r,n]),r||t||e)return a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx(Yt,{className:"h-8 w-8 animate-spin text-primary"})});const c=xR({resolver:cP(bY),defaultValues:{name:"",email:"",subject:"",message:""}}),u=async f=>{o(!0);try{await wY({to:"hola@brickshare.es",subject:`Nuevo mensaje de contacto: ${f.subject}`,html:`
          <h3>Nuevo mensaje de contacto</h3>
          <p><strong>Nombre:</strong> ${f.name}</p>
          <p><strong>Email:</strong> ${f.email}</p>
          <p><strong>Asunto:</strong> ${f.subject}</p>
          <p><strong>Mensaje:</strong></p>
          <p>${f.message}</p>
        `}),it.success("Mensaje enviado correctamente. Nos pondremos en contacto contigo pronto."),c.reset()}catch(h){console.error(h),it.error("Hubo un error al enviar el mensaje. Por favor, intntalo de nuevo ms tarde.")}finally{o(!1)}};return a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx(xn,{}),a.jsx("main",{className:"pt-24 pb-16",children:a.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs(fe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center max-w-3xl mx-auto mb-16",children:[a.jsx("h1",{className:"text-4xl font-display font-bold text-foreground mb-4",children:"Contacto"}),a.jsx("p",{className:"text-lg text-muted-foreground",children:"Tienes alguna duda o sugerencia? Estamos aqu para ayudarte."})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 max-w-6xl mx-auto",children:[a.jsxs(fe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2},className:"space-y-8",children:[a.jsxs("div",{className:"bg-card rounded-2xl p-8 shadow-sm border border-border",children:[a.jsx("h3",{className:"text-xl font-bold mb-6",children:"Informacin de contacto"}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"p-3 rounded-xl bg-primary/10 text-primary",children:a.jsx($f,{className:"h-6 w-6"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold",children:"Email"}),a.jsx("p",{className:"text-muted-foreground",children:"hola@brickshare.es"})]})]}),a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"p-3 rounded-xl bg-primary/10 text-primary",children:a.jsx(Vf,{className:"h-6 w-6"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold",children:"Telfono"}),a.jsx("p",{className:"text-muted-foreground",children:"+34 900 123 456"})]})]}),a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"p-3 rounded-xl bg-primary/10 text-primary",children:a.jsx(ms,{className:"h-6 w-6"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold",children:"Ubicacin"}),a.jsxs("p",{className:"text-muted-foreground",children:["Calle de la Innovacin, 42",a.jsx("br",{}),"28001 Madrid, Espaa"]})]})]})]})]}),a.jsxs("div",{className:"bg-primary/5 rounded-2xl p-8 border border-primary/10",children:[a.jsx("h4",{className:"font-bold mb-2",children:"Horario de atencin"}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Lunes a Viernes: 9:00 - 18:00",a.jsx("br",{}),"Sbados: 10:00 - 14:00"]})]})]}),a.jsx(fe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},children:a.jsx(wR,{...c,children:a.jsxs("form",{onSubmit:c.handleSubmit(u),className:"bg-card rounded-2xl p-8 shadow-lg border border-border space-y-6",children:[a.jsx(br,{control:c.control,name:"name",render:({field:f})=>a.jsxs(cr,{children:[a.jsx(ur,{children:"Nombre"}),a.jsx(dr,{children:a.jsx(ut,{placeholder:"Tu nombre",...f})}),a.jsx(fr,{})]})}),a.jsx(br,{control:c.control,name:"email",render:({field:f})=>a.jsxs(cr,{children:[a.jsx(ur,{children:"Email"}),a.jsx(dr,{children:a.jsx(ut,{placeholder:"tu@email.com",...f})}),a.jsx(fr,{})]})}),a.jsx(br,{control:c.control,name:"subject",render:({field:f})=>a.jsxs(cr,{children:[a.jsx(ur,{children:"Asunto"}),a.jsx(dr,{children:a.jsx(ut,{placeholder:"En qu podemos ayudarte?",...f})}),a.jsx(fr,{})]})}),a.jsx(br,{control:c.control,name:"message",render:({field:f})=>a.jsxs(cr,{children:[a.jsx(ur,{children:"Mensaje"}),a.jsx(dr,{children:a.jsx(Tx,{placeholder:"Escribe tu mensaje aqu...",className:"min-h-[150px]",...f})}),a.jsx(fr,{})]})}),a.jsx(Me,{type:"submit",className:"w-full gradient-hero h-12 text-lg",disabled:s,children:s?a.jsxs(a.Fragment,{children:[a.jsx(Yt,{className:"mr-2 h-5 w-5 animate-spin"}),"Enviando..."]}):a.jsxs(a.Fragment,{children:[a.jsx(fM,{className:"mr-2 h-5 w-5"}),"Enviar mensaje"]})})]})})})]})]})}),a.jsx(wn,{})]})},SY=new ML,jY=()=>a.jsx(VL,{client:SY,children:a.jsx(L$,{children:a.jsxs(vL,{children:[a.jsx(rD,{}),a.jsx(ID,{}),a.jsxs(Z5,{children:[a.jsxs(z5,{children:[a.jsx(xr,{path:"/",element:a.jsx(sW,{})}),a.jsx(xr,{path:"/catalogo",element:a.jsx(vW,{})}),a.jsx(xr,{path:"/como-funciona",element:a.jsx(k7,{})}),a.jsx(xr,{path:"/sobre-nosotros",element:a.jsx(R7,{})}),a.jsx(xr,{path:"/blog",element:a.jsx(D7,{})}),a.jsx(xr,{path:"/auth",element:a.jsx(pq,{})}),a.jsx(xr,{path:"/contacto",element:a.jsx(_Y,{})}),a.jsx(xr,{path:"/dashboard",element:a.jsx(Dq,{})}),a.jsx(xr,{path:"/admin",element:a.jsx(XH,{})}),a.jsx(xr,{path:"/operaciones",element:a.jsx(FG,{})}),a.jsx(xr,{path:"/privacidad",element:a.jsx(oj,{})}),a.jsx(xr,{path:"/terminos",element:a.jsx($G,{})}),a.jsx(xr,{path:"/cookies",element:a.jsx(oj,{})})," ",a.jsx(xr,{path:"/aviso-legal",element:a.jsx(VG,{})}),a.jsx(xr,{path:"/donaciones",element:a.jsx(yY,{})}),a.jsx(xr,{path:"*",element:a.jsx(vY,{})})]}),a.jsx(xY,{})]})]})})});GO.createRoot(document.getElementById("root")).render(a.jsx(jY,{}));
